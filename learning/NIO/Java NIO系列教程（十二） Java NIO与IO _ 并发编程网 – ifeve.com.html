<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0032)http://ifeve.com/java-nio-vs-io/ -->
<html xmlns="http://www.w3.org/1999/xhtml"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<base target="_blank">--><base href="." target="_blank">
<meta name="baidu_union_verify" content="d30f7acd6a9a378cc0aeb0bd0ddfe30d">

<script async="" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9394337417063147",
    enable_page_level_ads: true
  });
</script>
<title>Java NIO系列教程（十二） Java NIO与IO | 并发编程网 – ifeve.com</title>
<meta name="description" content="让天下没有难学的技术">

<link rel="alternate" type="application/rss+xml" title="并发编程网 – ifeve.com RSS Feed" href="http://ifeve.com/feed/">
<link rel="alternate" type="application/atom+xml" title="并发编程网 – ifeve.com Atom Feed" href="http://ifeve.com/feed/atom/"> 
<link rel="pingback" href="http://ifeve.com/xmlrpc.php">

<link rel="stylesheet" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/style.css" type="text/css">
<link rel="stylesheet" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/comment-style.css" type="text/css">

 
<link rel="dns-prefetch" href="http://ajax.googleapis.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="并发编程网 - ifeve.com » Java NIO系列教程（十二） Java NIO与IO Comments Feed" href="http://ifeve.com/java-nio-vs-io/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/ifeve.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.5"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/wp-emoji-release.min.js" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="wpfp-css" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/wpfp.css" type="text/css">
<link rel="stylesheet" id="yarppWidgetCss-css" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/widget.css" type="text/css" media="all">
<link rel="stylesheet" id="jquery-ui-css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/themes/base/jquery-ui.css?ver=4.9.5" type="text/css" media="all">
<link rel="stylesheet" id="dwqa-style-css" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/style(1).css" type="text/css" media="all">
<link rel="stylesheet" id="dwqa-rtl-css" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/rtl.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-postratings-css" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/postratings-css.css" type="text/css" media="all">
<script type="text/javascript" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/jquery.js"></script><link rel="preload" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/integrator.js"><script type="text/javascript" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/integrator.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/jquery-migrate.min.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/wpfp.js"></script>
<link rel="https://api.w.org/" href="http://ifeve.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ifeve.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ifeve.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="剖析Disruptor:为什么会这么快？（一）Ringbuffer的特别之处" href="http://ifeve.com/dissecting-disruptor-whats-so-special/">
<link rel="next" title="剖析Disruptor:为什么会这么快？(三)揭秘内存屏障" href="http://ifeve.com/disruptor-memory-barrier/">
<meta name="generator" content="WordPress 4.9.5">
<link rel="canonical" href="http://ifeve.com/java-nio-vs-io/">
<link rel="shortlink" href="http://ifeve.com/?p=2693">
<link rel="alternate" type="application/json+oembed" href="http://ifeve.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fifeve.com%2Fjava-nio-vs-io%2F">
<link rel="alternate" type="text/xml+oembed" href="http://ifeve.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fifeve.com%2Fjava-nio-vs-io%2F&amp;format=xml">

<!-- StarBox - the Author Box for Humans 3.0.6, visit: http://wordpress.org/plugins/starbox/ -->
<!-- /StarBox - the Author Box for Humans -->

<link rel="stylesheet" id="frontend.css-css" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/frontend.css" type="text/css" media="all">
<script type="text/javascript" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/frontend.js"></script>
<link rel="stylesheet" id="hidedefault.css-css" href="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/hidedefault.css" type="text/css" media="all">
<style type="text/css" id="syntaxhighlighteranchor"></style>

<script type="text/javascript" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/jscript.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/comment.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/rollover.js"></script>

<!--[if IE 7]>
<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/ie7.css" type="text/css" />
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/ie8.css" type="text/css" />
<![endif]-->


<style type="text/css">
a, .post .title a:hover, .post_meta a:hover, #bread_crumb ul li a:hover, #previous_post a:hover, #next_post a:hover, .post a.more-link:hover, #right_col li a:hover, #copyright li a:hover, #archive_headline #keyword,
   #comments_wrapper a:hover, #comment_header_right .comment_switch_active a, #comment_header_right .comment_switch_active a:hover, #comment_pager .current
   { color:#00A19E; }

#no_post a.back:hover, #wp-calendar td a:hover, #wp-calendar #prev a:hover, #wp-calendar #next a:hover, .page_navi a:hover, #submit_comment:hover
 { background-color:#00A19E; }

#guest_info input:focus, #comment_textarea textarea:focus
 { border:1px solid #00A19E; }

a:hover
 { color:#BDC900; }

body { font-size:14px; }

#header { background:url(http://ifeve.com/wp-content/uploads/flat/bg.png) left top; }
.logo_text a { color:#F5F5F5; }
#site_description {  border-top:1px solid #BBBBBB; color:#D2D9CC; }


</style>

</head>

<body>

 <div id="header">
  <div class="header_menu">
    <ul id="menu-%e4%b8%bb%e8%8f%9c%e5%8d%95" class="menu"><li id="menu-item-16594" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-16594"><a href="http://ifeve.com/">首页</a></li>
<li id="menu-item-3432" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3432"><a href="http://ifeve.com/wp-login.php">登录</a></li>
<li id="menu-item-9219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-9219"><a href="http://ifeve.com/category/java/">JAVA</a>
<ul class="sub-menu">
	<li id="menu-item-16108" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16108"><a href="http://ifeve.com/java-io/">Java IO 教程</a></li>
	<li id="menu-item-5283" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5283"><a href="http://ifeve.com/java-nio-all/">Java NIO 教程</a></li>
	<li id="menu-item-17514" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17514"><a href="http://ifeve.com/java-reflection/">JAVA Reflection教程</a></li>
	<li id="menu-item-16239" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16239"><a href="http://ifeve.com/java-network">Java 网络教程</a></li>
	<li id="menu-item-4416" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4416"><a href="http://ifeve.com/java-concurrency-thread-directory/">Java并发和多线程</a></li>
	<li id="menu-item-2767" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2767"><a href="http://ifeve.com/jmm-cookbook/">Java内存模型指南</a></li>
	<li id="menu-item-2747" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2747"><a href="http://ifeve.com/jmm-faq/">Java内存模型FAQ</a></li>
	<li id="menu-item-2765" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2765"><a href="http://ifeve.com/syn-jmm/">同步与Java内存模型</a></li>
	<li id="menu-item-5789" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5789"><a href="http://ifeve.com/oracle-java-concurrency-tutorial/">Oracle官方并发教程</a></li>
	<li id="menu-item-15316" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15316"><a href="http://ifeve.com/jvm-optimize/">JVM性能优化系列</a></li>
	<li id="menu-item-15313" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15313"><a href="http://ifeve.com/useful-jvm-flags/">JVM实用参数系列</a></li>
</ul>
</li>
<li id="menu-item-7938" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7938"><a href="http://ifeve.com/category/c/">C++</a></li>
<li id="menu-item-9220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-9220"><a href="http://ifeve.com/category/framework/">Framework</a>
<ul class="sub-menu">
	<li id="menu-item-12798" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12798"><a href="http://ifeve.com/disruptor/">Disruptor 框架指南</a></li>
	<li id="menu-item-12783" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12783"><a title="Netty" href="http://ifeve.com/category/netty/">Netty</a></li>
	<li id="menu-item-12791" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12791"><a href="http://ifeve.com/category/scala/">Scala</a></li>
	<li id="menu-item-12312" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12312"><a href="http://ifeve.com/getting-started-with-stom-index/">Storm 入门</a></li>
	<li id="menu-item-9218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9218"><a href="http://ifeve.com/google-guava/">Guava 官方指南</a></li>
	<li id="menu-item-20471" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20471"><a href="http://ifeve.com/velocity-guide/">Apache Velocity 官方指南</a></li>
	<li id="menu-item-21439" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-21439"><a href="http://ifeve.com/storm-translation/">Apache Storm 官方文档</a></li>
</ul>
</li>
<li id="menu-item-555" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-555"><a href="http://ifeve.com/category/concurrency-translation/">其他译文</a>
<ul class="sub-menu">
	<li id="menu-item-2777" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2777"><a href="http://ifeve.com/java-concurrent/">并发基础</a></li>
	<li id="menu-item-3340" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3340"><a href="http://ifeve.com/aqs/">j.u.c同步框架</a></li>
	<li id="menu-item-2769" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2769"><a href="http://ifeve.com/fj/">Fork Join框架</a></li>
	<li id="menu-item-9221" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9221"><a href="http://ifeve.com/doug-lea/">Doug Lea 论文</a></li>
	<li id="menu-item-4643" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4643"><a href="http://ifeve.com/mechanical-sympathy/">Mechanical Sympathy</a></li>
	<li id="menu-item-6397" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6397"><a href="http://ifeve.com/stm/">软件事务内存导论</a></li>
	<li id="menu-item-10845" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10845"><a href="http://ifeve.com/jsr133-cn/">JSR133中文版</a></li>
</ul>
</li>
<li id="menu-item-103" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-103"><a href="http://ifeve.com/category/talk-concurrent/">本站原创</a>
<ul class="sub-menu">
	<li id="menu-item-2763" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2763"><a href="http://ifeve.com/talk-concurrency/">聊聊并发</a></li>
	<li id="menu-item-2753" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2753"><a href="http://ifeve.com/java-memory-model-0/">深入理解Java内存模型</a></li>
	<li id="menu-item-4862" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4862"><a href="http://ifeve.com/from-javaeye-sys-struct/">从Java视角理解系统结构</a></li>
	<li id="menu-item-4627" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4627"><a href="http://ifeve.com/ali-itu-agile/">阿里内贸团队敏捷实践</a></li>
</ul>
</li>
<li id="menu-item-7119" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-7119"><a href="http://ifeve.com/category/%e5%b9%b6%e5%8f%91%e4%b9%a6%e7%b1%8d/">并发书籍</a>
<ul class="sub-menu">
	<li id="menu-item-10846" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10846"><a href="http://ifeve.com/art-of-java-concurrent-program/">《Java 并发编程的艺术》迷你书</a></li>
	<li id="menu-item-6042" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6042"><a href="http://ifeve.com/perfbook/">《深入理解并行编程》</a></li>
	<li id="menu-item-9172" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9172"><a href="http://ifeve.com/c-plus-plus-concurrency-in-action/">《C++ 并发编程》</a></li>
	<li id="menu-item-7785" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7785"><a href="http://ifeve.com/java-7-concurrency-cookbook/">《Java 7 并发编程指南》</a></li>
	<li id="menu-item-7120" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7120"><a href="http://ifeve.com/jvm-concurrency">《Java 虚拟机并发编程》</a></li>
	<li id="menu-item-12360" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12360"><a href="http://ifeve.com/getting-started-with-stom-index/">《Storm入门》中文版</a></li>
</ul>
</li>
<li id="menu-item-17079" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17079"><a href="http://ifeve.com/questions/">面试题</a></li>
<li id="menu-item-22180" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-22180"><a href="http://ifeve.com/my-favorite/">我的收藏</a></li>
<li id="menu-item-9171" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-9171"><a href="http://ifeve.com/need-you/">加入我们</a>
<ul class="sub-menu">
	<li id="menu-item-3246" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3246"><a href="http://ifeve.com/contribute/">我要投稿</a></li>
	<li id="menu-item-6854" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6854"><a href="http://ifeve.com/neitui/">内推阿里</a></li>
</ul>
</li>
<li id="menu-item-105" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-105"><a href="http://ifeve.com/about-site/">关于本站</a>
<ul class="sub-menu">
	<li id="menu-item-11306" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11306"><a href="http://ifeve.com/category/%e6%b4%bb%e5%8a%a8/">活动</a></li>
	<li id="menu-item-1487" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1487"><a href="http://ifeve.com/sitemap.html">文章归档</a></li>
	<li id="menu-item-29361" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-29361"><a href="http://ifeve.com/author/">本站作者</a></li>
	<li id="menu-item-131" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-131"><a href="http://ifeve.com/about-site/about-me/">关于清英</a></li>
	<li id="menu-item-7600" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7600"><a href="http://ifeve.com/ads/">广告合作</a></li>
</ul>
</li>
</ul>    </div>
  <!-- logo -->
  <h1 class="logo_text"><a href="http://ifeve.com/">并发编程网 - ifeve.com</a></h1>
<h2 id="site_description">让天下没有难学的技术</h2>
 </div>

 <div id="main_content" class="clearfix">

  <div id="left_col">
      <div id="bread_crumb">
    <ul class="clearfix">
     <li id="bc_home"><a href="http://ifeve.com/" title="HOME">HOME</a></li>
     <li id="bc_cat"><a href="http://ifeve.com/category/concurrency-translation/">并发译文</a></li>     <li class="last">Java NIO系列教程（十二） Java NIO与IO</li>
    </ul>
   </div>
   
   
   <div class="post_wrap clearfix" id="single">
    <div class="post">
     <h3 class="title"><span>Java NIO系列教程（十二） Java NIO与IO</span></h3>
     <div class="post_content">
      <p>原文地址：<a href="http://tutorials.jenkov.com/java-nio/nio-vs-io.html" target="_blank">http://tutorials.jenkov.com/java-nio/nio-vs-io.html</a></p>
<p><strong>作者</strong>：Jakob Jenkov &nbsp;&nbsp;<strong>译者</strong>：郭蕾 &nbsp; &nbsp;<strong>校对：</strong>方腾飞</p>
<p>当学习了Java NIO和IO的API后，一个问题马上涌入脑海：</p>
<p>我应该何时使用IO，何时使用NIO呢？在本文中，我会尽量清晰地解析Java NIO和IO的差异、它们的使用场景，以及它们如何影响您的代码设计。</p>
<h1></h1>
<h1>Java NIO和IO的主要区别</h1>
<p>下表总结了Java NIO和IO之间的主要差别，我会更详细地描述表中每部分的差异。</p>
<pre><strong>IO</strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong>NIO</strong>
面向流 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;面向缓冲
阻塞IO &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  非阻塞IO
无                选择器</pre>
<h1><span id="more-2693"></span></h1>
<h1><strong>面向流与面向缓冲</strong></h1>
<p>Java NIO和IO之间第一个最大的区别是，IO是面向流的，NIO是面向缓冲区的。&nbsp;Java IO面向流意味着每次从流中读一个或多个字节，直至读取所有字节，它们没有被缓存在任何地方。此外，它不能前后移动流中的数据。如果需要前后移动从流中读取的数据，需要先将它缓存到一个缓冲区。 Java NIO的缓冲导向方法略有不同。数据读取到一个它稍后处理的缓冲区，需要时可在缓冲区中前后移动。这就增加了处理过程中的灵活性。但是，还需要检查是否该缓冲区中包含所有您需要处理的数据。而且，需确保当更多的数据读入缓冲区时，不要覆盖缓冲区里尚未处理的数据。</p>
<h1></h1>
<h1><strong>阻塞与非阻塞IO</strong></h1>
<p>Java IO的各种流是阻塞的。这意味着，当一个线程调用read() 或 write()时，该线程被阻塞，直到有一些数据被读取，或数据完全写入。该线程在此期间不能再干任何事情了。 Java NIO的非阻塞模式，使一个线程从某通道发送请求读取数据，但是它仅能得到目前可用的数据，如果目前没有数据可用时，就什么都不会获取。而不是保持线程阻塞，所以直至数据变的可以读取之前，该线程可以继续做其他的事情。 非阻塞写也是如此。一个线程请求写入一些数据到某通道，但不需要等待它完全写入，这个线程同时可以去做别的事情。 线程通常将非阻塞IO的空闲时间用于在其它通道上执行IO操作，所以一个单独的线程现在可以管理多个输入和输出通道（channel）。</p>
<h1></h1>
<h1><strong>选择器（</strong>Selectors<strong>）</strong></h1>
<p>Java NIO的选择器允许一个单独的线程来监视多个输入通道，你可以注册多个通道使用一个选择器，然后使用一个单独的线程来“选择”通道：这些通道里已经有可以处理的输入，或者选择已准备写入的通道。这种选择机制，使得一个单独的线程很容易来管理多个通道。</p>
<h1></h1>
<h1><strong>NIO和IO如何影响应用程序的设计</strong></h1>
<p>无论您选择IO或NIO工具箱，可能会影响您应用程序设计的以下几个方面：</p>
<ol>
<li>&nbsp;对NIO或IO类的API调用。</li>
<li>数据处理。</li>
<li>用来处理数据的线程数。</li>
</ol>
<h2><strong>API调用</strong></h2>
<p>当然，使用NIO的API调用时看起来与使用IO时有所不同，但这并不意外，因为并不是仅从一个InputStream逐字节读取，而是数据必须先读入缓冲区再处理。</p>
<h2><strong>数据处理</strong></h2>
<p>使用纯粹的NIO设计相较IO设计，数据处理也受到影响。</p>
<p>在IO设计中，我们从InputStream或 Reader逐字节读取数据。假设你正在处理一基于行的文本数据流，例如：</p>
<pre>Name: Anna
Age: 25
Email: anna@mailserver.com
Phone: 1234567890</pre>
<p>该文本行的流可以这样处理：<br>
InputStream input = … ; // get the InputStream from the client socket</p>
<pre class="brush: java; title: ; notranslate" title="">BufferedReader reader = new BufferedReader(new InputStreamReader(input));

String nameLine   = reader.readLine();
String ageLine    = reader.readLine();
String emailLine  = reader.readLine();
String phoneLine  = reader.readLine();
</pre>
<p>请注意处理状态由程序执行多久决定。换句话说，一旦reader.readLine()方法返回，你就知道肯定文本行就已读完， readline()阻塞直到整行读完，这就是原因。你也知道此行包含名称；同样，第二个readline()调用返回的时候，你知道这行包含年龄等。 正如你可以看到，该处理程序仅在有新数据读入时运行，并知道每步的数据是什么。一旦正在运行的线程已处理过读入的某些数据，该线程不会再回退数据（大多如此）。下图也说明了这条原则： <img class="aligncenter" alt="" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/nio-vs-io-1.png"> （<b>Java IO: 从一个阻塞的流中读数据</b>） 而一个NIO的实现会有所不同，下面是一个简单的例子：</p>
<pre class="brush: java; title: ; notranslate" title="">ByteBuffer buffer = ByteBuffer.allocate(48);

int bytesRead = inChannel.read(buffer);
</pre>
<p>注意第二行，从通道读取字节到ByteBuffer。当这个方法调用返回时，你不知道你所需的所有数据是否在缓冲区内。你所知道的是，该缓冲区包含一些字节，这使得处理有点困难。<br>
假设第一次 read(buffer)调用后，读入缓冲区的数据只有半行，例如，“Name:An”，你能处理数据吗？显然不能，需要等待，直到整行数据读入缓存，在此之前，对数据的任何处理毫无意义。</p>
<p>所以，你怎么知道是否该缓冲区包含足够的数据可以处理呢？好了，你不知道。发现的方法只能查看缓冲区中的数据。其结果是，在你知道所有数据都在缓冲区里之前，你必须检查几次缓冲区的数据。这不仅效率低下，而且可以使程序设计方案杂乱不堪。例如：</p>
<pre class="brush: java; title: ; notranslate" title="">ByteBuffer buffer = ByteBuffer.allocate(48);

int bytesRead = inChannel.read(buffer);

while(! bufferFull(bytesRead) ) {

bytesRead = inChannel.read(buffer);

}
</pre>
<p>bufferFull()方法必须跟踪有多少数据读入缓冲区，并返回真或假，这取决于缓冲区是否已满。换句话说，如果缓冲区准备好被处理，那么表示缓冲区满了。</p>
<p>bufferFull()方法扫描缓冲区，但必须保持在bufferFull（）方法被调用之前状态相同。如果没有，下一个读入缓冲区的数据可能无法读到正确的位置。这是不可能的，但却是需要注意的又一问题。</p>
<p>如果缓冲区已满，它可以被处理。如果它不满，并且在你的实际案例中有意义，你或许能处理其中的部分数据。但是许多情况下并非如此。下图展示了“缓冲区数据循环就绪”：</p>
<p><img class="aligncenter" alt="" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/nio-vs-io-2.png"></p>
<p style="text-align: center;"><b>Java NIO:从一个通道里读数据，直到所有的数据都读到缓冲区里.</b></p>
<p><strong>3) 用来处理数据的线程数</strong></p>
<p>NIO可让您只使用一个（或几个）单线程管理多个通道（网络连接或文件），但付出的代价是解析数据可能会比从一个阻塞流中读取数据更复杂。</p>
<p>如果需要管理同时打开的成千上万个连接，这些连接每次只是发送少量的数据，例如聊天服务器，实现NIO的服务器可能是一个优势。同样，如果你需要维持许多打开的连接到其他计算机上，如P2P网络中，使用一个单独的线程来管理你所有出站连接，可能是一个优势。一个线程多个连接的设计方案如下图所示：</p>
<p><img class="aligncenter" alt="" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/nio-vs-io-3.png"></p>
<p style="text-align: center;"><b>Java NIO: 单线程管理多个连接</b></p>
<p>如果你有少量的连接使用非常高的带宽，一次发送大量的数据，也许典型的IO服务器实现可能非常契合。下图说明了一个典型的IO服务器设计：</p>
<p><img class="aligncenter" alt="" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/nio-vs-io-4.png"></p>
<p style="text-align: center;"><b>Java IO: 一个典型的IO服务器设计- 一个连接通过一个线程处理.</b></p>
<div style="margin-top: 15px; font-style: italic">
<p><strong>原创文章，转载请注明：</strong> 转载自<a href="http://ifeve.com/">并发编程网 – ifeve.com</a><strong>本文链接地址:</strong> <a href="http://ifeve.com/java-nio-vs-io/">Java NIO系列教程（十二） Java NIO与IO</a></p>
<p><img align="center" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/0-2.jpeg">
</p></div>

                         <div class="abh_box abh_box_down abh_box_"><ul class="abh_tabs"> <li class="abh_about abh_active"><a href="http://ifeve.com/java-nio-vs-io/#abh_about">About</a></li> <li class="abh_posts"><a href="http://ifeve.com/java-nio-vs-io/#abh_posts">Latest Posts</a></li></ul><div class="abh_tab_content"><section class="vcard abh_about_tab abh_tab" style="display:block"><div class="abh_image"><a href="http://shellblog.sinaapp.com/" class="url" target="_blank" title="郭蕾"><img alt="" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/a907923c134c32516a98af69be0d2b94" srcset="http://1.gravatar.com/avatar/a907923c134c32516a98af69be0d2b94?s=160&amp;d=mm&amp;r=g 2x" class="avatar avatar-80 photo" height="80" width="80"></a></div><div class="abh_social"> </div><div class="abh_text"><h3 class="fn name"><a href="http://shellblog.sinaapp.com/" class="url" target="_blank">郭蕾</a></h3><div class="abh_job"></div><div class="description note abh_description">恒信移动Java开发工程师，爱程序犹如自己的女朋友。个人博客：http://shellblog.sinaapp.com/</div></div> </section><section class="abh_posts_tab abh_tab"><div class="abh_image"><a href="http://shellblog.sinaapp.com/" class="url" target="_blank" title="郭蕾"><img alt="" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/a907923c134c32516a98af69be0d2b94" srcset="http://1.gravatar.com/avatar/a907923c134c32516a98af69be0d2b94?s=160&amp;d=mm&amp;r=g 2x" class="avatar avatar-80 photo" height="80" width="80"></a></div><div class="abh_social"> </div><div class="abh_text"><h4>Latest posts by 郭蕾 <span class="abh_allposts">(<a href="http://ifeve.com/author/26336390/">see all</a>)</span></h4><div class="abh_description note"><ul>				<li>					<a href="http://ifeve.com/java-nio-vs-io/">Java NIO系列教程（十二） Java NIO与IO</a><span> - 2013年2月2日</span>				</li></ul></div></div> </section></div> </div><span class="wpfp-span"><img src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/star.png" alt="Favorite" title="Favorite" class="wpfp-img"><img src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/loading.gif" alt="Loading" title="Loading" class="wpfp-hide wpfp-img"><a class="wpfp-link" href="http://ifeve.com/java-nio-vs-io/?wpfpaction=add&amp;postid=2693" title="添加本文到我的收藏" rel="nofollow">添加本文到我的收藏</a></span><div class="yarpp-related">
<h3>Related posts:</h3><ol>
<li><a href="http://ifeve.com/selectors/" rel="bookmark" title="Java NIO系列教程（六） Selector">Java NIO系列教程（六） Selector </a></li>
<li><a href="http://ifeve.com/server-socket-channel/" rel="bookmark" title="Java NIO系列教程（九） ServerSocketChannel">Java NIO系列教程（九） ServerSocketChannel </a></li>
<li><a href="http://ifeve.com/socket-channel/" rel="bookmark" title="Java NIO系列教程（八） SocketChannel">Java NIO系列教程（八） SocketChannel </a></li>
<li><a href="http://ifeve.com/pipe/" rel="bookmark" title="Java NIO系列教程（十一） Pipe">Java NIO系列教程（十一） Pipe </a></li>
<li><a href="http://ifeve.com/file-channel/" rel="bookmark" title="Java NIO系列教程（七） FileChannel">Java NIO系列教程（七） FileChannel </a></li>
<li><a href="http://ifeve.com/buffers/" rel="bookmark" title="Java NIO系列教程（三） Buffer">Java NIO系列教程（三） Buffer </a></li>
<li><a href="http://ifeve.com/channels/" rel="bookmark" title="Java NIO系列教程（二） Channel">Java NIO系列教程（二） Channel </a></li>
<li><a href="http://ifeve.com/datagram-channel/" rel="bookmark" title="Java NIO系列教程（十） Java NIO DatagramChannel">Java NIO系列教程（十） Java NIO DatagramChannel </a></li>
<li><a href="http://ifeve.com/java-nio-scattergather/" rel="bookmark" title="Java NIO系列教程（四） Scatter/Gather">Java NIO系列教程（四） Scatter/Gather </a></li>
<li><a href="http://ifeve.com/java-nio-channel-to-channel/" rel="bookmark" title="Java NIO系列教程（五） 通道之间的数据传输">Java NIO系列教程（五） 通道之间的数据传输 </a></li>
<li><a href="http://ifeve.com/overview/" rel="bookmark" title="Java NIO系列教程（一） Java NIO 概述">Java NIO系列教程（一） Java NIO 概述 </a></li>
<li><a href="http://ifeve.com/java-io-char-buffered-filter/" rel="bookmark" title="Java IO: 字符流的Buffered和Filter">Java IO: 字符流的Buffered和Filter </a></li>
<li><a href="http://ifeve.com/java-io-inputstreamreader%e5%92%8coutputstreamwriter/" rel="bookmark" title="Java IO: InputStreamReader和OutputStreamWriter">Java IO: InputStreamReader和OutputStreamWriter </a></li>
<li><a href="http://ifeve.com/java-io-inputstream/" rel="bookmark" title="Java IO: InputStream">Java IO: InputStream </a></li>
<li><a href="http://ifeve.com/java-io-other/" rel="bookmark" title="Java IO: 其他字符流(下)">Java IO: 其他字符流(下) </a></li>
</ol>
</div>
           </div><!-- END .post_content -->
    </div>
    <div class="meta">
          <ul>
      <li class="post_date clearfix">
       <span class="date">02</span>
       <span class="month">Feb</span>
       <span class="year">2013</span>
      </li>
      
<li class="post_comment">
224,199 人阅读</li>

      <li class="post_author"><a href="http://ifeve.com/author/26336390/" title="Posts by 郭蕾" rel="author">郭蕾</a></li>      <li class="post_category"><a href="http://ifeve.com/category/concurrency-translation/" rel="category tag">并发译文</a></li>       <li class="post_category"><div id="post-ratings-2693" class="post-ratings" itemscope="" itemtype="http://schema.org/Article" data-nonce="73e7d36949"><img id="rating_2693_1" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="好烂啊" title="好烂啊" onmouseover="current_rating(2693, 1, &#39;好烂啊&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_2693_2" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="没价值" title="没价值" onmouseover="current_rating(2693, 2, &#39;没价值&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_2693_3" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="凑合看看" title="凑合看看" onmouseover="current_rating(2693, 3, &#39;凑合看看&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_2693_4" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="还不错" title="还不错" onmouseover="current_rating(2693, 4, &#39;还不错&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_2693_5" src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/rating_half.gif" alt="超赞" title="超赞" onmouseover="current_rating(2693, 5, &#39;超赞&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"> (<strong>39</strong> votes, average: <strong>4.49</strong> out of 5)<br><span class="post-ratings-text" id="ratings_2693_text"></span><meta itemprop="headline" content="Java NIO系列教程（十二） Java NIO与IO"><meta itemprop="description" content="原文地址：http://tutorials.jenkov.com/java-nio/nio-vs-io.html

作者：Jakob Jenkov   译者：郭蕾    校对：方腾飞

当学习了Java NIO和IO的API后，一个问题马上涌入脑海：

我应该何时使用IO，何时使用NIO呢？在本文中，我会尽量清晰地解析Java NIO和IO的差异、它们的使用场景，以及它们如何影响您的代..."><meta itemprop="datePublished" content="2013-02-02T01:11:49+00:00"><meta itemprop="dateModified" content="2013-06-07T16:33:06+00:00"><meta itemprop="url" content="http://ifeve.com/java-nio-vs-io/"><meta itemprop="author" content="郭蕾"><meta itemprop="mainEntityOfPage" content="http://ifeve.com/java-nio-vs-io/"><div style="display: none;" itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization"><meta itemprop="name" content="并发编程网 - ifeve.com"><div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content=""></div></div><div style="display: none;" itemprop="aggregateRating" itemscope="" itemtype="http://schema.org/AggregateRating"><meta itemprop="bestRating" content="5"><meta itemprop="worstRating" content="1"><meta itemprop="ratingValue" content="4.49"><meta itemprop="ratingCount" content="39"></div></div><div id="post-ratings-2693-loading" class="post-ratings-loading">
            <img src="./Java NIO系列教程（十二） Java NIO与IO _ 并发编程网 – ifeve.com_files/loading(1).gif" width="16" height="16" class="post-ratings-image">Loading...</div></li>       <li class="post_comment"><a href="http://ifeve.com/java-nio-vs-io/#comments">34 comments</a></li>           </ul>
         </div>
   </div><!-- END .post_wrap -->

   
      <div id="comments_wrapper">
    




<div id="comment_header" class="clearfix">

 <ul id="comment_header_left">
  <li id="add_comment"><a href="http://ifeve.com/java-nio-vs-io/#respond">Write comment</a></li>
  <li id="comment_feed"><a href="http://ifeve.com/comments/feed/" title="Comments RSS">Comments RSS</a></li>
 </ul>

 <ul id="comment_header_right">
   <li id="trackback_closed">Trackback are closed</li>
   <li id="comment_closed">Comments (34)</li>
 </ul>


</div><!-- END #comment_header -->

<div id="comments">

 <div id="comment_area">
  <!-- start commnet -->
  </div></div></div></div></div></body></html>