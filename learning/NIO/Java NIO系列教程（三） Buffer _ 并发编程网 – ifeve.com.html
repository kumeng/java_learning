<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0025)http://ifeve.com/buffers/ -->
<html xmlns="http://www.w3.org/1999/xhtml"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<base target="_blank">--><base href="." target="_blank">
<meta name="baidu_union_verify" content="d30f7acd6a9a378cc0aeb0bd0ddfe30d">

<script src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/ca-pub-9394337417063147.js"></script><script async="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9394337417063147",
    enable_page_level_ads: true
  });
</script>
<title>Java NIO系列教程（三） Buffer | 并发编程网 – ifeve.com</title>
<meta name="description" content="让天下没有难学的技术">

<link rel="alternate" type="application/rss+xml" title="并发编程网 – ifeve.com RSS Feed" href="http://ifeve.com/feed/">
<link rel="alternate" type="application/atom+xml" title="并发编程网 – ifeve.com Atom Feed" href="http://ifeve.com/feed/atom/"> 
<link rel="pingback" href="http://ifeve.com/xmlrpc.php">

<link rel="stylesheet" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/style.css" type="text/css">
<link rel="stylesheet" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/comment-style.css" type="text/css">

 
<link rel="dns-prefetch" href="http://ajax.googleapis.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="并发编程网 - ifeve.com » Java NIO系列教程（三） Buffer Comments Feed" href="http://ifeve.com/buffers/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/ifeve.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.5"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/wp-emoji-release.min.js" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="wpfp-css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/wpfp.css" type="text/css">
<link rel="stylesheet" id="yarppWidgetCss-css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/widget.css" type="text/css" media="all">
<link rel="stylesheet" id="jquery-ui-css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/themes/base/jquery-ui.css?ver=4.9.5" type="text/css" media="all">
<link rel="stylesheet" id="dwqa-style-css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/style(1).css" type="text/css" media="all">
<link rel="stylesheet" id="dwqa-rtl-css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/rtl.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-postratings-css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/postratings-css.css" type="text/css" media="all">
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/jquery.js"></script><link rel="preload" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/integrator.js"><script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/integrator.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/jquery-migrate.min.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/wpfp.js"></script>
<link rel="https://api.w.org/" href="http://ifeve.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ifeve.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ifeve.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Java NIO系列教程（八） SocketChannel" href="http://ifeve.com/socket-channel/">
<link rel="next" title="Java NIO系列教程（二） Channel" href="http://ifeve.com/channels/">
<meta name="generator" content="WordPress 4.9.5">
<link rel="canonical" href="http://ifeve.com/buffers/">
<link rel="shortlink" href="http://ifeve.com/?p=5282">
<link rel="alternate" type="application/json+oembed" href="http://ifeve.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fifeve.com%2Fbuffers%2F">
<link rel="alternate" type="text/xml+oembed" href="http://ifeve.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fifeve.com%2Fbuffers%2F&amp;format=xml">

<!-- StarBox - the Author Box for Humans 3.0.6, visit: http://wordpress.org/plugins/starbox/ -->
<!-- /StarBox - the Author Box for Humans -->

<link rel="stylesheet" id="frontend.css-css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/frontend.css" type="text/css" media="all">
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/frontend.js"></script>
<link rel="stylesheet" id="hidedefault.css-css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/hidedefault.css" type="text/css" media="all">
<link rel="stylesheet" type="text/css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/shCore.css"><link rel="stylesheet" type="text/css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/shThemeEclipse.css"><style type="text/css" id="syntaxhighlighteranchor"></style>

<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/jscript.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/comment.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/rollover.js"></script>

<!--[if IE 7]>
<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/ie7.css" type="text/css" />
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/ie8.css" type="text/css" />
<![endif]-->


<style type="text/css">
a, .post .title a:hover, .post_meta a:hover, #bread_crumb ul li a:hover, #previous_post a:hover, #next_post a:hover, .post a.more-link:hover, #right_col li a:hover, #copyright li a:hover, #archive_headline #keyword,
   #comments_wrapper a:hover, #comment_header_right .comment_switch_active a, #comment_header_right .comment_switch_active a:hover, #comment_pager .current
   { color:#00A19E; }

#no_post a.back:hover, #wp-calendar td a:hover, #wp-calendar #prev a:hover, #wp-calendar #next a:hover, .page_navi a:hover, #submit_comment:hover
 { background-color:#00A19E; }

#guest_info input:focus, #comment_textarea textarea:focus
 { border:1px solid #00A19E; }

a:hover
 { color:#BDC900; }

body { font-size:14px; }

#header { background:url(http://ifeve.com/wp-content/uploads/flat/bg.png) left top; }
.logo_text a { color:#F5F5F5; }
#site_description {  border-top:1px solid #BBBBBB; color:#D2D9CC; }


</style>

</head>

<body>

 <div id="header">
  <div class="header_menu">
    <ul id="menu-%e4%b8%bb%e8%8f%9c%e5%8d%95" class="menu"><li id="menu-item-16594" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-16594"><a href="http://ifeve.com/">首页</a></li>
<li id="menu-item-3432" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3432"><a href="http://ifeve.com/wp-login.php">登录</a></li>
<li id="menu-item-9219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-9219 parent_menu"><a href="http://ifeve.com/category/java/">JAVA</a>
<ul class="sub-menu">
	<li id="menu-item-16108" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16108"><a href="http://ifeve.com/java-io/">Java IO 教程</a></li>
	<li id="menu-item-5283" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5283"><a href="http://ifeve.com/java-nio-all/">Java NIO 教程</a></li>
	<li id="menu-item-17514" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17514"><a href="http://ifeve.com/java-reflection/">JAVA Reflection教程</a></li>
	<li id="menu-item-16239" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16239"><a href="http://ifeve.com/java-network">Java 网络教程</a></li>
	<li id="menu-item-4416" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4416"><a href="http://ifeve.com/java-concurrency-thread-directory/">Java并发和多线程</a></li>
	<li id="menu-item-2767" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2767"><a href="http://ifeve.com/jmm-cookbook/">Java内存模型指南</a></li>
	<li id="menu-item-2747" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2747"><a href="http://ifeve.com/jmm-faq/">Java内存模型FAQ</a></li>
	<li id="menu-item-2765" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2765"><a href="http://ifeve.com/syn-jmm/">同步与Java内存模型</a></li>
	<li id="menu-item-5789" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5789"><a href="http://ifeve.com/oracle-java-concurrency-tutorial/">Oracle官方并发教程</a></li>
	<li id="menu-item-15316" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15316"><a href="http://ifeve.com/jvm-optimize/">JVM性能优化系列</a></li>
	<li id="menu-item-15313" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15313"><a href="http://ifeve.com/useful-jvm-flags/">JVM实用参数系列</a></li>
</ul>
</li>
<li id="menu-item-7938" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7938"><a href="http://ifeve.com/category/c/">C++</a></li>
<li id="menu-item-9220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-9220 parent_menu"><a href="http://ifeve.com/category/framework/">Framework</a>
<ul class="sub-menu" style="display: none;">
	<li id="menu-item-12798" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12798"><a href="http://ifeve.com/disruptor/">Disruptor 框架指南</a></li>
	<li id="menu-item-12783" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12783"><a title="Netty" href="http://ifeve.com/category/netty/">Netty</a></li>
	<li id="menu-item-12791" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12791"><a href="http://ifeve.com/category/scala/">Scala</a></li>
	<li id="menu-item-12312" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12312"><a href="http://ifeve.com/getting-started-with-stom-index/">Storm 入门</a></li>
	<li id="menu-item-9218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9218"><a href="http://ifeve.com/google-guava/">Guava 官方指南</a></li>
	<li id="menu-item-20471" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20471"><a href="http://ifeve.com/velocity-guide/">Apache Velocity 官方指南</a></li>
	<li id="menu-item-21439" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-21439"><a href="http://ifeve.com/storm-translation/">Apache Storm 官方文档</a></li>
</ul>
</li>
<li id="menu-item-555" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-555 parent_menu"><a href="http://ifeve.com/category/concurrency-translation/">其他译文</a>
<ul class="sub-menu" style="display: none;">
	<li id="menu-item-2777" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2777"><a href="http://ifeve.com/java-concurrent/">并发基础</a></li>
	<li id="menu-item-3340" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3340"><a href="http://ifeve.com/aqs/">j.u.c同步框架</a></li>
	<li id="menu-item-2769" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2769"><a href="http://ifeve.com/fj/">Fork Join框架</a></li>
	<li id="menu-item-9221" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9221"><a href="http://ifeve.com/doug-lea/">Doug Lea 论文</a></li>
	<li id="menu-item-4643" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4643"><a href="http://ifeve.com/mechanical-sympathy/">Mechanical Sympathy</a></li>
	<li id="menu-item-6397" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6397"><a href="http://ifeve.com/stm/">软件事务内存导论</a></li>
	<li id="menu-item-10845" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10845"><a href="http://ifeve.com/jsr133-cn/">JSR133中文版</a></li>
</ul>
</li>
<li id="menu-item-103" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-103 parent_menu"><a href="http://ifeve.com/category/talk-concurrent/">本站原创</a>
<ul class="sub-menu">
	<li id="menu-item-2763" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2763"><a href="http://ifeve.com/talk-concurrency/">聊聊并发</a></li>
	<li id="menu-item-2753" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2753"><a href="http://ifeve.com/java-memory-model-0/">深入理解Java内存模型</a></li>
	<li id="menu-item-4862" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4862"><a href="http://ifeve.com/from-javaeye-sys-struct/">从Java视角理解系统结构</a></li>
	<li id="menu-item-4627" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4627"><a href="http://ifeve.com/ali-itu-agile/">阿里内贸团队敏捷实践</a></li>
</ul>
</li>
<li id="menu-item-7119" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-7119 parent_menu"><a href="http://ifeve.com/category/%e5%b9%b6%e5%8f%91%e4%b9%a6%e7%b1%8d/">并发书籍</a>
<ul class="sub-menu">
	<li id="menu-item-10846" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10846"><a href="http://ifeve.com/art-of-java-concurrent-program/">《Java 并发编程的艺术》迷你书</a></li>
	<li id="menu-item-6042" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6042"><a href="http://ifeve.com/perfbook/">《深入理解并行编程》</a></li>
	<li id="menu-item-9172" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9172"><a href="http://ifeve.com/c-plus-plus-concurrency-in-action/">《C++ 并发编程》</a></li>
	<li id="menu-item-7785" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7785"><a href="http://ifeve.com/java-7-concurrency-cookbook/">《Java 7 并发编程指南》</a></li>
	<li id="menu-item-7120" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7120"><a href="http://ifeve.com/jvm-concurrency">《Java 虚拟机并发编程》</a></li>
	<li id="menu-item-12360" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12360"><a href="http://ifeve.com/getting-started-with-stom-index/">《Storm入门》中文版</a></li>
</ul>
</li>
<li id="menu-item-17079" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17079"><a href="http://ifeve.com/questions/">面试题</a></li>
<li id="menu-item-22180" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-22180"><a href="http://ifeve.com/my-favorite/">我的收藏</a></li>
<li id="menu-item-9171" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-9171 parent_menu"><a href="http://ifeve.com/need-you/">加入我们</a>
<ul class="sub-menu">
	<li id="menu-item-3246" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3246"><a href="http://ifeve.com/contribute/">我要投稿</a></li>
	<li id="menu-item-6854" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6854"><a href="http://ifeve.com/neitui/">内推阿里</a></li>
</ul>
</li>
<li id="menu-item-105" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-105 parent_menu"><a href="http://ifeve.com/about-site/">关于本站</a>
<ul class="sub-menu">
	<li id="menu-item-11306" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11306"><a href="http://ifeve.com/category/%e6%b4%bb%e5%8a%a8/">活动</a></li>
	<li id="menu-item-1487" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1487"><a href="http://ifeve.com/sitemap.html">文章归档</a></li>
	<li id="menu-item-29361" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-29361"><a href="http://ifeve.com/author/">本站作者</a></li>
	<li id="menu-item-131" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-131"><a href="http://ifeve.com/about-site/about-me/">关于清英</a></li>
	<li id="menu-item-7600" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7600"><a href="http://ifeve.com/ads/">广告合作</a></li>
</ul>
</li>
</ul>    </div>
  <!-- logo -->
  <h1 class="logo_text"><a href="http://ifeve.com/">并发编程网 - ifeve.com</a></h1>
<h2 id="site_description">让天下没有难学的技术</h2>
 </div>

 <div id="main_content" class="clearfix">

  <div id="left_col">
      <div id="bread_crumb">
    <ul class="clearfix">
     <li id="bc_home"><a href="http://ifeve.com/" title="HOME">HOME</a></li>
     <li id="bc_cat"><a href="http://ifeve.com/category/concurrency-translation/">并发译文</a></li>     <li class="last">Java NIO系列教程（三） Buffer</li>
    </ul>
   </div>
   
   
   <div class="post_wrap clearfix" id="single">
    <div class="post">
     <h3 class="title"><span>Java NIO系列教程（三） Buffer</span></h3>
     <div class="post_content">
      <p><a title="原文链接" href="http://tutorials.jenkov.com/java-nio/buffers.html" target="_blank">原文链接</a>&nbsp; &nbsp;&nbsp; <b>作者：</b>Jakob Jenkov &nbsp; &nbsp;&nbsp;<b>译者：</b>airu &nbsp; &nbsp;&nbsp;<b>校对：</b>丁一</p>
<p>Java NIO中的Buffer用于和NIO通道进行交互。如你所知，数据是从通道读入缓冲区，从缓冲区写入到通道中的。</p>
<p>缓冲区本质上是一块可以写入数据，然后可以从中读取数据的内存。这块内存被包装成NIO Buffer对象，并提供了一组方法，用来方便的访问该块内存。</p>
<p>下面是NIO Buffer相关的话题列表：</p>
<ol>
<li><a href="http://ifeve.com/buffers/#basicusage">Buffer的基本用法</a></li>
<li><a href="http://ifeve.com/buffers/#cap-pos-limit">Buffer的capacity,position和limit</a></li>
<li><a href="http://ifeve.com/buffers/#buffertype">Buffer的类型</a></li>
<li><a href="http://ifeve.com/buffers/#allocate">Buffer的分配</a></li>
<li><a href="http://ifeve.com/buffers/#writetobuffer">向Buffer中写数据</a></li>
<li><a href="http://ifeve.com/buffers/#flip">flip()方法</a></li>
<li><a href="http://ifeve.com/buffers/#read">从Buffer中读取数据</a></li>
<li><a href="http://ifeve.com/buffers/#clearandcompact">clear()与compact()方法</a></li>
<li><a href="http://ifeve.com/buffers/#markandreset">mark()与reset()方法</a></li>
<li><a href="http://ifeve.com/buffers/#equalsandcompareto">equals()与compareTo()方法</a></li>
</ol>
<p><span id="more-5282"></span></p>
<h3 id="basicusage">Buffer的基本用法</h3>
<p>使用Buffer读写数据一般遵循以下四个步骤：</p>
<ol>
<li>写入数据到Buffer</li>
<li>调用<code>flip()</code>方法</li>
<li>从Buffer中读取数据</li>
<li>调用<code>clear()</code>方法或者<code>compact()</code>方法</li>
</ol>
<p>当向buffer写入数据时，buffer会记录下写了多少数据。一旦要读取数据，需要通过flip()方法将Buffer从写模式切换到读模式。在读模式下，可以读取之前写入到buffer的所有数据。</p>
<p>一旦读完了所有的数据，就需要清空缓冲区，让它可以再次被写入。有两种方式能清空缓冲区：调用clear()或compact()方法。clear()方法会清空整个缓冲区。compact()方法只会清除已经读过的数据。任何未读的数据都被移到缓冲区的起始处，新写入的数据将放到缓冲区未读数据的后面。</p>
<p>下面是一个使用Buffer的例子：</p>
<div id="highlighter_703645" class="syntaxhighlighter  "><div class="bar                  show"><div class="toolbar"><a href="http://ifeve.com/buffers/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_703645_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_703645" menu="false" src="http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://ifeve.com/buffers/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://ifeve.com/buffers/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">RandomAccessFile aFile = </code><code class="keyword">new</code> <code class="plain">RandomAccessFile(</code><code class="string">"data/nio-data.txt"</code><code class="plain">, </code><code class="string">"rw"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">FileChannel inChannel = aFile.getChannel();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="comments">//create buffer with capacity of 48 bytes</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">ByteBuffer buf = ByteBuffer.allocate(</code><code class="value">48</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="keyword">int</code> <code class="plain">bytesRead = inChannel.read(buf); </code><code class="comments">//read into buffer.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="keyword">while</code> <code class="plain">(bytesRead != -</code><code class="value">1</code><code class="plain">) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">buf.flip();&nbsp; </code><code class="comments">//make buffer ready for read</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">while</code><code class="plain">(buf.hasRemaining()){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">System.out.print((</code><code class="keyword">char</code><code class="plain">) buf.get()); </code><code class="comments">// read 1 byte at a time</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">buf.clear(); </code><code class="comments">//make buffer ready for writing</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">bytesRead = inChannel.read(buf);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">aFile.close();</code></td></tr></tbody></table></div></div></div>
<h3 id="cap-pos-limit">Buffer的capacity,position和limit</h3>
<p>缓冲区本质上是一块可以写入数据，然后可以从中读取数据的内存。这块内存被包装成NIO Buffer对象，并提供了一组方法，用来方便的访问该块内存。</p>
<p>为了理解Buffer的工作原理，需要熟悉它的三个属性：</p>
<ul>
<li>capacity</li>
<li>position</li>
<li>limit</li>
</ul>
<p>position和limit的含义取决于Buffer处在读模式还是写模式。不管Buffer处在什么模式，capacity的含义总是一样的。</p>
<p>这里有一个关于capacity，position和limit在读写模式中的说明，详细的解释在插图后面。</p>
<p><img class="aligncenter size-full wp-image-5407" alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/buffers-modes.png" width="506" height="342" srcset="http://ifeve.com/wp-content/uploads/2013/06/buffers-modes.png 506w, http://ifeve.com/wp-content/uploads/2013/06/buffers-modes-150x101.png 150w, http://ifeve.com/wp-content/uploads/2013/06/buffers-modes-300x202.png 300w" sizes="(max-width: 506px) 100vw, 506px"></p>
<h4 id="capacity">capacity</h4>
<p>作为一个内存块，Buffer有一个固定的大小值，也叫“capacity”.你只能往里写capacity个byte、long，char等类型。一旦Buffer满了，需要将其清空（通过读数据或者清除数据）才能继续写数据往里写数据。</p>
<h4 id="position">position</h4>
<p>当你写数据到Buffer中时，position表示当前的位置。初始的position值为0.当一个byte、long等数据写到Buffer后， position会向前移动到下一个可插入数据的Buffer单元。position最大可为capacity – 1.</p>
<p>当读取数据时，也是从某个特定位置读。当将Buffer从写模式切换到读模式，position会被重置为0. 当从Buffer的position处读取数据时，position向前移动到下一个可读的位置。</p>
<h4 id="limit">limit</h4>
<p>在写模式下，Buffer的limit表示你最多能往Buffer里写多少数据。 写模式下，limit等于Buffer的capacity。</p>
<p>当切换Buffer到读模式时， limit表示你最多能读到多少数据。因此，当切换Buffer到读模式时，limit会被设置成写模式下的position值。换句话说，你能读到之前写入的所有数据（limit被设置成已写数据的数量，这个值在写模式下就是position）</p>
<h3 id="buffertype">Buffer的类型</h3>
<p>Java NIO 有以下Buffer类型</p>
<ul>
<li>ByteBuffer</li>
<li>MappedByteBuffer</li>
<li>CharBuffer</li>
<li>DoubleBuffer</li>
<li>FloatBuffer</li>
<li>IntBuffer</li>
<li>LongBuffer</li>
<li>ShortBuffer</li>
</ul>
<p>p&lt;&gt;<br>
如你所见，这些Buffer类型代表了不同的数据类型。换句话说，就是可以通过char，short，int，long，float 或 double类型来操作缓冲区中的字节。</p>
<p>MappedByteBuffer 有些特别，在涉及它的专门章节中再讲。</p>
<h3 id="allocate">Buffer的分配</h3>
<p>要想获得一个Buffer对象首先要进行分配。 每一个Buffer类都有一个allocate方法。下面是一个分配48字节capacity的ByteBuffer的例子。</p>
<div id="highlighter_687579" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://ifeve.com/buffers/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_687579_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_687579" menu="false" src="http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://ifeve.com/buffers/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://ifeve.com/buffers/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">ByteBuffer buf = ByteBuffer.allocate(</code><code class="value">48</code><code class="plain">);</code></td></tr></tbody></table></div></div></div>
<p>这是分配一个可存储1024个字符的CharBuffer：</p>
<div id="highlighter_472805" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://ifeve.com/buffers/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_472805_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_472805" menu="false" src="http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://ifeve.com/buffers/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://ifeve.com/buffers/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">CharBuffer buf = CharBuffer.allocate(</code><code class="value">1024</code><code class="plain">);</code></td></tr></tbody></table></div></div></div>
<h3 id="writetobuffer">向Buffer中写数据</h3>
<p>写数据到Buffer有两种方式：</p>
<ul>
<li>从Channel写到Buffer。</li>
<li>通过Buffer的put()方法写到Buffer里。</li>
</ul>
<p>从Channel写到Buffer的例子</p>
<div id="highlighter_843756" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://ifeve.com/buffers/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_843756_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_843756" menu="false" src="http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://ifeve.com/buffers/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://ifeve.com/buffers/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="keyword">int</code> <code class="plain">bytesRead = inChannel.read(buf); </code><code class="comments">//read into buffer.</code></td></tr></tbody></table></div></div></div>
<p>通过put方法写Buffer的例子：</p>
<div id="highlighter_798770" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://ifeve.com/buffers/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_798770_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_798770" menu="false" src="http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://ifeve.com/buffers/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://ifeve.com/buffers/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">buf.put(</code><code class="value">127</code><code class="plain">);</code></td></tr></tbody></table></div></div></div>
<p>put方法有很多版本，允许你以不同的方式把数据写入到Buffer中。例如， 写到一个指定的位置，或者把一个字节数组写入到Buffer。 更多Buffer实现的细节参考JavaDoc。</p>
<h4 id="flip">flip()方法</h4>
<p>flip方法将Buffer从写模式切换到读模式。调用flip()方法会将position设回0，并将limit设置成之前position的值。</p>
<p>换句话说，position现在用于标记读的位置，limit表示之前写进了多少个byte、char等 —— 现在能读取多少个byte、char等。</p>
<h3 id="read">从Buffer中读取数据</h3>
<p>从Buffer中读取数据有两种方式：</p>
<ol>
<li>从Buffer读取数据到Channel。</li>
<li>使用get()方法从Buffer中读取数据。</li>
</ol>
<p>从Buffer读取数据到Channel的例子：</p>
<div id="highlighter_117355" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://ifeve.com/buffers/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_117355_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_117355" menu="false" src="http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://ifeve.com/buffers/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://ifeve.com/buffers/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments">//read from buffer into channel.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="keyword">int</code> <code class="plain">bytesWritten = inChannel.write(buf);</code></td></tr></tbody></table></div></div></div>
<p>使用get()方法从Buffer中读取数据的例子</p>
<div id="highlighter_50248" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://ifeve.com/buffers/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_50248_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_50248" menu="false" src="http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://ifeve.com/buffers/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://ifeve.com/buffers/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="keyword">byte</code> <code class="plain">aByte = buf.get();</code></td></tr></tbody></table></div></div></div>
<p>get方法有很多版本，允许你以不同的方式从Buffer中读取数据。例如，从指定position读取，或者从Buffer中读取数据到字节数组。更多Buffer实现的细节参考JavaDoc。</p>
<h3 id="rewind">rewind()方法</h3>
<p>Buffer.rewind()将position设回0，所以你可以重读Buffer中的所有数据。limit保持不变，仍然表示能从Buffer中读取多少个元素（byte、char等）。</p>
<h3 id="clearandcompact">clear()与compact()方法</h3>
<p>一旦读完Buffer中的数据，需要让Buffer准备好再次被写入。可以通过clear()或compact()方法来完成。</p>
<p>如果调用的是clear()方法，position将被设回0，limit被设置成 capacity的值。换句话说，Buffer 被清空了。Buffer中的数据并未清除，只是这些标记告诉我们可以从哪里开始往Buffer里写数据。</p>
<p>如果Buffer中有一些未读的数据，调用clear()方法，数据将“被遗忘”，意味着不再有任何标记会告诉你哪些数据被读过，哪些还没有。</p>
<p>如果Buffer中仍有未读的数据，且后续还需要这些数据，但是此时想要先先写些数据，那么使用compact()方法。</p>
<p>compact()方法将所有未读的数据拷贝到Buffer起始处。然后将position设到最后一个未读元素正后面。limit属性依然像clear()方法一样，设置成capacity。现在Buffer准备好写数据了，但是不会覆盖未读的数据。</p>
<h3 id="markandreset">mark()与reset()方法</h3>
<p>通过调用Buffer.mark()方法，可以标记Buffer中的一个特定position。之后可以通过调用Buffer.reset()方法恢复到这个position。例如：</p>
<div id="highlighter_607444" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://ifeve.com/buffers/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_607444_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_607444" menu="false" src="http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://ifeve.com/buffers/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://ifeve.com/buffers/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">buffer.mark();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="comments">//call buffer.get() a couple of times, e.g. during parsing.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">buffer.reset();&nbsp; </code><code class="comments">//set position back to mark.</code></td></tr></tbody></table></div></div></div>
<h3 id="equalsandcompareto">equals()与compareTo()方法</h3>
<p>可以使用equals()和compareTo()方法两个Buffer。</p>
<h4 id="equals">equals()</h4>
<p>当满足下列条件时，表示两个Buffer相等：</p>
<ol>
<li>有相同的类型（byte、char、int等）。</li>
<li>Buffer中剩余的byte、char等的个数相等。</li>
<li>Buffer中所有剩余的byte、char等都相同。</li>
</ol>
<p>如你所见，equals只是比较Buffer的一部分，不是每一个在它里面的元素都比较。实际上，它只比较Buffer中的剩余元素。</p>
<h4 id="compareto">compareTo()方法</h4>
<p>compareTo()方法比较两个Buffer的剩余元素(byte、char等)， 如果满足下列条件，则认为一个Buffer“小于”另一个Buffer：</p>
<ol>
<li>第一个不相等的元素小于另一个Buffer中对应的元素 。</li>
<li>所有元素都相等，但第一个Buffer比另一个先耗尽(第一个Buffer的元素个数比另一个少)。</li>
</ol>
<p><em>（译注：剩余元素是从 position到limit之间的元素）</em></p>
<div style="margin-top: 15px; font-style: italic">
<p><strong>原创文章，转载请注明：</strong> 转载自<a href="http://ifeve.com/">并发编程网 – ifeve.com</a><strong>本文链接地址:</strong> <a href="http://ifeve.com/buffers/">Java NIO系列教程（三） Buffer</a></p>
<p><img align="center" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/0-2.jpeg">
</p></div>

                         <div class="abh_box abh_box_down abh_box_"><ul class="abh_tabs"> <li class="abh_about abh_active"><a href="http://ifeve.com/buffers/#abh_about">About</a></li> <li class="abh_posts"><a href="http://ifeve.com/buffers/#abh_posts">Latest Posts</a></li></ul><div class="abh_tab_content"><section class="vcard abh_about_tab abh_tab" style="display:block"><div class="abh_image"><a href="http://www.mindincode.com/" class="url" target="_blank" title="airu"><img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/81cb60aee6c41f414f529fa293c5bfa6" srcset="http://2.gravatar.com/avatar/81cb60aee6c41f414f529fa293c5bfa6?s=160&amp;d=mm&amp;r=g 2x" class="avatar avatar-80 photo" height="80" width="80"></a></div><div class="abh_social"> </div><div class="abh_text"><h3 class="fn name"><a href="http://www.mindincode.com/" class="url" target="_blank">airu</a></h3><div class="abh_job"></div><div class="description note abh_description">爱生活， 爱编码，更爱玩。</div></div> </section><section class="abh_posts_tab abh_tab"><div class="abh_image"><a href="http://www.mindincode.com/" class="url" target="_blank" title="airu"><img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/81cb60aee6c41f414f529fa293c5bfa6" srcset="http://2.gravatar.com/avatar/81cb60aee6c41f414f529fa293c5bfa6?s=160&amp;d=mm&amp;r=g 2x" class="avatar avatar-80 photo" height="80" width="80"></a></div><div class="abh_social"> </div><div class="abh_text"><h4>Latest posts by airu <span class="abh_allposts">(<a href="http://ifeve.com/author/airu/">see all</a>)</span></h4><div class="abh_description note"><ul>				<li>					<a href="http://ifeve.com/overview/">Java NIO系列教程（一） Java NIO 概述</a><span> - 2013年6月7日</span>				</li>				<li>					<a href="http://ifeve.com/channels/">Java NIO系列教程（二） Channel</a><span> - 2013年6月7日</span>				</li>				<li>					<a href="http://ifeve.com/buffers/">Java NIO系列教程（三） Buffer</a><span> - 2013年6月6日</span>				</li></ul></div></div> </section></div> </div><span class="wpfp-span"><img src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/star.png" alt="Favorite" title="Favorite" class="wpfp-img"><img src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/loading.gif" alt="Loading" title="Loading" class="wpfp-hide wpfp-img"><a class="wpfp-link" href="http://ifeve.com/buffers/?wpfpaction=add&amp;postid=5282" title="添加本文到我的收藏" rel="nofollow">添加本文到我的收藏</a></span><div class="yarpp-related">
<h3>Related posts:</h3><ol>
<li><a href="http://ifeve.com/server-socket-channel/" rel="bookmark" title="Java NIO系列教程（九） ServerSocketChannel">Java NIO系列教程（九） ServerSocketChannel </a></li>
<li><a href="http://ifeve.com/socket-channel/" rel="bookmark" title="Java NIO系列教程（八） SocketChannel">Java NIO系列教程（八） SocketChannel </a></li>
<li><a href="http://ifeve.com/pipe/" rel="bookmark" title="Java NIO系列教程（十一） Pipe">Java NIO系列教程（十一） Pipe </a></li>
<li><a href="http://ifeve.com/selectors/" rel="bookmark" title="Java NIO系列教程（六） Selector">Java NIO系列教程（六） Selector </a></li>
<li><a href="http://ifeve.com/file-channel/" rel="bookmark" title="Java NIO系列教程（七） FileChannel">Java NIO系列教程（七） FileChannel </a></li>
<li><a href="http://ifeve.com/channels/" rel="bookmark" title="Java NIO系列教程（二） Channel">Java NIO系列教程（二） Channel </a></li>
<li><a href="http://ifeve.com/java-nio-vs-io/" rel="bookmark" title="Java NIO系列教程（十二） Java NIO与IO">Java NIO系列教程（十二） Java NIO与IO </a></li>
<li><a href="http://ifeve.com/datagram-channel/" rel="bookmark" title="Java NIO系列教程（十） Java NIO DatagramChannel">Java NIO系列教程（十） Java NIO DatagramChannel </a></li>
<li><a href="http://ifeve.com/java-nio-scattergather/" rel="bookmark" title="Java NIO系列教程（四） Scatter/Gather">Java NIO系列教程（四） Scatter/Gather </a></li>
<li><a href="http://ifeve.com/overview/" rel="bookmark" title="Java NIO系列教程（一） Java NIO 概述">Java NIO系列教程（一） Java NIO 概述 </a></li>
<li><a href="http://ifeve.com/java-nio-channel-to-channel/" rel="bookmark" title="Java NIO系列教程（五） 通道之间的数据传输">Java NIO系列教程（五） 通道之间的数据传输 </a></li>
<li><a href="http://ifeve.com/java-io-inputstream/" rel="bookmark" title="Java IO: InputStream">Java IO: InputStream </a></li>
<li><a href="http://ifeve.com/ringbuffer/" rel="bookmark" title="Dissecting the Disruptor: What’s so special about a ring buffer?">Dissecting the Disruptor: What’s so special about a ring buffer? </a></li>
<li><a href="http://ifeve.com/dissecting-the-disruptor-writing-to-the-ring-buffer/" rel="bookmark" title="Dissecting the Disruptor: Writing to the ring buffer">Dissecting the Disruptor: Writing to the ring buffer </a></li>
<li><a href="http://ifeve.com/dissecting-the-disruptor-how-do-i-read-from-the-ring-buffer/" rel="bookmark" title="Dissecting the Disruptor: How do I read from the ring buffer?">Dissecting the Disruptor: How do I read from the ring buffer? </a></li>
</ol>
</div>
           </div><!-- END .post_content -->
    </div>
    <div class="meta">
          <ul>
      <li class="post_date clearfix">
       <span class="date">06</span>
       <span class="month">Jun</span>
       <span class="year">2013</span>
      </li>
      
<li class="post_comment">
194,577 人阅读</li>

      <li class="post_author"><a href="http://ifeve.com/author/airu/" title="Posts by airu" rel="author">airu</a></li>      <li class="post_category"><a href="http://ifeve.com/category/concurrency-translation/" rel="category tag">并发译文</a></li>       <li class="post_category"><div id="post-ratings-5282" class="post-ratings" itemscope="" itemtype="http://schema.org/Article" data-nonce="637e27db1f"><img id="rating_5282_1" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="好烂啊" title="好烂啊" onmouseover="current_rating(5282, 1, &#39;好烂啊&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_5282_2" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="没价值" title="没价值" onmouseover="current_rating(5282, 2, &#39;没价值&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_5282_3" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="凑合看看" title="凑合看看" onmouseover="current_rating(5282, 3, &#39;凑合看看&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_5282_4" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="还不错" title="还不错" onmouseover="current_rating(5282, 4, &#39;还不错&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_5282_5" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/rating_half.gif" alt="超赞" title="超赞" onmouseover="current_rating(5282, 5, &#39;超赞&#39;);" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"> (<strong>56</strong> votes, average: <strong>4.46</strong> out of 5)<br><span class="post-ratings-text" id="ratings_5282_text"></span><meta itemprop="headline" content="Java NIO系列教程（三） Buffer"><meta itemprop="description" content="原文链接     作者：Jakob Jenkov     译者：airu     校对：丁一

Java NIO中的Buffer用于和NIO通道进行交互。如你所知，数据是从通道读入缓冲区，从缓冲区写入到通道中的。

缓冲区本质上是一块可以写入数据，然后可以从中读取数据的内存。这块内存被包装成NIO Buffer对象，并提供了一组方法，用来方便的访问该块内存。

下面是NIO Buffe..."><meta itemprop="datePublished" content="2013-06-06T21:52:12+00:00"><meta itemprop="dateModified" content="2013-08-22T21:20:58+00:00"><meta itemprop="url" content="http://ifeve.com/buffers/"><meta itemprop="author" content="airu"><meta itemprop="mainEntityOfPage" content="http://ifeve.com/buffers/"><div style="display: none;" itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization"><meta itemprop="name" content="并发编程网 - ifeve.com"><div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content=""></div></div><div style="display: none;" itemprop="aggregateRating" itemscope="" itemtype="http://schema.org/AggregateRating"><meta itemprop="bestRating" content="5"><meta itemprop="worstRating" content="1"><meta itemprop="ratingValue" content="4.46"><meta itemprop="ratingCount" content="56"></div></div><div id="post-ratings-5282-loading" class="post-ratings-loading">
            <img src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/loading(1).gif" width="16" height="16" class="post-ratings-image">Loading...</div></li>       <li class="post_comment"><a href="http://ifeve.com/buffers/#comments">32 comments</a></li>           </ul>
         </div>
   </div><!-- END .post_wrap -->

   
      <div id="comments_wrapper">
    




<div id="comment_header" class="clearfix">

 <ul id="comment_header_left">
  <li id="add_comment"><a href="http://ifeve.com/buffers/#respond">Write comment</a></li>
  <li id="comment_feed"><a href="http://ifeve.com/comments/feed/" title="Comments RSS">Comments RSS</a></li>
 </ul>

 <ul id="comment_header_right">
   <li id="trackback_closed">Trackback are closed</li>
   <li id="comment_closed">Comments (32)</li>
 </ul>


</div><!-- END #comment_header -->

<div id="comments">

 <div id="comment_area">
  <!-- start commnet -->
  <ol class="commentlist">
	
 <li class="comment guest-comment even_comment" id="comment-1446">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/8ab0f5495ed8a59d0ecfb54bcd96fe9e" srcset="http://2.gravatar.com/avatar/8ab0f5495ed8a59d0ecfb54bcd96fe9e?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-1446">

NinetyH
</span>
     </li>
     <li class="comment-date">06/26. 2013 11:47am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-1446&#39;, &#39;comment-1446&#39;, &#39;comment-content-1446&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-1446">
    <p>Hi, compact() 方法被调用之后， limit 不应该等于capacity ! 我觉得应该是： limit = capacity – （position + 1）。因为未读的数据还在占用buffer 容量！</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-1449">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/8ab0f5495ed8a59d0ecfb54bcd96fe9e" srcset="http://2.gravatar.com/avatar/8ab0f5495ed8a59d0ecfb54bcd96fe9e?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-1449">

NinetyH
</span>
     </li>
     <li class="comment-date">06/26. 2013 2:40pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-1449&#39;, &#39;comment-1449&#39;, &#39;comment-content-1449&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-1449">
    <blockquote cite="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource"><p>
<a href="http://ifeve.com/buffers/#comment-1446" rel="nofollow">NinetyH</a> :<br>
    Hi, compact() 方法被调用之后， limit 不应该等于capacity ! 我觉得应该是： limit = capacity – （position + 1）。因为未读的数据还在占用buffer 容量！
  </p></blockquote>
<p>不好意思，我查看源码(java.nio.DirectByteBuffer)，确实是吧 limit 变成了 capacity!</p>
  </div>

<ul class="children">

 <li class="comment guest-comment odd_comment_children" id="comment-24823">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource(1)" srcset="http://0.gravatar.com/avatar/?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo avatar-default" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-24823">

Anonymous
</span>
     </li>
     <li class="comment-date">09/08. 2014 2:43pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-24823&#39;, &#39;comment-24823&#39;, &#39;comment-content-24823&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-24823">
    <p>limit 应该是总共可以写多少<br>
capacity 应该是总容量<br>
capacity – （position + 1） 应该是还可以写多少</p>
<p>所以此时<br>
limit=capacity应该没问题<br>
limit – （position + 1）这样算应该更准确，毕竟容量与实际允许写的极限不一定相同</p>
  </div>

<ul class="children">

 <li class="comment guest-comment even_comment_children" id="comment-24824">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource(2)" srcset="http://2.gravatar.com/avatar/?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo avatar-default" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-24824">

Anonymous
</span>
     </li>
     <li class="comment-date">09/08. 2014 2:45pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-24824&#39;, &#39;comment-24824&#39;, &#39;comment-content-24824&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-24824">
    <p>翻译厉害，希望更多<br>
<a href="mailto:cj437055739@163.com">cj437055739@163.com</a></p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment_children" id="comment-25929">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/7653bb4b5b3c3b3e1378fb320ca73139" srcset="http://1.gravatar.com/avatar/7653bb4b5b3c3b3e1378fb320ca73139?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-25929">

miniWolfer
</span>
     </li>
     <li class="comment-date">11/05. 2014 4:01pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-25929&#39;, &#39;comment-25929&#39;, &#39;comment-content-25929&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-25929">
    <p>我觉得是设计的一个错误，比如你假如Buffer里面已经cap是40，comppact后剩下35个空，但是你的limit仍然是40，假如我要往里面填数据，填到36个的时候就会出错，好在 Buffer.class类里面有一个nextPutIndex的方法，limit&gt;postion时抛了异常，所以我觉得是设计不合理。</p>
  </div>

<ul class="children">

 <li class="comment guest-comment odd_comment_children" id="comment-26082">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/90fda10f43d791e8111733e0a510396c" srcset="http://0.gravatar.com/avatar/90fda10f43d791e8111733e0a510396c?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26082">

wsinder
</span>
     </li>
     <li class="comment-date">03/03. 2015 4:44pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26082&#39;, &#39;comment-26082&#39;, &#39;comment-content-26082&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26082">
    <p>我觉得这个设计没有问题，你把position给忽略了，当compact后，position不一定为0。</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment admin-comment even_comment" id="comment-1455">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/81cb60aee6c41f414f529fa293c5bfa6(1)" srcset="http://2.gravatar.com/avatar/81cb60aee6c41f414f529fa293c5bfa6?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<a id="commentauthor-1455" class="url admin-url" href="http://www.douban.com/people/airuqixue/" rel="external nofollow">

airu
</a>
     </li>
     <li class="comment-date">06/26. 2013 8:32pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-1455&#39;, &#39;comment-1455&#39;, &#39;comment-content-1455&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-1455">
    <blockquote cite="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource"><p>
<a href="http://ifeve.com/buffers/#comment-1446" rel="nofollow">NinetyH</a> :<br>
    Hi, compact() 方法被调用之后， limit 不应该等于capacity ! 我觉得应该是： limit = capacity – （position + 1）。因为未读的数据还在占用buffer 容量！
  </p></blockquote>
<p>你好，你一定是把limit和position搞混了。compact只是做压缩，如果还要写，那么还需要空间，而且这个最大数值就是limit，所以limit设置成capacity，如果你要读了，那么就需要调用flip。<br>
这个很好测试。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-2080">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource(1)" srcset="http://1.gravatar.com/avatar/?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo avatar-default" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-2080">

Anonymous
</span>
     </li>
     <li class="comment-date">08/21. 2013 2:54pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-2080&#39;, &#39;comment-2080&#39;, &#39;comment-content-2080&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-2080">
    <p>您好！equals（）和compareTo（）的那部分内容里，把“剩余元素”写成“从 position到limit之间的元素”更为准确一些。直接写成“剩余元素”而不加解释的话，容易产生误解，比如可以理解为buffer里未使用的部分，即limt到capacity之间的元素。</p>
  </div>

<ul class="children">

 <li class="comment guest-comment odd_comment_children" id="comment-2084">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/a21e2b8f4893347e62eeca7597f04ebc" srcset="http://1.gravatar.com/avatar/a21e2b8f4893347e62eeca7597f04ebc?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<a id="commentauthor-2084" class="url guest-url" href="http://weibo.com/kirals" rel="external nofollow">

方 腾飞
</a>
     </li>
     <li class="comment-date">08/22. 2013 9:18pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-2084&#39;, &#39;comment-2084&#39;, &#39;comment-content-2084&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-2084">
    <p>多谢你的建议，我修改下。</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment" id="comment-3810">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/ef52f61b95d995e66b53e93644f5983a" srcset="http://2.gravatar.com/avatar/ef52f61b95d995e66b53e93644f5983a?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-3810">

Alpha
</span>
     </li>
     <li class="comment-date">11/04. 2013 3:35pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-3810&#39;, &#39;comment-3810&#39;, &#39;comment-content-3810&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-3810">
    <p>“可以使用equals()和compareTo()方法两个Buffer”<br>
——缺了“比较”二字。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-8721">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource(2)" srcset="http://1.gravatar.com/avatar/?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo avatar-default" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-8721">

Anonymous
</span>
     </li>
     <li class="comment-date">04/03. 2014 6:47pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-8721&#39;, &#39;comment-8721&#39;, &#39;comment-content-8721&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-8721">
    <p>翻译的简洁易懂，作者的功力很深，望有更多的译文分享，不胜感激。。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment" id="comment-10615">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/5ee9004fde3dcc04f6da924f148f5d44" srcset="http://2.gravatar.com/avatar/5ee9004fde3dcc04f6da924f148f5d44?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-10615">

欧克
</span>
     </li>
     <li class="comment-date">04/16. 2014 11:33pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-10615&#39;, &#39;comment-10615&#39;, &#39;comment-content-10615&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-10615">
    <p>while(buf.hasRemaining()){<br>
  System.out.print((char) buf.get()); // read 1 byte at a time<br>
}</p>
<p>这个地方应该是读取了一个char，两个字节吧。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-10616">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/5ee9004fde3dcc04f6da924f148f5d44" srcset="http://2.gravatar.com/avatar/5ee9004fde3dcc04f6da924f148f5d44?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-10616">

欧克
</span>
     </li>
     <li class="comment-date">04/16. 2014 11:35pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-10616&#39;, &#39;comment-10616&#39;, &#39;comment-content-10616&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-10616">
    <blockquote cite="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource(3)"><p>
<a href="http://ifeve.com/buffers/#comment-10615" rel="nofollow">欧克</a> :<br>
    while(buf.hasRemaining()){<br>
  System.out.print((char) buf.get()); // read 1 byte at a time<br>
}<br>
这个地方应该是读取了一个char，两个字节吧。
  </p></blockquote>
<p>Sorry，非常抱歉，请删掉吧。每次一个字节!</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment" id="comment-20317">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/7b4d81af71cdd00786182ee20cd2b0af" srcset="http://1.gravatar.com/avatar/7b4d81af71cdd00786182ee20cd2b0af?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-20317">

Longli
</span>
     </li>
     <li class="comment-date">06/11. 2014 6:00pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-20317&#39;, &#39;comment-20317&#39;, &#39;comment-content-20317&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-20317">
    <p>我觉得应该有一个状态变量，表示当前buffer应该是‘读’状态还是‘写’状态，否则很容易出错。比如：<br>
CharBuffer bf = CharBuffer.allocate(10);<br>
bf.put(‘a’);<br>
bf.put(‘b’);<br>
System.out.println(bf.get());<br>
这里不会打印任何字母，而仅仅是让position加1，而且不报错。不知道代码作者是怎么考虑的。</p>
  </div>

<ul class="children">

 <li class="comment guest-comment even_comment_children" id="comment-22546">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/35e5a4b04fc73489d59b870118055781" srcset="http://0.gravatar.com/avatar/35e5a4b04fc73489d59b870118055781?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<a id="commentauthor-22546" class="url guest-url" href="http://shanruifeng.cc/" rel="external nofollow">

aaron
</a>
     </li>
     <li class="comment-date">07/18. 2014 6:17pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-22546&#39;, &#39;comment-22546&#39;, &#39;comment-content-22546&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-22546">
    <p>你的调用flip()方法让buffer处于read的状态才行。在bf.put(‘b’);后面加上bf.flip();吧～</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-24180">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource(2)" srcset="http://0.gravatar.com/avatar/?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo avatar-default" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-24180">

Anonymous
</span>
     </li>
     <li class="comment-date">08/23. 2014 10:18am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-24180&#39;, &#39;comment-24180&#39;, &#39;comment-content-24180&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-24180">
    <p>写的真好</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment" id="comment-24601">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/9ae64fc4c442a0a25ae0d77f3bf56304" srcset="http://0.gravatar.com/avatar/9ae64fc4c442a0a25ae0d77f3bf56304?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-24601">

Caiqy
</span>
     </li>
     <li class="comment-date">09/01. 2014 9:08pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-24601&#39;, &#39;comment-24601&#39;, &#39;comment-content-24601&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-24601">
    <p>你只能往里写capacity个byte、long，char等类型<br>
这句话有点问题。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-25640">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource(2)" srcset="http://0.gravatar.com/avatar/?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo avatar-default" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-25640">

Anonymous
</span>
     </li>
     <li class="comment-date">10/13. 2014 5:26pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-25640&#39;, &#39;comment-25640&#39;, &#39;comment-content-25640&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-25640">
    <p>感谢分享！</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment" id="comment-25878">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/saved_resource(2)" srcset="http://2.gravatar.com/avatar/?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo avatar-default" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<a id="commentauthor-25878" class="url guest-url" href="http://0.0.0.22/" rel="external nofollow">

112
</a>
     </li>
     <li class="comment-date">10/28. 2014 4:05pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-25878&#39;, &#39;comment-25878&#39;, &#39;comment-content-25878&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-25878">
    <p>read是读，write是写，搞错了吧</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-26105">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/d22cd8c5a5ec5491b349059369f21818" srcset="http://1.gravatar.com/avatar/d22cd8c5a5ec5491b349059369f21818?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26105">

cafebabe
</span>
     </li>
     <li class="comment-date">03/19. 2015 5:09pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26105&#39;, &#39;comment-26105&#39;, &#39;comment-content-26105&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26105">
    <p>翻译的很好，就是评论千奇百怪。。。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment" id="comment-26114">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/abc47e649762f82b264bcd9f957b0cda" srcset="http://1.gravatar.com/avatar/abc47e649762f82b264bcd9f957b0cda?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26114">

wussrc
</span>
     </li>
     <li class="comment-date">03/26. 2015 3:22pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26114&#39;, &#39;comment-26114&#39;, &#39;comment-content-26114&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26114">
    <p>您好，首先感谢您的文章翻译，关于buffer，我有点疑问，请指导。<br>
        CharBuffer buff = CharBuffer.allocate(8);<br>
        System.out.println(“capacity:”+buff.capacity());<br>
        System.out.println(“limit:”+buff.limit());<br>
        System.out.println(“position:”+buff.position());<br>
        buff.put(‘a’);<br>
        buff.put(‘b’);<br>
        buff.put(‘c’);<br>
        System.out.println(“加入三个元素后,position=”+buff.position());<br>
        buff.flip();<br>
        System.out.println(“执行flip后,limit=”+buff.limit());<br>
        System.out.println(“position=”+buff.position());<br>
        //取出第一个元素<br>
        System.out.println(“第一个元素(position=0):”+buff.get());<br>
        System.out.println(“取出第一个元素后,position=”+buff.position());<br>
        buff.clear();<br>
        System.out.println(“执行clear方法后,limit=”+buff.limit());<br>
        System.out.println(“执行clear方法后,position=”+buff.position());<br>
        System.out.println(“执行clear后,缓冲区的内容并没有被清空.第三个元素为:”+buff.get(2));<br>
        System.out.println(“执行绝对读取后,position=”+buff.position());<br>
麻烦您看上边这段代码，这段代码是在一本Java资料中讲NIO中的一段代码，声明了buffer，然后调用flip,之后读取第一个元素，然后调用buffer的clear方法，看您文章上说clear会清空整个缓冲区，如果是这样，当我clear后，再使用buffer.get(index)应该没有任何数据才对，可是我上边的代码在执行clear后再调用buff.get(2)依然可以取到第三个元素。这是不是说明buffer调用clear之后并不清空缓冲区，而只是重置了position和limit的位置，为下一次的读取做准备而已呢？麻烦了。谢谢</p>
  </div>

<ul class="children">

 <li class="comment guest-comment even_comment_children" id="comment-26118">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/88520b65ba3b6b4eac67b71231a424a5" srcset="http://2.gravatar.com/avatar/88520b65ba3b6b4eac67b71231a424a5?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26118">

如真如假
</span>
     </li>
     <li class="comment-date">03/27. 2015 10:04am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26118&#39;, &#39;comment-26118&#39;, &#39;comment-content-26118&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26118">
    <p>从源码的逻辑来看，你说的确实是对的，clear不是清空缓存，只是重置了position和limit的位置。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment_children" id="comment-26149">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/68cfd70c4efb32659350dac4e448bd39" srcset="http://0.gravatar.com/avatar/68cfd70c4efb32659350dac4e448bd39?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26149">

雨蓝
</span>
     </li>
     <li class="comment-date">04/25. 2015 5:19pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26149&#39;, &#39;comment-26149&#39;, &#39;comment-content-26149&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26149">
    <p>clear 并没有清理而是设置了postion和limit的值，让过去的数据被遗忘</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-26140">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/c584a2ad2b49b03699931c6bf0a02032" srcset="http://0.gravatar.com/avatar/c584a2ad2b49b03699931c6bf0a02032?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26140">

sdoq19
</span>
     </li>
     <li class="comment-date">04/17. 2015 3:56pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26140&#39;, &#39;comment-26140&#39;, &#39;comment-content-26140&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26140">
    <p>写的真好！</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment" id="comment-26188">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/f5b9ac2e8bac7b62246ca89f2468766d" srcset="http://0.gravatar.com/avatar/f5b9ac2e8bac7b62246ca89f2468766d?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26188">

lm_bfbcw
</span>
     </li>
     <li class="comment-date">05/11. 2015 7:13pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26188&#39;, &#39;comment-26188&#39;, &#39;comment-content-26188&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26188">
    <p>上述代码在读取中文的文本内容时,一定会乱码,因为中文占多个字节,上面是一个字节一解码,肯定有问题, 改成下面这种写法:<br>
		RandomAccessFile aFile = new RandomAccessFile(“D:/a.txt”, “rw”);<br>
		FileChannel inChannel = aFile.getChannel();</p>
<p>		//create buffer with capacity of 48 bytes<br>
		ByteBuffer buf = ByteBuffer.allocate(48);</p>
<p>		int bytesRead = 0; //read into buffer.<br>
		while ((bytesRead = inChannel.read(buf)) != -1) {</p>
<p>		  buf.flip();  //make buffer ready for read</p>
<p>		  byte[] b = buf.array();<br>
		  System.out.println(new String(b, 0, bytesRead, “gbk”));</p>
<p>		  buf.clear(); //make buffer ready for writing<br>
		}<br>
	aFile.close();</p>
<p>这种写法能避免小文件的乱码情况,当文件超过48字节也可能会有问题.<br>
假设ByteBuffer的capacity设置为3, 读取内容为”abcde中国”的文本,第一次读取3个字节即abc然后按照gbk解码没有问题, 第二次读取”de”和”中”的第一个字节,满了三个字节,进行解码,这时de可以正常解码,但后面的中只有一个字节,按gbk解码肯定乱码,所以,当一个文本可以完全被ByteBuffer装下时是没有问题的,一旦ByteBuffer不能完全装下,在中英文混杂时,极有可能某个汉字只读取了部分字节就被解码了造成乱码,怎么解决?</p>
  </div>

<ul class="children">

 <li class="comment guest-comment even_comment_children" id="comment-26717">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/968e45caaa8d66c89af83b7c9acabfbb" srcset="http://0.gravatar.com/avatar/968e45caaa8d66c89af83b7c9acabfbb?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26717">

lorancechen
</span>
     </li>
     <li class="comment-date">02/27. 2016 3:10pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26717&#39;, &#39;comment-26717&#39;, &#39;comment-content-26717&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26717">
    <p>请问你解决了这个循环造成的乱码问题吗？我也是刚发现，目前没想到好的方法，只能把文件编码格式转换了定长的编码，然后ByteBuffer分配的空间，刚好能够整除定长编码所占的空间就不会出现乱码了。</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-26205">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/12dafa7b0ac8a081194449777db2d125" srcset="http://1.gravatar.com/avatar/12dafa7b0ac8a081194449777db2d125?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26205">

silymer
</span>
     </li>
     <li class="comment-date">05/30. 2015 11:57am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26205&#39;, &#39;comment-26205&#39;, &#39;comment-content-26205&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26205">
    <p>怎么觉得这段代码无法运行呢。。。。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment" id="comment-26321">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/eab92beb9f3d57656fd98c4a1af8f0c3" srcset="http://2.gravatar.com/avatar/eab92beb9f3d57656fd98c4a1af8f0c3?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26321">

iteve
</span>
     </li>
     <li class="comment-date">08/12. 2015 4:10pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26321&#39;, &#39;comment-26321&#39;, &#39;comment-content-26321&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26321">
    <p>简洁明了，评论也不错，帮助进一步理解。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-26714">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/968e45caaa8d66c89af83b7c9acabfbb" srcset="http://0.gravatar.com/avatar/968e45caaa8d66c89af83b7c9acabfbb?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26714">

lorancechen
</span>
     </li>
     <li class="comment-date">02/26. 2016 11:35pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26714&#39;, &#39;comment-26714&#39;, &#39;comment-content-26714&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26714">
    <p>非常好的总结，我发现一处错误，可能是手误：equals()方法的描述是比较position和limit之间的数据（当前正在使用的数据）</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment even_comment" id="comment-26716">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/968e45caaa8d66c89af83b7c9acabfbb" srcset="http://0.gravatar.com/avatar/968e45caaa8d66c89af83b7c9acabfbb?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26716">

lorancechen
</span>
     </li>
     <li class="comment-date">02/27. 2016 3:07pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26716&#39;, &#39;comment-26716&#39;, &#39;comment-content-26716&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26716">
    <p>我发现一个乱码的问提，当使用while循环的时候，不能保证最后的几个byte刚好处理一个完整的字符，尤其是使用变长编码（Unicode）的时候，出现乱码的概率会更大。当使用ASCII编码是没问题的，因为它是1Byte，就算ByteBuffer分配一个byte也能正常读取。</p>
  </div>

<ul class="children">

 <li class="comment guest-comment even_comment_children" id="comment-26859">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/402549e64e90b64504a66965db9fe308" srcset="http://1.gravatar.com/avatar/402549e64e90b64504a66965db9fe308?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26859">

lee_mingzhu
</span>
     </li>
     <li class="comment-date">04/22. 2016 6:52pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-26859&#39;, &#39;comment-26859&#39;, &#39;comment-content-26859&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26859">
    <p>感觉NIO的使用场景还是在tcp通讯实现非阻塞IO的用处比较多，在读写文件方面好像并不是特别好。<br>
尤其是使用byteBuffer循环读取非ASCII编码字符，实在是无法保证读取的字节是完整的。</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-27728">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/33b215c61ab9130a1a9c3bb5b6198f57" srcset="http://0.gravatar.com/avatar/33b215c61ab9130a1a9c3bb5b6198f57?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27728">

laimuc
</span>
     </li>
     <li class="comment-date">05/20. 2017 11:16am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fbuffers%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-27728&#39;, &#39;comment-27728&#39;, &#39;comment-content-27728&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27728">
    <p>position最大可为capacity – 1.</p>
<p>这句有问题，position最大可为capacity</p>
  </div>

</li><!-- #comment-## -->
  </ol>
  <!-- comments END -->

  
 </div><!-- #comment-list END -->


 <div id="trackback_area">
 <!-- start trackback -->
  <!-- trackback end -->
 </div><!-- #trackbacklist END -->

 


 
 <div class="comment_form_wrapper" id="respond">
    You must be <a href="http://ifeve.com/wp-login.php">logged in</a> to post a comment. </div>

 </div><!-- #comment end -->   </div>
   
      <div id="previous_next_post_single">
    <div class="clearfix">
     <p id="previous_post"><a href="http://ifeve.com/socket-channel/" rel="prev">Java NIO系列教程（八） SocketChannel</a></p>     <p id="next_post"><a href="http://ifeve.com/channels/" rel="next">Java NIO系列教程（二） Channel</a></p>    </div>
   </div>
   

  </div><!-- END #left_col -->

  <div id="container"></div>

    <div id="right_col">
   

<div class="side_box clearfix" id="side_meta_content">

  <ul id="social_link" class="clearfix">
    <li class="rss_button"><a class="target_blank" href="http://ifeve.com/feed/" target="_blank">rss</a></li>
       </ul>
 
  <div id="search_area">
    <form method="get" id="searchform" action="http://ifeve.com/">
   <div><input id="search_button" class="rollover" type="image" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/search_button.gif" alt="SEARCH" title="SEARCH"></div>
   <div><input id="search_input" type="text" value="SEARCH" name="s" onfocus="if (this.value == &#39;SEARCH&#39;) this.value = &#39;&#39;;" onblur="if (this.value == &#39;&#39;) this.value = &#39;SEARCH&#39;;"></div>
  </form>
   </div>
 
</div>


<div id="side_top">

 <div class="widget_text side_box widget_custom_html" id="custom_html-3">
<div class="textwidget custom-html-widget"><!-- 
<a href="https://cn.100offer.com/?utm_source=ifeve&utm_medium=display&utm_campaign=ifeve&campaign_code=ifeve" target="_blank"><img src="http://ifeve.com/wp-content/uploads/2017/09/WechatIMG70.jpeg" />
-->

<script async="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/adsbygoogle.js"></script>
<!-- 首页－右上－2 -->
<ins class="adsbygoogle" style="display: inline-block; width: 320px; height: 280px;" data-ad-client="ca-pub-9394337417063147" data-ad-slot="8872369516" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:320px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:320px;background-color:transparent;"><iframe width="320" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:320px;height:280px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div>
<div class="side_box widget_views" id="views-4">
<h3 class="side_title">热门文章</h3>
<ul>
<li><a href="http://ifeve.com/buffers/" title="Google Guava官方教程（中文版）">Google Guava官方教程（中文版）</a> 577,989 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java NIO系列教程（一） Java NIO 概述">Java NIO系列教程（一） Java NIO 概述</a> 396,924 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java并发性和多线程介绍目录">Java并发性和多线程介绍目录</a> 276,173 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java NIO 系列教程">Java NIO 系列教程</a> 262,287 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java NIO系列教程（十二） Java NIO与IO">Java NIO系列教程（十二） Java NIO与IO</a> 224,201 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java8初体验（二）Stream语法详解">Java8初体验（二）Stream语法详解</a> 205,512 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java NIO系列教程（六） Selector">Java NIO系列教程（六） Selector</a> 198,517 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java NIO系列教程（三） Buffer">Java NIO系列教程（三） Buffer</a> 194,577 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java NIO系列教程（二） Channel">Java NIO系列教程（二） Channel</a> 192,810 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="《Storm入门》中文版">《Storm入门》中文版</a> 177,068 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="69道Spring面试题和答案">69道Spring面试题和答案</a> 165,834 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Netty 5用户指南">Netty 5用户指南</a> 159,768 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="面试题">面试题</a> 144,183 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="并发框架Disruptor译文">并发框架Disruptor译文</a> 142,693 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java 7 并发编程指南中文版">Java 7 并发编程指南中文版</a> 137,927 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java NIO系列教程（八） SocketChannel">Java NIO系列教程（八） SocketChannel</a> 126,941 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="[Google Guava] 3-缓存">[Google Guava] 3-缓存</a> 121,448 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="[Google Guava] 2.3-强大的集合工具类：ja...">[Google Guava] 2.3-强大的集合工具类：ja...</a> 120,788 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="[Google Guava] 1.1-使用和避免null">[Google Guava] 1.1-使用和避免null</a> 111,679 人阅读 </li><li><a href="http://ifeve.com/buffers/" title="Java NIO系列教程（七） FileChannel">Java NIO系列教程（七） FileChannel</a> 109,987 人阅读 </li></ul>
</div>
<div class="widget_text side_box widget_custom_html" id="custom_html-4">
<div class="textwidget custom-html-widget"><script async="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/adsbygoogle.js"></script>
<!-- 首页－右上－2 -->
<ins class="adsbygoogle" style="display: inline-block; width: 320px; height: 280px;" data-ad-client="ca-pub-9394337417063147" data-ad-slot="8872369516" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:320px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:320px;background-color:transparent;"><iframe width="320" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:320px;height:280px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div>
		<div class="side_box widget_recent_entries" id="recent-posts-2">
		<h3 class="side_title">Recent Posts</h3>
		<ul>
											<li>
					<a href="http://ifeve.com/consist-hash/">浅尝一致性Hash原理</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-threadmodel/">Dubbo剖析-线程模型</a>
									</li>
											<li>
					<a href="http://ifeve.com/%e5%88%86%e5%b8%83%e5%bc%8f%e7%90%86%e8%ae%ba%ef%bc%9acap%e6%98%af%e4%b8%89%e9%80%89%e4%ba%8c%e5%90%97/">分布式理论：CAP是三选二吗?</a>
									</li>
											<li>
					<a href="http://ifeve.com/jarslink161/">Jarslink1.6.1版本特性</a>
									</li>
											<li>
					<a href="http://ifeve.com/%e3%80%8a%e6%b7%b1%e5%85%a5%e5%88%86%e5%b8%83%e5%bc%8f%e7%bc%93%e5%ad%98%e3%80%8b%e4%b9%8b-%e7%bc%93%e5%ad%98%e4%b8%ba%e7%8e%8b/">《深入分布式缓存》之 “缓存为王”</a>
									</li>
											<li>
					<a href="http://ifeve.com/thrift/">《Thrift官方文档》翻译邀请</a>
									</li>
											<li>
					<a href="http://ifeve.com/%e3%80%8aapache-rocketmq%e7%94%a8%e6%88%b7%e6%8c%87%e5%8d%97%e3%80%8b%e4%b9%8b%e5%ae%9a%e6%97%b6%e6%b6%88%e6%81%af%e7%a4%ba%e4%be%8b/">《Apache RocketMQ用户指南》之定时消息示例</a>
									</li>
											<li>
					<a href="http://ifeve.com/spring-service-exportinvoker/">使用Spring框架实现远程服务暴露与调用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-consumer-invoker2interface/">Dubbo剖析-服务消费方Invoker到客户端接口的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-consumer-service2invoker/">Dubbo剖析-服务消费方远程服务到Invoker的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/linux%e9%9b%b6%e6%8b%b7%e8%b4%9d%e5%8e%9f%e7%90%86/">Linux零拷贝原理</a>
									</li>
											<li>
					<a href="http://ifeve.com/jarslink-opensource/">阿里再开源！模块化开发框架JarsLink</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-provider-invoker2exporter/">Dubbo剖析-服务提供方Invoker到Exporter的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-impl2invoker/">Dubbo剖析-服务提供方实现类到Invoker的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-spi-auto-wrap/">Dubbo剖析-增强SPI中扩展点自动包装的实现</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-async-call/">Dubbo剖析-服务消费端异步调用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-p2p/">Dubbo剖析-服务直连</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-group-version/">Dubbo剖析-服务分组与服务版本号</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-monitor/">Dubbo剖析-监控平台的搭建与使用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-spi/">Dubbo剖析-增强SPI的实现</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-framework/">Dubbo剖析-整体架构分析</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-in-ecs/">《Linkerd官方文档》在ECS中运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-with-istio/">《Linkerd官方文档》与Istio一起运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-dc-os/">《Linkerd官方文档》在DC / OS中运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-console-manager/">Dubbo剖析-管理控制台的搭建与使用</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-in-kubernetes/">《Linkerd官方文档》在Kubernetes中运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-generic/">Dubbo剖析-服务消费端泛化调用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo2/">Dubbo剖析-搭建一个简单的分布式系统（2）</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-with-docker/">《Linkerd官方文档》使用Docker运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-locally/">《Linkerd官方文档》在本地运行Linkerd</a>
									</li>
					</ul>
		</div>
<div class="side_box widget_categories" id="categories-2">
<h3 class="side_title">Categories</h3>
		<ul>
	<li class="cat-item cat-item-415"><a href="http://ifeve.com/category/android/">Android</a> (3)
</li>
	<li class="cat-item cat-item-289"><a href="http://ifeve.com/category/c/">C++</a> (12)
</li>
	<li class="cat-item cat-item-366"><a href="http://ifeve.com/category/cpu-2/">CPU</a> (2)
</li>
	<li class="cat-item cat-item-73"><a href="http://ifeve.com/category/framework/">Framework</a> (72)
<ul class="children">
	<li class="cat-item cat-item-387"><a href="http://ifeve.com/category/framework/akka/">akka</a> (20)
</li>
</ul>
</li>
	<li class="cat-item cat-item-458"><a href="http://ifeve.com/category/go/">GO</a> (6)
</li>
	<li class="cat-item cat-item-617"><a href="http://ifeve.com/category/groovy/">groovy</a> (6)
</li>
	<li class="cat-item cat-item-310"><a href="http://ifeve.com/category/guava-2/">guava</a> (23)
</li>
	<li class="cat-item cat-item-69"><a href="http://ifeve.com/category/java/">JAVA</a> (816)
</li>
	<li class="cat-item cat-item-127"><a href="http://ifeve.com/category/jvm/">JVM</a> (40)
</li>
	<li class="cat-item cat-item-300"><a href="http://ifeve.com/category/linux/">linux</a> (9)
</li>
	<li class="cat-item cat-item-1061"><a href="http://ifeve.com/category/microservices/">microservices</a> (1)
</li>
	<li class="cat-item cat-item-280"><a href="http://ifeve.com/category/netty/">Netty</a> (31)
</li>
	<li class="cat-item cat-item-632"><a href="http://ifeve.com/category/react/">react</a> (6)
</li>
	<li class="cat-item cat-item-623"><a href="http://ifeve.com/category/redis/">redis</a> (23)
</li>
	<li class="cat-item cat-item-166"><a href="http://ifeve.com/category/scala/">Scala</a> (11)
</li>
	<li class="cat-item cat-item-672"><a href="http://ifeve.com/category/spark/">spark</a> (19)
</li>
	<li class="cat-item cat-item-1011"><a href="http://ifeve.com/category/spring/">Spring</a> (23)
</li>
	<li class="cat-item cat-item-388"><a href="http://ifeve.com/category/storm/">storm</a> (44)
</li>
	<li class="cat-item cat-item-620"><a href="http://ifeve.com/category/thinking/">thinking</a> (3)
</li>
	<li class="cat-item cat-item-485"><a href="http://ifeve.com/category/velocity/">Velocity</a> (10)
</li>
	<li class="cat-item cat-item-279"><a href="http://ifeve.com/category/web/">Web</a> (18)
</li>
	<li class="cat-item cat-item-980"><a href="http://ifeve.com/category/zookeeper/">zookeeper</a> (1)
</li>
	<li class="cat-item cat-item-148"><a href="http://ifeve.com/category/notice/">公告</a> (5)
</li>
	<li class="cat-item cat-item-378"><a href="http://ifeve.com/category/bigdata/">大数据</a> (33)
</li>
	<li class="cat-item cat-item-138"><a href="http://ifeve.com/category/%e5%a5%bd%e6%96%87%e6%8e%a8%e8%8d%90/">好文推荐</a> (31)
</li>
	<li class="cat-item cat-item-244"><a href="http://ifeve.com/category/%e5%b9%b6%e5%8f%91%e4%b9%a6%e7%b1%8d/">并发书籍</a> (97)
</li>
	<li class="cat-item cat-item-29"><a href="http://ifeve.com/category/concurrency-translation/" title="发布国外并发编程相关文献译文。">并发译文</a> (410)
</li>
	<li class="cat-item cat-item-979"><a href="http://ifeve.com/category/%e6%84%9f%e6%82%9f/">感悟</a> (3)
</li>
	<li class="cat-item cat-item-7"><a href="http://ifeve.com/category/ask/" title="可以在这里发表并发编程的问题。如何发表？用QQ登陆，然后点击“新建文章”，管理员审核后就可以发表。">技术问答</a> (12)
</li>
	<li class="cat-item cat-item-147"><a href="http://ifeve.com/category/%e6%95%8f%e6%8d%b7%e7%ae%a1%e7%90%86/">敏捷管理</a> (6)
</li>
	<li class="cat-item cat-item-1"><a href="http://ifeve.com/category/talk-concurrent/">本站原创</a> (87)
</li>
	<li class="cat-item cat-item-367"><a href="http://ifeve.com/category/%e6%9e%b6%e6%9e%84/">架构</a> (32)
</li>
	<li class="cat-item cat-item-305"><a href="http://ifeve.com/category/%e6%b4%bb%e5%8a%a8/">活动</a> (6)
</li>
	<li class="cat-item cat-item-414"><a href="http://ifeve.com/category/%e7%bd%91%e7%bb%9c/">网络</a> (7)
</li>
		</ul>
</div>
</div>
<div id="side_middle" class="clearfix">
 <div id="side_left">
   </div>
 <div id="side_right">
   </div>
</div>
<div id="side_bottom">
 <div class="side_box widget_tag_cloud" id="tag_cloud-4">
<h3 class="side_title">Tags</h3>
<div class="tagcloud"><a href="http://ifeve.com/tag/actor/" class="tag-cloud-link tag-link-226 tag-link-position-1" style="font-size: 12.623853211009pt;" aria-label="actor (17 items)">actor</a>
<a href="http://ifeve.com/tag/basic/" class="tag-cloud-link tag-link-213 tag-link-position-2" style="font-size: 11.596330275229pt;" aria-label="Basic (14 items)">Basic</a>
<a href="http://ifeve.com/tag/classes/" class="tag-cloud-link tag-link-251 tag-link-position-3" style="font-size: 8.6422018348624pt;" aria-label="classes (8 items)">classes</a>
<a href="http://ifeve.com/tag/collections/" class="tag-cloud-link tag-link-260 tag-link-position-4" style="font-size: 10.311926605505pt;" aria-label="collections (11 items)">collections</a>
<a href="http://ifeve.com/tag/concurrency/" class="tag-cloud-link tag-link-111 tag-link-position-5" style="font-size: 20.45871559633pt;" aria-label="concurrency (73 items)">concurrency</a>
<a href="http://ifeve.com/tag/concurrent/" class="tag-cloud-link tag-link-214 tag-link-position-6" style="font-size: 10.697247706422pt;" aria-label="Concurrent (12 items)">Concurrent</a>
<a href="http://ifeve.com/tag/concurrent-data-structure/" class="tag-cloud-link tag-link-322 tag-link-position-7" style="font-size: 11.211009174312pt;" aria-label="concurrent data structure (13 items)">concurrent data structure</a>
<a href="http://ifeve.com/tag/customizing/" class="tag-cloud-link tag-link-250 tag-link-position-8" style="font-size: 8.6422018348624pt;" aria-label="Customizing (8 items)">Customizing</a>
<a href="http://ifeve.com/tag/executor/" class="tag-cloud-link tag-link-177 tag-link-position-9" style="font-size: 13.394495412844pt;" aria-label="Executor (20 items)">Executor</a>
<a href="http://ifeve.com/tag/executor-framework/" class="tag-cloud-link tag-link-231 tag-link-position-10" style="font-size: 12.880733944954pt;" aria-label="Executor framework (18 items)">Executor framework</a>
<a href="http://ifeve.com/tag/false-sharing/" class="tag-cloud-link tag-link-119 tag-link-position-11" style="font-size: 8pt;" aria-label="False Sharing (7 items)">False Sharing</a>
<a href="http://ifeve.com/tag/faq/" class="tag-cloud-link tag-link-39 tag-link-position-12" style="font-size: 11.211009174312pt;" aria-label="faq (13 items)">faq</a>
<a href="http://ifeve.com/tag/fork/" class="tag-cloud-link tag-link-232 tag-link-position-13" style="font-size: 10.697247706422pt;" aria-label="fork (12 items)">fork</a>
<a href="http://ifeve.com/tag/forkjoin/" class="tag-cloud-link tag-link-224 tag-link-position-14" style="font-size: 9.2844036697248pt;" aria-label="Fork/Join (9 items)">Fork/Join</a>
<a href="http://ifeve.com/tag/fork-join/" class="tag-cloud-link tag-link-53 tag-link-position-15" style="font-size: 8.6422018348624pt;" aria-label="fork join (8 items)">fork join</a>
<a href="http://ifeve.com/tag/framework/" class="tag-cloud-link tag-link-1018 tag-link-position-16" style="font-size: 14.165137614679pt;" aria-label="Framework (23 items)">Framework</a>
<a href="http://ifeve.com/tag/functional-programming/" class="tag-cloud-link tag-link-460 tag-link-position-17" style="font-size: 9.7981651376147pt;" aria-label="Functional Programming (10 items)">Functional Programming</a>
<a href="http://ifeve.com/tag/guava/" class="tag-cloud-link tag-link-309 tag-link-position-18" style="font-size: 11.853211009174pt;" aria-label="Guava (15 items)">Guava</a>
<a href="http://ifeve.com/tag/io/" class="tag-cloud-link tag-link-129 tag-link-position-19" style="font-size: 14.807339449541pt;" aria-label="IO (26 items)">IO</a>
<a href="http://ifeve.com/tag/java/" class="tag-cloud-link tag-link-1016 tag-link-position-20" style="font-size: 22pt;" aria-label="JAVA (96 items)">JAVA</a>
<a href="http://ifeve.com/tag/java8/" class="tag-cloud-link tag-link-342 tag-link-position-21" style="font-size: 11.211009174312pt;" aria-label="java8 (13 items)">java8</a>
<a href="http://ifeve.com/tag/jmm/" class="tag-cloud-link tag-link-31 tag-link-position-22" style="font-size: 15.834862385321pt;" aria-label="jmm (31 items)">jmm</a>
<a href="http://ifeve.com/tag/join/" class="tag-cloud-link tag-link-233 tag-link-position-23" style="font-size: 10.697247706422pt;" aria-label="join (12 items)">join</a>
<a href="http://ifeve.com/tag/jvm/" class="tag-cloud-link tag-link-1019 tag-link-position-24" style="font-size: 12.880733944954pt;" aria-label="JVM (18 items)">JVM</a>
<a href="http://ifeve.com/tag/lock/" class="tag-cloud-link tag-link-17 tag-link-position-25" style="font-size: 14.165137614679pt;" aria-label="lock (23 items)">lock</a>
<a href="http://ifeve.com/tag/memory-barriers/" class="tag-cloud-link tag-link-75 tag-link-position-26" style="font-size: 9.7981651376147pt;" aria-label="Memory Barriers (10 items)">Memory Barriers</a>
<a href="http://ifeve.com/tag/netty/" class="tag-cloud-link tag-link-1027 tag-link-position-27" style="font-size: 13.137614678899pt;" aria-label="Netty (19 items)">Netty</a>
<a href="http://ifeve.com/tag/nio/" class="tag-cloud-link tag-link-1021 tag-link-position-28" style="font-size: 12.238532110092pt;" aria-label="NIO (16 items)">NIO</a>
<a href="http://ifeve.com/tag/oauth-2-0/" class="tag-cloud-link tag-link-380 tag-link-position-29" style="font-size: 8.6422018348624pt;" aria-label="OAuth 2.0 (8 items)">OAuth 2.0</a>
<a href="http://ifeve.com/tag/pattern-matching/" class="tag-cloud-link tag-link-167 tag-link-position-30" style="font-size: 8.6422018348624pt;" aria-label="pattern-matching (8 items)">pattern-matching</a>
<a href="http://ifeve.com/tag/ringbuffer/" class="tag-cloud-link tag-link-91 tag-link-position-31" style="font-size: 8pt;" aria-label="RingBuffer (7 items)">RingBuffer</a>
<a href="http://ifeve.com/tag/scala/" class="tag-cloud-link tag-link-1023 tag-link-position-32" style="font-size: 13.908256880734pt;" aria-label="Scala (22 items)">Scala</a>
<a href="http://ifeve.com/tag/service-mesh/" class="tag-cloud-link tag-link-1063 tag-link-position-33" style="font-size: 8.6422018348624pt;" aria-label="service mesh (8 items)">service mesh</a>
<a href="http://ifeve.com/tag/slf4j/" class="tag-cloud-link tag-link-813 tag-link-position-34" style="font-size: 8.6422018348624pt;" aria-label="slf4j (8 items)">slf4j</a>
<a href="http://ifeve.com/tag/spark/" class="tag-cloud-link tag-link-634 tag-link-position-35" style="font-size: 12.623853211009pt;" aria-label="spark (17 items)">spark</a>
<a href="http://ifeve.com/tag/spark%e5%ae%98%e6%96%b9%e6%96%87%e6%a1%a3/" class="tag-cloud-link tag-link-635 tag-link-position-36" style="font-size: 12.623853211009pt;" aria-label="spark官方文档 (17 items)">spark官方文档</a>
<a href="http://ifeve.com/tag/stm/" class="tag-cloud-link tag-link-199 tag-link-position-37" style="font-size: 10.697247706422pt;" aria-label="stm (12 items)">stm</a>
<a href="http://ifeve.com/tag/storm/" class="tag-cloud-link tag-link-351 tag-link-position-38" style="font-size: 16.990825688073pt;" aria-label="Storm (39 items)">Storm</a>
<a href="http://ifeve.com/tag/synchronization/" class="tag-cloud-link tag-link-216 tag-link-position-39" style="font-size: 11.853211009174pt;" aria-label="synchronization (15 items)">synchronization</a>
<a href="http://ifeve.com/tag/synchronized/" class="tag-cloud-link tag-link-15 tag-link-position-40" style="font-size: 9.7981651376147pt;" aria-label="Synchronized (10 items)">Synchronized</a>
<a href="http://ifeve.com/tag/thread/" class="tag-cloud-link tag-link-11 tag-link-position-41" style="font-size: 17.504587155963pt;" aria-label="thread (43 items)">thread</a>
<a href="http://ifeve.com/tag/tomcat/" class="tag-cloud-link tag-link-347 tag-link-position-42" style="font-size: 9.2844036697248pt;" aria-label="tomcat (9 items)">tomcat</a>
<a href="http://ifeve.com/tag/volatile/" class="tag-cloud-link tag-link-25 tag-link-position-43" style="font-size: 11.211009174312pt;" aria-label="volatile (13 items)">volatile</a>
<a href="http://ifeve.com/tag/%e5%a4%9a%e7%ba%bf%e7%a8%8b/" class="tag-cloud-link tag-link-197 tag-link-position-44" style="font-size: 9.2844036697248pt;" aria-label="多线程 (9 items)">多线程</a>
<a href="http://ifeve.com/tag/%e5%b9%b6%e5%8f%91%e8%af%91%e6%96%87%ef%bc%8cjava-%ef%bc%8cmaven/" class="tag-cloud-link tag-link-1034 tag-link-position-45" style="font-size: 16.605504587156pt;" aria-label="并发译文，Java ，Maven (36 items)">并发译文，Java ，Maven</a></div>
</div>
<div class="widget_text side_box widget_custom_html" id="custom_html-2">
<div class="textwidget custom-html-widget"><script async="" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/adsbygoogle.js"></script>
<!-- 摩天大楼 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:600px" data-ad-client="ca-pub-9394337417063147" data-ad-slot="6358703113" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><ins id="aswift_2_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><iframe width="300" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;width:300px;height:600px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- 
<script type="text/javascript">
    /*自适应 创建于 June 30, 2016*/
    var cpro_id = "u2690738";

<script type="text/javascript" src="http://cpro.baidustatic.com/cpro/ui/i.js"></script>
 -->

<!-- CNZZ -->
<script src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/stat.php" language="JavaScript"></script><script src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=5003572" target="_blank" title="站长统计"><img border="0" hspace="0" vspace="0" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/pic.gif"></a></div></div>
</div>

  </div>
  
  <div id="footer">

<ul id="copyright">
    <li>Copyright ©&nbsp; <a href="http://ifeve.com/">并发编程网 – ifeve.com</a></li>
    <li>ICP号: <a href="http://www.miibeian.gov.cn/" target="_blank">浙ICP备12046809号</a></li>
 <li>	
<a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602005873" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="" style="float:left;">浙公网安备 33010602005873号</a></li>
   </ul>
		 
		 

 </div>

	
 </div><!-- END #main_content -->

  <p id="return_top" style="display: block;"><a href="http://ifeve.com/buffers/#header">return top</a></p>
 
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/shCore.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/shBrushJava.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/styles/shCore.css?ver=2.1.364";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/styles/shThemeEclipse.css?ver=2.1.364";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.clipboardSwf = 'http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf';
	SyntaxHighlighter.config.strings.expandSource = 'show source';
	SyntaxHighlighter.config.strings.viewSource = 'view source';
	SyntaxHighlighter.config.strings.copyToClipboard = 'copy to clipboard';
	SyntaxHighlighter.config.strings.copyToClipboardConfirmation = 'The code is in your clipboard now';
	SyntaxHighlighter.config.strings.print = 'print';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.all();
</script>
<link rel="stylesheet" id="yarppRelatedCss-css" href="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/related.css" type="text/css" media="all">
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/core.min.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/widget.min.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/tabs.min.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/comment-reply.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var ratingsL10n = {"plugin_url":"http:\/\/ifeve.com\/wp-content\/plugins\/wp-postratings","ajax_url":"http:\/\/ifeve.com\/wp-admin\/admin-ajax.php","text_wait":"Please rate only 1 item at a time.","image":"stars_crystal","image_ext":"gif","max":"5","show_loading":"1","show_fading":"1","custom":"0"};
var ratings_mouseover_image=new Image();ratings_mouseover_image.src="http://ifeve.com/wp-content/plugins/wp-postratings/images/stars_crystal/rating_over.gif";;
/* ]]> */
</script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/postratings-js.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/ifeve.com\/wp-admin\/admin-ajax.php","post_id":"5282"};
/* ]]> */
</script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/postviews-cache.js"></script>
<script type="text/javascript" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/wp-embed.min.js"></script>



<script src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/jquery.min.js"></script>

<script src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/jquery.bpopup-0.8.0.min.js"></script>

<!-- Dynamic page generated in 0.813 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-04-07 11:07:02 -->

<!-- Compression = gzip -->
<!-- super cache --><ins class="adsbygoogle" data-adsbygoogle-status="done" style="display: none;"><ins id="aswift_3_expand" style="display:inline-table;border:none;height:NaNpx;margin:0;padding:0;position:relative;visibility:visible;width:NaNpx;background-color:transparent;"><ins id="aswift_3_anchor" style="display:block;border:none;height:NaNpx;margin:0;padding:0;position:relative;visibility:visible;width:NaNpx;background-color:transparent;"><iframe frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;width:NaNpx;height:NaNpx;"></iframe></ins></ins></ins><div class="sogoutip" style="z-index: 2147483645; visibility: hidden; display: none;"></div><div class="sogoubottom" id="sougou_bottom" style="display: none;"></div><div id="ext_stophi" style="z-index: 2147483647;"><div class="extnoticebg"></div><div class="extnotice"><h2>关闭提示 <a href="http://ifeve.com/buffers/#" title="关闭提示" id="closenotice" class="closenotice">关闭</a></h2><p id="sogouconfirmtxt"></p>  <a id="sogouconfirm" href="http://ifeve.com/buffers/#" class="extconfirm">确 认</a> <a id="sogoucancel" href="http://ifeve.com/buffers/#" class="extconfirm">取 消</a></div></div><div id="ext_overlay" class="ext_overlayBG" style="display: none; z-index: 2147483646;"></div><iframe class="sogou_sugg_feedbackquan" frameborder="0" scrolling="no" src="./Java NIO系列教程（三） Buffer _ 并发编程网 – ifeve.com_files/yun6.html" style="border: none; display: none; height: 84px; width: 100%; z-index: 2147483645; background: transparent;"></iframe></body></html>