<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0037)http://ifeve.com/non-blocking-server/ -->
<html xmlns="http://www.w3.org/1999/xhtml"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<base target="_blank">--><base href="." target="_blank">
<meta name="baidu_union_verify" content="d30f7acd6a9a378cc0aeb0bd0ddfe30d">

<script src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/ca-pub-9394337417063147.js"></script><script async="" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9394337417063147",
    enable_page_level_ads: true
  });
</script>
<title>《Java NIO文档》非阻塞式服务器 | 并发编程网 – ifeve.com</title>
<meta name="description" content="让天下没有难学的技术">

<link rel="alternate" type="application/rss+xml" title="并发编程网 – ifeve.com RSS Feed" href="http://ifeve.com/feed/">
<link rel="alternate" type="application/atom+xml" title="并发编程网 – ifeve.com Atom Feed" href="http://ifeve.com/feed/atom/"> 
<link rel="pingback" href="http://ifeve.com/xmlrpc.php">

<link rel="stylesheet" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/style.css" type="text/css">
<link rel="stylesheet" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/comment-style.css" type="text/css">

 
<link rel="dns-prefetch" href="http://ajax.googleapis.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="并发编程网 - ifeve.com » 《Java NIO文档》非阻塞式服务器 Comments Feed" href="http://ifeve.com/non-blocking-server/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/ifeve.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.5"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/wp-emoji-release.min.js" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="wpfp-css" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/wpfp.css" type="text/css">
<link rel="stylesheet" id="yarppWidgetCss-css" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/widget.css" type="text/css" media="all">
<link rel="stylesheet" id="jquery-ui-css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/themes/base/jquery-ui.css?ver=4.9.5" type="text/css" media="all">
<link rel="stylesheet" id="dwqa-style-css" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/style(1).css" type="text/css" media="all">
<link rel="stylesheet" id="dwqa-rtl-css" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/rtl.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-postratings-css" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/postratings-css.css" type="text/css" media="all">
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/jquery.js"></script><link rel="preload" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/integrator.js"><script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/integrator.js"></script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/jquery-migrate.min.js"></script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/wpfp.js"></script>
<link rel="https://api.w.org/" href="http://ifeve.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ifeve.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ifeve.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="《软件架构模式》-第一章分层架构（上）" href="http://ifeve.com/software-architecture-patterns/">
<link rel="next" title="Spring Boot 整合 Redis 实现缓存操作" href="http://ifeve.com/spring-boot-%e6%95%b4%e5%90%88-redis-%e5%ae%9e%e7%8e%b0%e7%bc%93%e5%ad%98%e6%93%8d%e4%bd%9c/">
<meta name="generator" content="WordPress 4.9.5">
<link rel="canonical" href="http://ifeve.com/non-blocking-server/">
<link rel="shortlink" href="http://ifeve.com/?p=31545">
<link rel="alternate" type="application/json+oembed" href="http://ifeve.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fifeve.com%2Fnon-blocking-server%2F">
<link rel="alternate" type="text/xml+oembed" href="http://ifeve.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fifeve.com%2Fnon-blocking-server%2F&amp;format=xml">

<!-- StarBox - the Author Box for Humans 3.0.6, visit: http://wordpress.org/plugins/starbox/ -->
<!-- /StarBox - the Author Box for Humans -->

<link rel="stylesheet" id="frontend.css-css" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/frontend.css" type="text/css" media="all">
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/frontend.js"></script>
<link rel="stylesheet" id="hidedefault.css-css" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/hidedefault.css" type="text/css" media="all">
<style type="text/css" id="syntaxhighlighteranchor"></style>

<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/jscript.js"></script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/comment.js"></script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/rollover.js"></script>

<!--[if IE 7]>
<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/ie7.css" type="text/css" />
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/ie8.css" type="text/css" />
<![endif]-->


<style type="text/css">
a, .post .title a:hover, .post_meta a:hover, #bread_crumb ul li a:hover, #previous_post a:hover, #next_post a:hover, .post a.more-link:hover, #right_col li a:hover, #copyright li a:hover, #archive_headline #keyword,
   #comments_wrapper a:hover, #comment_header_right .comment_switch_active a, #comment_header_right .comment_switch_active a:hover, #comment_pager .current
   { color:#00A19E; }

#no_post a.back:hover, #wp-calendar td a:hover, #wp-calendar #prev a:hover, #wp-calendar #next a:hover, .page_navi a:hover, #submit_comment:hover
 { background-color:#00A19E; }

#guest_info input:focus, #comment_textarea textarea:focus
 { border:1px solid #00A19E; }

a:hover
 { color:#BDC900; }

body { font-size:14px; }

#header { background:url(http://ifeve.com/wp-content/uploads/flat/bg.png) left top; }
.logo_text a { color:#F5F5F5; }
#site_description {  border-top:1px solid #BBBBBB; color:#D2D9CC; }


</style>

</head>

<body>

 <div id="header">
  <div class="header_menu">
    <ul id="menu-%e4%b8%bb%e8%8f%9c%e5%8d%95" class="menu"><li id="menu-item-16594" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-16594"><a href="http://ifeve.com/">首页</a></li>
<li id="menu-item-3432" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3432"><a href="http://ifeve.com/wp-login.php">登录</a></li>
<li id="menu-item-9219" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-9219 parent_menu"><a href="http://ifeve.com/category/java/">JAVA</a>
<ul class="sub-menu">
	<li id="menu-item-16108" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16108"><a href="http://ifeve.com/java-io/">Java IO 教程</a></li>
	<li id="menu-item-5283" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5283"><a href="http://ifeve.com/java-nio-all/">Java NIO 教程</a></li>
	<li id="menu-item-17514" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17514"><a href="http://ifeve.com/java-reflection/">JAVA Reflection教程</a></li>
	<li id="menu-item-16239" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16239"><a href="http://ifeve.com/java-network">Java 网络教程</a></li>
	<li id="menu-item-4416" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4416"><a href="http://ifeve.com/java-concurrency-thread-directory/">Java并发和多线程</a></li>
	<li id="menu-item-2767" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2767"><a href="http://ifeve.com/jmm-cookbook/">Java内存模型指南</a></li>
	<li id="menu-item-2747" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2747"><a href="http://ifeve.com/jmm-faq/">Java内存模型FAQ</a></li>
	<li id="menu-item-2765" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2765"><a href="http://ifeve.com/syn-jmm/">同步与Java内存模型</a></li>
	<li id="menu-item-5789" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5789"><a href="http://ifeve.com/oracle-java-concurrency-tutorial/">Oracle官方并发教程</a></li>
	<li id="menu-item-15316" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15316"><a href="http://ifeve.com/jvm-optimize/">JVM性能优化系列</a></li>
	<li id="menu-item-15313" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15313"><a href="http://ifeve.com/useful-jvm-flags/">JVM实用参数系列</a></li>
</ul>
</li>
<li id="menu-item-7938" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7938"><a href="http://ifeve.com/category/c/">C++</a></li>
<li id="menu-item-9220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-9220 parent_menu"><a href="http://ifeve.com/category/framework/">Framework</a>
<ul class="sub-menu">
	<li id="menu-item-12798" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12798"><a href="http://ifeve.com/disruptor/">Disruptor 框架指南</a></li>
	<li id="menu-item-12783" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12783"><a title="Netty" href="http://ifeve.com/category/netty/">Netty</a></li>
	<li id="menu-item-12791" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12791"><a href="http://ifeve.com/category/scala/">Scala</a></li>
	<li id="menu-item-12312" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12312"><a href="http://ifeve.com/getting-started-with-stom-index/">Storm 入门</a></li>
	<li id="menu-item-9218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9218"><a href="http://ifeve.com/google-guava/">Guava 官方指南</a></li>
	<li id="menu-item-20471" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20471"><a href="http://ifeve.com/velocity-guide/">Apache Velocity 官方指南</a></li>
	<li id="menu-item-21439" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-21439"><a href="http://ifeve.com/storm-translation/">Apache Storm 官方文档</a></li>
</ul>
</li>
<li id="menu-item-555" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-555 parent_menu"><a href="http://ifeve.com/category/concurrency-translation/">其他译文</a>
<ul class="sub-menu">
	<li id="menu-item-2777" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2777"><a href="http://ifeve.com/java-concurrent/">并发基础</a></li>
	<li id="menu-item-3340" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3340"><a href="http://ifeve.com/aqs/">j.u.c同步框架</a></li>
	<li id="menu-item-2769" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2769"><a href="http://ifeve.com/fj/">Fork Join框架</a></li>
	<li id="menu-item-9221" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9221"><a href="http://ifeve.com/doug-lea/">Doug Lea 论文</a></li>
	<li id="menu-item-4643" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4643"><a href="http://ifeve.com/mechanical-sympathy/">Mechanical Sympathy</a></li>
	<li id="menu-item-6397" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6397"><a href="http://ifeve.com/stm/">软件事务内存导论</a></li>
	<li id="menu-item-10845" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10845"><a href="http://ifeve.com/jsr133-cn/">JSR133中文版</a></li>
</ul>
</li>
<li id="menu-item-103" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-103 parent_menu"><a href="http://ifeve.com/category/talk-concurrent/">本站原创</a>
<ul class="sub-menu">
	<li id="menu-item-2763" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2763"><a href="http://ifeve.com/talk-concurrency/">聊聊并发</a></li>
	<li id="menu-item-2753" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2753"><a href="http://ifeve.com/java-memory-model-0/">深入理解Java内存模型</a></li>
	<li id="menu-item-4862" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4862"><a href="http://ifeve.com/from-javaeye-sys-struct/">从Java视角理解系统结构</a></li>
	<li id="menu-item-4627" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4627"><a href="http://ifeve.com/ali-itu-agile/">阿里内贸团队敏捷实践</a></li>
</ul>
</li>
<li id="menu-item-7119" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-7119 parent_menu"><a href="http://ifeve.com/category/%e5%b9%b6%e5%8f%91%e4%b9%a6%e7%b1%8d/">并发书籍</a>
<ul class="sub-menu">
	<li id="menu-item-10846" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10846"><a href="http://ifeve.com/art-of-java-concurrent-program/">《Java 并发编程的艺术》迷你书</a></li>
	<li id="menu-item-6042" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6042"><a href="http://ifeve.com/perfbook/">《深入理解并行编程》</a></li>
	<li id="menu-item-9172" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9172"><a href="http://ifeve.com/c-plus-plus-concurrency-in-action/">《C++ 并发编程》</a></li>
	<li id="menu-item-7785" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7785"><a href="http://ifeve.com/java-7-concurrency-cookbook/">《Java 7 并发编程指南》</a></li>
	<li id="menu-item-7120" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7120"><a href="http://ifeve.com/jvm-concurrency">《Java 虚拟机并发编程》</a></li>
	<li id="menu-item-12360" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12360"><a href="http://ifeve.com/getting-started-with-stom-index/">《Storm入门》中文版</a></li>
</ul>
</li>
<li id="menu-item-17079" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17079"><a href="http://ifeve.com/questions/">面试题</a></li>
<li id="menu-item-22180" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-22180"><a href="http://ifeve.com/my-favorite/">我的收藏</a></li>
<li id="menu-item-9171" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-9171 parent_menu"><a href="http://ifeve.com/need-you/">加入我们</a>
<ul class="sub-menu">
	<li id="menu-item-3246" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3246"><a href="http://ifeve.com/contribute/">我要投稿</a></li>
	<li id="menu-item-6854" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6854"><a href="http://ifeve.com/neitui/">内推阿里</a></li>
</ul>
</li>
<li id="menu-item-105" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-105 parent_menu"><a href="http://ifeve.com/about-site/">关于本站</a>
<ul class="sub-menu">
	<li id="menu-item-11306" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11306"><a href="http://ifeve.com/category/%e6%b4%bb%e5%8a%a8/">活动</a></li>
	<li id="menu-item-1487" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1487"><a href="http://ifeve.com/sitemap.html">文章归档</a></li>
	<li id="menu-item-29361" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-29361"><a href="http://ifeve.com/author/">本站作者</a></li>
	<li id="menu-item-131" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-131"><a href="http://ifeve.com/about-site/about-me/">关于清英</a></li>
	<li id="menu-item-7600" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7600"><a href="http://ifeve.com/ads/">广告合作</a></li>
</ul>
</li>
</ul>    </div>
  <!-- logo -->
  <h1 class="logo_text"><a href="http://ifeve.com/">并发编程网 - ifeve.com</a></h1>
<h2 id="site_description">让天下没有难学的技术</h2>
 </div>

 <div id="main_content" class="clearfix">

  <div id="left_col">
      <div id="bread_crumb">
    <ul class="clearfix">
     <li id="bc_home"><a href="http://ifeve.com/" title="HOME">HOME</a></li>
     <li id="bc_cat"><a href="http://ifeve.com/category/java/">JAVA</a></li>     <li class="last">《Java NIO文档》非阻塞式服务器</li>
    </ul>
   </div>
   
   
   <div class="post_wrap clearfix" id="single">
    <div class="post">
     <h3 class="title"><span>《Java NIO文档》非阻塞式服务器</span></h3>
     <div class="post_content">
      <p><a href="http://tutorials.jenkov.com/java-nio/non-blocking-server.html" target="_blank">原文连接</a>&nbsp;原文作者：Jakob Jenkov 译者：higher</p>
<p>即使你知道Java NIO 非阻塞的工作特性（如Selector,Channel,Buffer等组件），但是想要设计一个非阻塞的服务器仍然是一件很困难的事。非阻塞式服务器相较于阻塞式来说要多上许多挑战。本文将会讨论非阻塞式服务器的主要几个难题，并针对这些难题给出一些可能的解决方案。</p>
<p><span id="more-31545"></span></p>
<p>查找关于非阻塞式服务器设计方面的资料实在不太容易，所以本文提供的解决方案都是基于本人工作和想法上的。如果各位有其他的替代方案或者更好的想法，我会很乐意听取这些方案和想法！你可以在文章下方留下你的评论，或者发邮件给我（邮箱为：info@jenkov.com ）。</p>
<p>本文的设计思路想法都是基于Java NIO的。但是我相信如果某些语言中也有像Selector之类的组件的话，文中的想法也能用于该语言。据我所知，类似的组件底层操作系统会提供，所以对你来说也可以根据其中的思想运用在其他语言上。</p>
<p>&nbsp;</p>
<h2><a name="_Toc479040240"></a><strong>非阻塞式服务器</strong><strong>– GitHub </strong><strong>仓库</strong></h2>
<p>我已经创建了一些简单的这些思想的概念验证呈现在这篇教程中，并且为了让你可以看到，我把源码放到了github资源库上了。这里是GitHub资源库地址:</p>
<p><a href="https://github.com/jjenkov/java-nio-server"><strong>https://github.com/jjenkov/java-nio-server</strong></a></p>
<p>&nbsp;</p>
<h2><a name="_Toc479040241"></a><strong>非阻塞式</strong><strong>IO</strong><strong>管道</strong><strong>(Pipelines)</strong></h2>
<p>一个非阻塞式IO管道是由各个处理非阻塞式IO组件组成的链。其中包括读/写IO。下图就是一个简单的非阻塞式IO管道组成：</p>
<p><img class="aligncenter size-full wp-image-31623" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/non-blocking-server-1.png" alt="non-blocking-server-1" width="518" height="106" srcset="http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-1.png 518w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-1-150x31.png 150w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-1-300x61.png 300w" sizes="(max-width: 518px) 100vw, 518px"></p>
<p>一个组件使用&nbsp;<a href="http://tutorials.jenkov.com/java-nio/selectors.html"><strong>Selector</strong></a>&nbsp;监控&nbsp;<a href="http://tutorials.jenkov.com/java-nio/channels.html"><strong>Channel</strong></a>&nbsp;什么时候有可读数据。然后这个组件读取输入并且根据输入生成相应的输出。最后输出将会再次写入到一个Channel中。</p>
<p>一个非阻塞式IO管道不需要将读数据和写数据都包含，有一些管道可能只会读数据，另一些可能只会写数据。</p>
<p>上图仅显示了一个单一的组件。一个非阻塞式IO管道可能拥有超过一个以上的组件去处理输入数据。一个非阻塞式管道的长度是由他的所要完成的任务决定。</p>
<p>一个非阻塞IO管道可能同时读取多个Channel里的数据。举个例子：从多个SocketChannel管道读取数据。</p>
<p>其实上图的控制流程还是太简单了。这里是组件从Selector开始从Channel中读取数据，而不是Channel将数据推送给Selector进入组件中，即便上图画的就是这样。</p>
<p>&nbsp;</p>
<h2><a name="_Toc479040242"></a><strong>非阻塞式</strong><strong>vs. </strong><strong>阻塞式管道</strong></h2>
<p>非阻塞和阻塞IO管道两者之间最大的区别在于他们如何从底层Channel(Socket或者file)读取数据。</p>
<p>IO管道通常从流中读取数据（来自socket或者file）并且将这些数据拆分为一系列连贯的消息。这和使用tokenizer（这里估计是解析器之类的意思）将数据流解析为token（这里应该是数据包的意思）类似。相反你只是将数据流分解为更大的消息体。我将拆分数据流成消息这一组件称为“消息读取器”（Message Reader）下面是Message Reader拆分流为消息的示意图：</p>
<p><img class="aligncenter size-full wp-image-31622" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/non-blocking-server-2.png" alt="non-blocking-server-2" width="541" height="95" srcset="http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-2.png 541w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-2-150x26.png 150w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-2-300x53.png 300w" sizes="(max-width: 541px) 100vw, 541px"></p>
<p>一个阻塞IO管道可以使用类似InputStream的接口每次一个字节地从底层Channel读取数据，并且这个接口阻塞直到有数据可以读取。这就是阻塞式Message Reader的实现过程。</p>
<p>使用阻塞式IO接口简化了Message Reader的实现。阻塞式Message Reader从不用处理在流没有数据可读的情况，或者它只读取流中的部分数据并且对于消息的恢复也要延迟处理的情况。</p>
<p>同样，阻塞式Message Writer(一个将数据写入流中组件)也从不用处理只有部分数据被写入和写入消息要延迟恢复的情况。</p>
<p>&nbsp;</p>
<p><a name="_Toc479040243"></a><strong>阻塞式</strong><strong>IO</strong><strong>管道的缺陷</strong></p>
<p>虽然阻塞式Message Reader容易实现，但是也有一个不幸的缺点：每一个要分解成消息的流都需要一个独立的线程。必须要这样做的理由是每一个流的IO接口会阻塞，直到它有数据读取。这就意味着一个单独的线程是无法尝试从一个没有数据的流中读取数据转去读另一个流。一旦一个线程尝试从一个流中读取数据，那么这个线程将会阻塞直到有数据可以读取。</p>
<p>如果IO管道是必须要处理大量并发链接服务器的一部分的话，那么服务器就需要为每一个链接维护一个线程。对于任何时间都只有几百条并发链接的服务器这确实不是什么问题。但是如果服务器拥有百万级别的并发链接量，这种设计方式就没有良好收放。每个线程都会占用栈32bit-64bit的内存。所以一百万个线程占用的内存将会达到1TB！不过在此之前服务器将会把所有的内存用以处理传经来的消息（例如：分配给消息处理期间使用对象的内存）</p>
<p>为了将线程数量降下来，许多服务器使用了服务器维持线程池（例如：常用线程为100）的设计，从而一次一个地从入站链接（inbound connections）地读取。入站链接保存在一个队列中，线程按照进入队列的顺序处理入站链接。这一设计如下图所示：(译者注：Tomcat就是这样的)</p>
<p><img class="aligncenter size-full wp-image-31621" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/non-blocking-server-3.png" alt="non-blocking-server-3" width="412" height="293" srcset="http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-3.png 412w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-3-150x107.png 150w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-3-300x213.png 300w" sizes="(max-width: 412px) 100vw, 412px"></p>
<p>然而，这一设计需要入站链接合理地发送数据。如果入站链接长时间不活跃，那么大量的不活跃链接实际上就造成了线程池中所有线程阻塞。这意味着服务器响应变慢甚至是没有反应。</p>
<p>一些服务器尝试通过弹性控制线程池的核心线程数量这一设计减轻这一问题。例如，如果线程池线程不足时，线程池可能开启更多的线程处理请求。这一方案意味着需要大量的长时链接才能使服务器不响应。但是记住，对于并发线程数任然是有一个上限的。因此，这一方案仍然无法很好地解决一百万个长时链接。</p>
<h2><a name="_Toc479040244"></a><strong>基础非阻塞式</strong><strong>IO</strong><strong>管道设计</strong></h2>
<p>一个非阻塞式IO管道可以使用一个单独的线程向多个流读取数据。这需要流可以被切换到非阻塞模式。在非阻塞模式下，当你读取流信息时可能会返回0个字节或更多字节的信息。如果流中没有数据可读就返回0字节，如果流中有数据可读就返回1+字节。</p>
<p>为了避免检查没有可读数据的流我们可以使用&nbsp;<a href="http://tutorials.jenkov.com/java-nio/selectors.html"><strong>Java NIO Selector</strong></a>. 一个或多个<em>SelectableChannel</em><em>&nbsp;</em>实例可以同时被一个<em>Selector</em>注册.。<strong>当你调用</strong><strong><em>Selector</em></strong><strong>的</strong><strong><em>select()</em></strong><strong>或者</strong><strong><em>&nbsp;</em></strong><strong><em>selectNow()</em></strong><strong>&nbsp;</strong><strong>方法它只会返回有数据读取的</strong><strong><em>SelectableChannel</em></strong><strong>的实例</strong><strong>.</strong> 下图是该设计的示意图：</p>
<p><img class="aligncenter size-full wp-image-31620" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/non-blocking-server-4.png" alt="non-blocking-server-4" width="462" height="314" srcset="http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-4.png 462w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-4-150x102.png 150w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-4-300x204.png 300w" sizes="(max-width: 462px) 100vw, 462px"></p>
<h2><a name="_Toc479040245"></a><strong>读取部分消息</strong></h2>
<p>当我们从一个SelectableChannel读取一个数据包时，我们不知道这个数据包相比于源文件是否有丢失或者重复数据（原文是：When we read a block of data from a&nbsp;SelectableChannel&nbsp;we do not know if that data block contains less or more than a message）。一个数据包可能的情况有：缺失数据（比原有消息的数据少）、与原有一致、比原来的消息的数据更多（例如：是原来的1.5或者2.5倍）。数据包可能出现的情况如下图所示：</p>
<p><img class="aligncenter size-full wp-image-31619" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/non-blocking-server-5.png" alt="non-blocking-server-5" width="305" height="295" srcset="http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-5.png 305w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-5-150x145.png 150w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-5-300x290.png 300w" sizes="(max-width: 305px) 100vw, 305px"></p>
<p>在处理类似上面这样部分信息时，有两个问题:</p>
<ol>
<li>判断你是否能在数据包中获取完整的消息。</li>
<li>在其余消息到达之前如何处理已到达的部分消息。</li>
</ol>
<p>判断消息的完整性需要消息读取器（Message Reader）在数据包中寻找是否存在至少一个完整消息体的数据。如果一个数据包包含一个或多个完整消息体，这些消息就能够被发送到管道进行处理。寻找完整消息体这一处理可能会重复多次，因此这一操作应该尽可能的快。</p>
<p>判断消息完整性和存储部分消息都是消息读取器(Message Reader)的责任。为了避免混合来自不同Channel的消息，我们将对每一个Channel使用一个Message Reader。设计如下图所示:</p>
<p><img class="aligncenter size-full wp-image-31618" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/non-blocking-server-6.png" alt="non-blocking-server-6" width="530" height="197" srcset="http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-6.png 530w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-6-150x56.png 150w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-6-300x112.png 300w" sizes="(max-width: 530px) 100vw, 530px"></p>
<p>在从Selector得到可从中读取数据的Channel实例之后, 与该Channel相关联的Message Reader读取数据并尝试将他们分解为消息。这样读出的任何完整消息可以被传到读取通道(read pipeline)任何需要处理这些消息的组件中。</p>
<p>一个Message Reader一定满足特定的协议。Message Reader需要知道它尝试读取的消息的消息格式。如果我们的服务器可以通过协议来复用，那它需要有能够插入Message Reader实现的功能 – 可能通过接收一个Message Reader工厂作为配置参数。</p>
<p>&nbsp;</p>
<h2><a name="_Toc479040246"></a><strong>存储部分消息</strong></h2>
<p>现在我们已经确定Message Reader有责任存储部分消息，直到收到完整的消息，我们需要弄清楚这些部分消息的存储应该如何实现。</p>
<p>有两个设计因素我们要考虑：</p>
<ol>
<li>我们想尽可能少地复制消息数据。复制越多，性能越低。</li>
<li>我们希望将完整的消息存储在连续的字节序列中，使解析消息更容易。</li>
</ol>
<p><a name="_Toc479040247"></a><strong>每个</strong><strong>Message Reader</strong><strong>的缓冲区</strong></p>
<p>很显然部分消息需要存储某些缓冲区中。简单的实现方式可以是每一个Message Reader内部简单地有一个缓冲区。但是这个缓冲区应该多大？它要大到足够储存最大允许储存消息。因此，如果最大允许储存消息是1MB，那么Message Reader内部缓冲区将至少需要1MB。</p>
<p>当我们的链接达到百万数量级，每个链接都使用1MB并没有什么作用。1,000,000 * 1MB仍然是1TB的内存！那如果最大的消息是16MB甚至是128MB呢？</p>
<p>&nbsp;</p>
<p><a name="_Toc479040248"></a><strong>大小可调的缓冲区</strong></p>
<p>另一个选择是在Message Reader内部实现一个大小可调的缓冲区。大小可调的缓冲区开始的时候很小，如果它获取的消息过大，那缓冲区会扩大。这样每一条链接就不一定需要如1MB的缓冲区。每条链接的缓冲区只要需要足够储存下一条消息的内存就行了。</p>
<p>有几个可实现可调大小缓冲区的方法。它们都各自有自己的优缺点，所以接下来的部分我将逐个讨论。</p>
<p>&nbsp;</p>
<p><a name="_Toc479040249"></a><strong>通过复制调整大小</strong></p>
<p>实现可调大小缓冲区的第一种方式是从一个大小(例如:4KB)的缓冲区开始。如果4KB的缓冲区装不下一个消息，则会分配一个更大的缓冲区(如:8KB),并将大小为4KB的缓冲区数据复制到这个更大的缓冲区中去。</p>
<p>通过复制实现大小可调缓冲区的优点在于消息的所有数据被保存在一个连续的字节数组中，这就使得消息的解析更加容易。它的缺点就是在复制更大消息的时候会导致大量的数据。</p>
<p>为了减少消息的复制，你可以分析流进你系统的消息的大小，并找出尽量减少复制量的缓冲区的大小。例如，你可能看到大多数消息都小于4KB，这是因为它们都仅包含很小的 request/responses。这意味着缓冲区的初始值应该设为4KB。</p>
<p>然后你可能有一个消息大于4KB，这通常是因为它里面包含一个文件。你可能注意到大多数流进系统的文件都是小于128KB的。这样第二个缓冲区的大小设置为128KB就较为合理。</p>
<p>最后你可能会发现一旦消息超过128KB之后，消息的大小就没有什么固定的模式，因此缓冲区最终的大小可能就是最大消息的大小。</p>
<p>根据流经系统的消息大小，上面三种缓冲区大小可以减少数据的复制。小于4KB的消息将不会复制。对于一百万个并发链接其结果是：1,000,000 * 4KB = 4GB，对于目前大多数服务器还是有可能的。介于4KB – 128KB的消息将只会复制一次，并且只有4KB的数据复制进128KB的缓冲区中。介于128KB至最大消息大小的消息将会复制两次。第一次复制4KB，第二次复制128KB，所以最大的消息总共复制了132KB。假设没有那么多超过128KB大小的消息那还是可以接受的。</p>
<p>一旦消息处理完毕，那么分配的内存将会被清空。这样在同一链接接收到的下一条消息将会再次从最小缓冲区大小开始算。这样做的必要性是确保了不同连接间内存的有效共享。所有的连接很有可能在同一时间并不需要打的缓冲区。</p>
<p>我有一篇介绍如何实现这样支持可调整大小的数组的内存缓冲区的完整文章:</p>
<p><a href="http://tutorials.jenkov.com/java-performance/resizable-array.html"><strong>Resizable Arrays</strong></a><strong><u>(</u></strong><a href="http://tutorials.jenkov.com/java-performance/resizable-array.html"><strong>http://tutorials.jenkov.com/java-performance/resizable-array.html</strong></a><strong><u>)</u></strong></p>
<p>文章包含一个GitHub仓库连接，其中的代码演示了是如何实现的。</p>
<p>&nbsp;</p>
<p><a name="_Toc479040250"></a><strong>通过追加调整大小</strong></p>
<p>调整缓冲区大小的另一种方法是使缓冲区由多个数组组成。当你需要调整缓冲区大小时，你只需要另一个字节数组并将数据写进去就行了。</p>
<p>这里有两种方法扩张一个缓冲区。一个方法是分配单独的字节数组，并将这些数组保存在一个列表中。另一个方法是分配较大的共享字节数组的片段，然后保留分配给缓冲区的片段的列表。就个人而言，我觉得片段的方式会好些，但是差别不大。</p>
<p>通过追加单独的数组或片段来扩展缓冲区的优点在于写入过程中不需要复制数据。所有的数据可以直接从socket (Channel)复制到一个数组或片段中。</p>
<p>以这种方式扩展缓冲区的缺点是在于数据不是存储在单独且连续的数组中。这将使得消息的解析更困难，因为解析器需要同时查找每个单独数组的结尾处和所有数组的结尾处。由于你需要在写入的数据中查找消息的结尾，所以该模型并不容易使用。</p>
<p>&nbsp;</p>
<h2><a name="_Toc479040251"></a><strong>TLV</strong><strong>编码消息</strong></h2>
<p>一些协议消息格式是使用TLV格式（类型(Type)、长度(Length)、值(Value)）编码。这意味着当消息到达时，消息的总长度被存储在消息的开头。这一方式你可以立即知道应该对整个消息分配多大的内存。</p>
<p>TLV编码使得内存管理变得更加容易。你可以立即知道要分配多大的内存给这个消息。只有部分在结束时使用的缓冲区才会使得内存浪费。</p>
<p>TLV编码的一个缺点是你要在消息的所有数据到达之前就分配好这个消息需要的所有内存。一些慢连接可能因此分配完你所有可用内存，从而使得你的服务器无法响应。</p>
<p>此问题的解决方法是使用包含多个TLV字段的消息格式。因此，服务器是为每个字段分配内存而不是为整个消息分配内存，并且是字段到达之后再分配内存。然而，一个大消息中的一个大字段在你的内存管理有同样的影响。</p>
<p>另外一个方案就是对于还未到达的信息设置超时时间，例如10-15秒。当恰好有许多大消息到达服务器时，这个方案能够使得你的服务器可以恢复，但是仍然会造成服务器一段时间无法响应。另外，恶意的DoS（Denial of Service拒绝服务）攻击仍然可以分配完你服务器的所有内存。</p>
<p>TLV编码存在许多不同的形式。实际使用的字节数、自定字段的类型和长度都依赖于每一个TLV编码。TLV编码首先放置字段的长度、然后是类型、然后是值（一个LTV编码）。 虽然字段的顺序不同，但它仍然是TLV的一种。</p>
<p>TLV编码使内存管理更容易这一事实，其实是HTTP 1.1是如此可怕的协议的原因之一。 这是他们试图在HTTP 2.0中修复数据的问题之一，数据在LTV编码帧中传输。 这也是为什么我们使用TLV编码的<a href="http://vstack.co/"><strong>VStack.co project</strong></a>&nbsp;设计了我们自己的网络协议。</p>
<p>&nbsp;</p>
<h2><a name="_Toc479040252"></a><strong>写部分数据</strong></h2>
<p>在非阻塞IO管道中写数据仍然是一个挑战。当你调用一个处于非阻塞式Channel对象的write(ByteBuffer)方法时，ByteBuffer写入多少数据是无法保证的。write（ByteBuffer）方法会返回写入的字节数，因此可以跟踪写入的字节数。这就是挑战：跟踪部分写入的消息，以便最终可以发送一条消息的所有字节。</p>
<p>为了管理部分消息写入Channel，我们将创建一个消息写入器（Message Writer）。就像Message Reader一样，每一个要写入消息的Channel我们都需要一个Message Writer。在每个Message Writer中，我们跟踪正在写入的消息的字节数。</p>
<p>如果达到的消息量超过Message Writer可直接写入Channel的消息量，消息就需要在Message Writer排队。然后Message Writer尽快地将消息写入到Channel中。</p>
<p>下图是部分消息如何写入的设计图：</p>
<p>&nbsp;</p>
<p><img class="aligncenter size-full wp-image-31617" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/non-blocking-server-8.png" alt="non-blocking-server-8" width="440" height="266" srcset="http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-8.png 440w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-8-150x91.png 150w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-8-300x181.png 300w" sizes="(max-width: 440px) 100vw, 440px"></p>
<p>&nbsp;</p>
<p>为了使Message Writer能够尽快发送数据，Message Writer需要能够不时被调用，这样就能发送更多的消息。</p>
<p>如果你又大量的连接那你将需要大量的Message Writer实例。检查Message Writer实例(如:一百万个)看写任何数据时是否缓慢。 首先，许多Message Writer实例都没有任何消息要发送，我们并不想检查那些Message Writer实例。其次，并不是所有的Channel实例都可以准备好写入数据。 我们不想浪费时间尝试将数据写入无法接受任何数据的Channel。</p>
<p>为了检查Channel是否准备好进行写入，您可以使用Selector注册Channel。然而我们并不想将所有的Channel实例注册到Selector中去。想象一下，如果你有1,000,000个连接且其中大多是空闲的，并且所有的连接已经与Selector注册。然后当你调用select()时，这些Channel实例的大部分将被写入就绪（它们大都是空闲的，记得吗？）然后你必须检查所有这些连接的Message Writer，以查看他们是否有任何数据要写入。</p>
<p>为了避免检查所有消息的Message Writer实例和所有不可能被写入任何信息的Channel实例，我们使用这两步的方法：</p>
<ol>
<li><strong>当一个消息被写入Message Writer，Message Writer向Selector注册其相关Channel（如果尚未注册）。</strong></li>
<li>当你的服务器有时间时，它检查Selector以查看哪些注册的Channel实例已准备好进行写入。 对于每个写就绪Channel，请求其关联的Message Writer将数据写入Channel。 如果Message Writer将其所有消息写入其Channel，则Channel将再次从Selector注册。</li>
</ol>
<p>这两个小步骤确保了有消息写入的Channel实际上已经被Selector注册了。</p>
<p>&nbsp;</p>
<h2><a name="_Toc479040253"></a><strong>汇总</strong></h2>
<p>正如你所见，一个非阻塞式服务器需要时不时检查输入的消息来判断是否有任何的新的完整的消息发送过来。服务器可能会在一个或多个完整消息发来之前就检查了多次。检查一次是不够的。</p>
<p>同样，一个非阻塞式服务器需要时不时检查是否有任何数据需要写入。如果有，服务器需要检查是否有任何相应的连接准备好将该数据写入它们。只有在第一次排队消息时才检查是不够的，因为消息可能被部分写入。</p>
<p>所有这些非阻塞服务器最终都需要定期执行的三个“管道”（pipelines）：:</p>
<ul>
<li>读取管道（The read pipeline），用于检查是否有新数据从开放连接进来的。</li>
<li>处理管道(The process pipeline)，用于所有任何完整消息。</li>
<li>写入管道（The write pipeline），用于检查是否可以将任何传出的消息写入任何打开的连接。</li>
</ul>
<p>这三条管道在循环中重复执行。你可能可以稍微优化执行。例如，如果没有排队的消息可以跳过写入管道。 或者，如果我们没有收到新的，完整的消息，也许您可以跳过流程管道。</p>
<p>以下是说明完整服务器循环的图：</p>
<p><img class="aligncenter size-full wp-image-31616" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/non-blocking-server-9.png" alt="non-blocking-server-9" width="705" height="705" srcset="http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-9.png 705w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-9-150x150.png 150w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-9-300x300.png 300w" sizes="(max-width: 705px) 100vw, 705px"></p>
<p>如果仍然发现这有点复杂，请记住查看GitHub资料库：<a href="https://github.com/jjenkov/java-nio-server"><strong>https://github.com/jjenkov/java-nio-server</strong></a></p>
<p>也许看到正在执行的代码可能会帮助你了解如何实现这一点。</p>
<p>&nbsp;</p>
<h2><a name="_Toc479040254"></a><strong>服务器线程模型</strong></h2>
<p>GitHub资源库里面的非阻塞式服务器实现使用了两个线程的线程模式。第一个线程用来接收来自ServerSocketChannel的传入连接。第二个线程处理接受的连接，意思是读取消息，处理消息并将响应写回连接。这两个线程模型的图解如下：</p>
<p><img class="aligncenter size-full wp-image-31615" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/non-blocking-server-10.png" alt="non-blocking-server-10" width="496" height="241" srcset="http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-10.png 496w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-10-150x73.png 150w, http://ifeve.com/wp-content/uploads/2017/04/non-blocking-server-10-300x146.png 300w" sizes="(max-width: 496px) 100vw, 496px"></p>
<p>上一节中说到的服务器循环处理是由处理线程（Processor Thread）执行。</p>
<div style="margin-top: 15px; font-style: italic">
<p><strong>原创文章，转载请注明：</strong> 转载自<a href="http://ifeve.com/">并发编程网 – ifeve.com</a><strong>本文链接地址:</strong> <a href="http://ifeve.com/non-blocking-server/">《Java NIO文档》非阻塞式服务器</a></p>
<p><img align="center" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/0-2.jpeg">
</p></div>

                         <div class="abh_box abh_box_down abh_box_"><ul class="abh_tabs"> <li class="abh_about abh_active"><a href="http://ifeve.com/non-blocking-server/#abh_about">About</a></li> <li class="abh_posts"><a href="http://ifeve.com/non-blocking-server/#abh_posts">Latest Posts</a></li></ul><div class="abh_tab_content"><section class="vcard abh_about_tab abh_tab" style="display:block"><div class="abh_image"><a href="http://ifeve.com/author/higher/" class="url" title="higher"><img alt="" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/f87a58a7f9f71e6d34f59ee8e4bcfbb0" srcset="http://0.gravatar.com/avatar/f87a58a7f9f71e6d34f59ee8e4bcfbb0?s=160&amp;d=mm&amp;r=g 2x" class="avatar avatar-80 photo" height="80" width="80"></a></div><div class="abh_social"> </div><div class="abh_text"><h3 class="fn name"><a href="http://ifeve.com/author/higher/" class="url">higher</a></h3><div class="abh_job"></div><div class="description note abh_description">对多线程有一定的认识。</div></div> </section><section class="abh_posts_tab abh_tab"><div class="abh_image"><a href="http://ifeve.com/author/higher/" class="url" title="higher"><img alt="" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/f87a58a7f9f71e6d34f59ee8e4bcfbb0" srcset="http://0.gravatar.com/avatar/f87a58a7f9f71e6d34f59ee8e4bcfbb0?s=160&amp;d=mm&amp;r=g 2x" class="avatar avatar-80 photo" height="80" width="80"></a></div><div class="abh_social"> </div><div class="abh_text"><h4>Latest posts by higher <span class="abh_allposts">(<a href="http://ifeve.com/author/higher/">see all</a>)</span></h4><div class="abh_description note"><ul>				<li>					<a href="http://ifeve.com/non-blocking-server/">《Java NIO文档》非阻塞式服务器</a><span> - 2017年4月7日</span>				</li></ul></div></div> </section></div> </div><span class="wpfp-span"><img src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/star.png" alt="Favorite" title="Favorite" class="wpfp-img"><img src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/loading.gif" alt="Loading" title="Loading" class="wpfp-hide wpfp-img"><a class="wpfp-link" href="http://ifeve.com/non-blocking-server/?wpfpaction=add&amp;postid=31545" title="添加本文到我的收藏" rel="nofollow">添加本文到我的收藏</a></span><div class="yarpp-related">
<h3>Related posts:</h3><ol>
<li><a href="http://ifeve.com/java-io-%e5%ad%97%e7%ac%a6%e6%b5%81%e7%9a%84piped%e5%92%8cchararray/" rel="bookmark" title="Java IO: 字符流的Piped和CharArray">Java IO: 字符流的Piped和CharArray </a></li>
<li><a href="http://ifeve.com/java-io-reader-and-writer/" rel="bookmark" title="Java IO: Reader And Writer">Java IO: Reader And Writer </a></li>
<li><a href="http://ifeve.com/java-io-inputstreamreader%e5%92%8coutputstreamwriter/" rel="bookmark" title="Java IO: InputStreamReader和OutputStreamWriter">Java IO: InputStreamReader和OutputStreamWriter </a></li>
<li><a href="http://ifeve.com/java-io-filereader%e5%92%8cfilewriter/" rel="bookmark" title="Java IO: FileReader和FileWriter">Java IO: FileReader和FileWriter </a></li>
<li><a href="http://ifeve.com/java-io-concurrent-io/" rel="bookmark" title="Java IO: 并发IO">Java IO: 并发IO </a></li>
<li><a href="http://ifeve.com/datagram-channel/" rel="bookmark" title="Java NIO系列教程（十） Java NIO DatagramChannel">Java NIO系列教程（十） Java NIO DatagramChannel </a></li>
<li><a href="http://ifeve.com/java-io-reader%e5%92%8cwriter/" rel="bookmark" title="Java IO: Reader和Writer">Java IO: Reader和Writer </a></li>
<li><a href="http://ifeve.com/java-io-other/" rel="bookmark" title="Java IO: 其他字符流(下)">Java IO: 其他字符流(下) </a></li>
<li><a href="http://ifeve.com/java-io-char-buffered-filter/" rel="bookmark" title="Java IO: 字符流的Buffered和Filter">Java IO: 字符流的Buffered和Filter </a></li>
<li><a href="http://ifeve.com/java-io-array/" rel="bookmark" title="Java IO: 字节和字符数组">Java IO: 字节和字符数组 </a></li>
<li><a href="http://ifeve.com/java-nio-vs-io/" rel="bookmark" title="Java NIO系列教程（十二） Java NIO与IO">Java NIO系列教程（十二） Java NIO与IO </a></li>
<li><a href="http://ifeve.com/java-io-%e6%b5%81/" rel="bookmark" title="Java IO: 流">Java IO: 流 </a></li>
<li><a href="http://ifeve.com/java-nio-all/" rel="bookmark" title="Java NIO 系列教程">Java NIO 系列教程 </a></li>
<li><a href="http://ifeve.com/file-channel/" rel="bookmark" title="Java NIO系列教程（七） FileChannel">Java NIO系列教程（七） FileChannel </a></li>
<li><a href="http://ifeve.com/socket-channel/" rel="bookmark" title="Java NIO系列教程（八） SocketChannel">Java NIO系列教程（八） SocketChannel </a></li>
</ol>
</div>
           </div><!-- END .post_content -->
    </div>
    <div class="meta">
          <ul>
      <li class="post_date clearfix">
       <span class="date">07</span>
       <span class="month">Apr</span>
       <span class="year">2017</span>
      </li>
      
<li class="post_comment">
11,116 人阅读</li>

      <li class="post_author"><a href="http://ifeve.com/author/higher/" title="Posts by higher" rel="author">higher</a></li>      <li class="post_category"><a href="http://ifeve.com/category/java/" rel="category tag">JAVA</a></li>       <li class="post_category"><div id="post-ratings-31545" class="post-ratings" itemscope="" itemtype="http://schema.org/Article" data-nonce="d3def832fd"><img id="rating_31545_1" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="好烂啊" title="好烂啊" onmouseover="current_rating(31545, 1, &#39;好烂啊&#39;);" onmouseout="ratings_off(4.2, 0, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_31545_2" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="没价值" title="没价值" onmouseover="current_rating(31545, 2, &#39;没价值&#39;);" onmouseout="ratings_off(4.2, 0, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_31545_3" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="凑合看看" title="凑合看看" onmouseover="current_rating(31545, 3, &#39;凑合看看&#39;);" onmouseout="ratings_off(4.2, 0, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_31545_4" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/rating_on.gif" alt="还不错" title="还不错" onmouseover="current_rating(31545, 4, &#39;还不错&#39;);" onmouseout="ratings_off(4.2, 0, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"><img id="rating_31545_5" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/rating_off.gif" alt="超赞" title="超赞" onmouseover="current_rating(31545, 5, &#39;超赞&#39;);" onmouseout="ratings_off(4.2, 0, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;"> (<strong>5</strong> votes, average: <strong>4.20</strong> out of 5)<br><span class="post-ratings-text" id="ratings_31545_text"></span><meta itemprop="headline" content="《Java NIO文档》非阻塞式服务器"><meta itemprop="description" content="原文连接 原文作者：Jakob Jenkov 译者：higher

即使你知道Java NIO 非阻塞的工作特性（如Selector,Channel,Buffer等组件），但是想要设计一个非阻塞的服务器仍然是一件很困难的事。非阻塞式服务器相较于阻塞式来说要多上许多挑战。本文将会讨论非阻塞式服务器的主要几个难题，并针对这些难题给出一些可能的解决方案。



查找关于非阻塞式服务器设计方面..."><meta itemprop="datePublished" content="2017-04-07T23:25:53+00:00"><meta itemprop="dateModified" content="2017-04-07T23:26:37+00:00"><meta itemprop="url" content="http://ifeve.com/non-blocking-server/"><meta itemprop="author" content="higher"><meta itemprop="mainEntityOfPage" content="http://ifeve.com/non-blocking-server/"><div style="display: none;" itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization"><meta itemprop="name" content="并发编程网 - ifeve.com"><div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content=""></div></div><div style="display: none;" itemprop="aggregateRating" itemscope="" itemtype="http://schema.org/AggregateRating"><meta itemprop="bestRating" content="5"><meta itemprop="worstRating" content="1"><meta itemprop="ratingValue" content="4.2"><meta itemprop="ratingCount" content="5"></div></div><div id="post-ratings-31545-loading" class="post-ratings-loading">
            <img src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/loading(1).gif" width="16" height="16" class="post-ratings-image">Loading...</div></li>       <li class="post_comment"><a href="http://ifeve.com/non-blocking-server/#comments">3 comments</a></li>           </ul>
         </div>
   </div><!-- END .post_wrap -->

   
      <div id="comments_wrapper">
    




<div id="comment_header" class="clearfix">

 <ul id="comment_header_left">
  <li id="add_comment"><a href="http://ifeve.com/non-blocking-server/#respond">Write comment</a></li>
  <li id="comment_feed"><a href="http://ifeve.com/comments/feed/" title="Comments RSS">Comments RSS</a></li>
 </ul>

 <ul id="comment_header_right">
   <li id="trackback_closed">Trackback are closed</li>
   <li id="comment_closed">Comments (3)</li>
 </ul>


</div><!-- END #comment_header -->

<div id="comments">

 <div id="comment_area">
  <!-- start commnet -->
  <ol class="commentlist">
	
 <li class="comment guest-comment even_comment" id="comment-27583">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/7843d413cf3ce215ba1b513b450b6e0c" srcset="http://1.gravatar.com/avatar/7843d413cf3ce215ba1b513b450b6e0c?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27583">

misakarin
</span>
     </li>
     <li class="comment-date">04/17. 2017 10:21am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fnon-blocking-server%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-27583&#39;, &#39;comment-27583&#39;, &#39;comment-content-27583&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27583">
    <p>你好，源码中的SocketProcessor中的executeCycle()方法中的takeNewSocket(），当不断的有新socket加入，不就在死循环在while(true）里面了吗，能解释一下吗</p>
  </div>

<ul class="children">

 <li class="comment admin-comment even_comment_children" id="comment-27584">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/f87a58a7f9f71e6d34f59ee8e4bcfbb0(1)" srcset="http://0.gravatar.com/avatar/f87a58a7f9f71e6d34f59ee8e4bcfbb0?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27584">

higher
</span>
     </li>
     <li class="comment-date">04/17. 2017 11:27am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fnon-blocking-server%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-27584&#39;, &#39;comment-27584&#39;, &#39;comment-content-27584&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27584">
    <p>这里应该是要保证每个客户端的socket都被服务器接收并处理的意思，并且要确保一有Socket服务器就要马上处理。所以SocketProcessor.run()要是一个死循环。不知道有没有解决你的疑惑</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment odd_comment" id="comment-27961">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt="" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/0e80196a213e88840c791db02c9b1a07" srcset="http://0.gravatar.com/avatar/0e80196a213e88840c791db02c9b1a07?s=70&amp;d=mm&amp;r=g 2x" class="avatar avatar-35 photo" height="35" width="35">  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27961">

com4j
</span>
     </li>
     <li class="comment-date">09/12. 2017 4:35pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fnon-blocking-server%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote(&#39;commentauthor-27961&#39;, &#39;comment-27961&#39;, &#39;comment-content-27961&#39;, &#39;comment&#39;);">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27961">
    <p>当我们从一个SelectableChannel读取一个数据包时，我们不知道这个数据包相比于源文件是否有丢失或者重复数据（原文是：When we read a block of data from a SelectableChannel we do not know if that data block contains less or more than a message）。一个数据包可能的情况有：缺失数据（比原有消息的数据少）、与原有一致、比原来的消息的数据更多（例如：是原来的1.5或者2.5倍）。</p>
<p>个人理解这里翻译的意思与原文有出入，原文的意思应该是当读取一个数据块data block时，并不确定这个数据块是否包含了一条完整的信息message，可能包含消息的一部分，也可能包含多于一条消息的数据（掺杂了其他消息的数据）。而不是说数据有缺失或重复。</p>
  </div>

</li><!-- #comment-## -->
  </ol>
  <!-- comments END -->

  
 </div><!-- #comment-list END -->


 <div id="trackback_area">
 <!-- start trackback -->
  <!-- trackback end -->
 </div><!-- #trackbacklist END -->

 


 
 <div class="comment_form_wrapper" id="respond">
    You must be <a href="http://ifeve.com/wp-login.php">logged in</a> to post a comment. </div>

 </div><!-- #comment end -->   </div>
   
      <div id="previous_next_post_single">
    <div class="clearfix">
     <p id="previous_post"><a href="http://ifeve.com/software-architecture-patterns/" rel="prev">《软件架构模式》-第一章分层架构（上）</a></p>     <p id="next_post"><a href="http://ifeve.com/spring-boot-%e6%95%b4%e5%90%88-redis-%e5%ae%9e%e7%8e%b0%e7%bc%93%e5%ad%98%e6%93%8d%e4%bd%9c/" rel="next">Spring Boot 整合 Redis 实现缓存操作</a></p>    </div>
   </div>
   

  </div><!-- END #left_col -->

  <div id="container"></div>

    <div id="right_col">
   

<div class="side_box clearfix" id="side_meta_content">

  <ul id="social_link" class="clearfix">
    <li class="rss_button"><a class="target_blank" href="http://ifeve.com/feed/" target="_blank">rss</a></li>
       </ul>
 
  <div id="search_area">
    <form method="get" id="searchform" action="http://ifeve.com/">
   <div><input id="search_button" class="rollover" type="image" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/search_button.gif" alt="SEARCH" title="SEARCH"></div>
   <div><input id="search_input" type="text" value="SEARCH" name="s" onfocus="if (this.value == &#39;SEARCH&#39;) this.value = &#39;&#39;;" onblur="if (this.value == &#39;&#39;) this.value = &#39;SEARCH&#39;;"></div>
  </form>
   </div>
 
</div>


<div id="side_top">

 <div class="widget_text side_box widget_custom_html" id="custom_html-3">
<div class="textwidget custom-html-widget"><!-- 
<a href="https://cn.100offer.com/?utm_source=ifeve&utm_medium=display&utm_campaign=ifeve&campaign_code=ifeve" target="_blank"><img src="http://ifeve.com/wp-content/uploads/2017/09/WechatIMG70.jpeg" />
-->

<script async="" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/adsbygoogle.js"></script>
<!-- 首页－右上－2 -->
<ins class="adsbygoogle" style="display: inline-block; width: 320px; height: 280px;" data-ad-client="ca-pub-9394337417063147" data-ad-slot="8872369516" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:320px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:320px;background-color:transparent;"><iframe width="320" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:320px;height:280px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div>
<div class="side_box widget_views" id="views-4">
<h3 class="side_title">热门文章</h3>
<ul>
<li><a href="http://ifeve.com/non-blocking-server/" title="Google Guava官方教程（中文版）">Google Guava官方教程（中文版）</a> 577,987 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java NIO系列教程（一） Java NIO 概述">Java NIO系列教程（一） Java NIO 概述</a> 396,919 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java并发性和多线程介绍目录">Java并发性和多线程介绍目录</a> 276,168 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java NIO 系列教程">Java NIO 系列教程</a> 262,285 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java NIO系列教程（十二） Java NIO与IO">Java NIO系列教程（十二） Java NIO与IO</a> 224,200 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java8初体验（二）Stream语法详解">Java8初体验（二）Stream语法详解</a> 205,510 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java NIO系列教程（六） Selector">Java NIO系列教程（六） Selector</a> 198,516 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java NIO系列教程（三） Buffer">Java NIO系列教程（三） Buffer</a> 194,577 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java NIO系列教程（二） Channel">Java NIO系列教程（二） Channel</a> 192,809 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="《Storm入门》中文版">《Storm入门》中文版</a> 177,068 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="69道Spring面试题和答案">69道Spring面试题和答案</a> 165,829 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Netty 5用户指南">Netty 5用户指南</a> 159,767 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="面试题">面试题</a> 144,182 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="并发框架Disruptor译文">并发框架Disruptor译文</a> 142,693 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java 7 并发编程指南中文版">Java 7 并发编程指南中文版</a> 137,926 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java NIO系列教程（八） SocketChannel">Java NIO系列教程（八） SocketChannel</a> 126,941 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="[Google Guava] 3-缓存">[Google Guava] 3-缓存</a> 121,447 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="[Google Guava] 2.3-强大的集合工具类：ja...">[Google Guava] 2.3-强大的集合工具类：ja...</a> 120,786 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="[Google Guava] 1.1-使用和避免null">[Google Guava] 1.1-使用和避免null</a> 111,679 人阅读 </li><li><a href="http://ifeve.com/non-blocking-server/" title="Java NIO系列教程（七） FileChannel">Java NIO系列教程（七） FileChannel</a> 109,987 人阅读 </li></ul>
</div>
<div class="widget_text side_box widget_custom_html" id="custom_html-4">
<div class="textwidget custom-html-widget"><script async="" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/adsbygoogle.js"></script>
<!-- 首页－右上－2 -->
<ins class="adsbygoogle" style="display: inline-block; width: 320px; height: 280px;" data-ad-client="ca-pub-9394337417063147" data-ad-slot="8872369516" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:320px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:320px;background-color:transparent;"><iframe width="320" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:320px;height:280px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div>
		<div class="side_box widget_recent_entries" id="recent-posts-2">
		<h3 class="side_title">Recent Posts</h3>
		<ul>
											<li>
					<a href="http://ifeve.com/consist-hash/">浅尝一致性Hash原理</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-threadmodel/">Dubbo剖析-线程模型</a>
									</li>
											<li>
					<a href="http://ifeve.com/%e5%88%86%e5%b8%83%e5%bc%8f%e7%90%86%e8%ae%ba%ef%bc%9acap%e6%98%af%e4%b8%89%e9%80%89%e4%ba%8c%e5%90%97/">分布式理论：CAP是三选二吗?</a>
									</li>
											<li>
					<a href="http://ifeve.com/jarslink161/">Jarslink1.6.1版本特性</a>
									</li>
											<li>
					<a href="http://ifeve.com/%e3%80%8a%e6%b7%b1%e5%85%a5%e5%88%86%e5%b8%83%e5%bc%8f%e7%bc%93%e5%ad%98%e3%80%8b%e4%b9%8b-%e7%bc%93%e5%ad%98%e4%b8%ba%e7%8e%8b/">《深入分布式缓存》之 “缓存为王”</a>
									</li>
											<li>
					<a href="http://ifeve.com/thrift/">《Thrift官方文档》翻译邀请</a>
									</li>
											<li>
					<a href="http://ifeve.com/%e3%80%8aapache-rocketmq%e7%94%a8%e6%88%b7%e6%8c%87%e5%8d%97%e3%80%8b%e4%b9%8b%e5%ae%9a%e6%97%b6%e6%b6%88%e6%81%af%e7%a4%ba%e4%be%8b/">《Apache RocketMQ用户指南》之定时消息示例</a>
									</li>
											<li>
					<a href="http://ifeve.com/spring-service-exportinvoker/">使用Spring框架实现远程服务暴露与调用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-consumer-invoker2interface/">Dubbo剖析-服务消费方Invoker到客户端接口的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-consumer-service2invoker/">Dubbo剖析-服务消费方远程服务到Invoker的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/linux%e9%9b%b6%e6%8b%b7%e8%b4%9d%e5%8e%9f%e7%90%86/">Linux零拷贝原理</a>
									</li>
											<li>
					<a href="http://ifeve.com/jarslink-opensource/">阿里再开源！模块化开发框架JarsLink</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-provider-invoker2exporter/">Dubbo剖析-服务提供方Invoker到Exporter的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-impl2invoker/">Dubbo剖析-服务提供方实现类到Invoker的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-spi-auto-wrap/">Dubbo剖析-增强SPI中扩展点自动包装的实现</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-async-call/">Dubbo剖析-服务消费端异步调用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-p2p/">Dubbo剖析-服务直连</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-group-version/">Dubbo剖析-服务分组与服务版本号</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-monitor/">Dubbo剖析-监控平台的搭建与使用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-spi/">Dubbo剖析-增强SPI的实现</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-framework/">Dubbo剖析-整体架构分析</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-in-ecs/">《Linkerd官方文档》在ECS中运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-with-istio/">《Linkerd官方文档》与Istio一起运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-dc-os/">《Linkerd官方文档》在DC / OS中运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-console-manager/">Dubbo剖析-管理控制台的搭建与使用</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-in-kubernetes/">《Linkerd官方文档》在Kubernetes中运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-generic/">Dubbo剖析-服务消费端泛化调用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo2/">Dubbo剖析-搭建一个简单的分布式系统（2）</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-with-docker/">《Linkerd官方文档》使用Docker运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-locally/">《Linkerd官方文档》在本地运行Linkerd</a>
									</li>
					</ul>
		</div>
<div class="side_box widget_categories" id="categories-2">
<h3 class="side_title">Categories</h3>
		<ul>
	<li class="cat-item cat-item-415"><a href="http://ifeve.com/category/android/">Android</a> (3)
</li>
	<li class="cat-item cat-item-289"><a href="http://ifeve.com/category/c/">C++</a> (12)
</li>
	<li class="cat-item cat-item-366"><a href="http://ifeve.com/category/cpu-2/">CPU</a> (2)
</li>
	<li class="cat-item cat-item-73"><a href="http://ifeve.com/category/framework/">Framework</a> (72)
<ul class="children">
	<li class="cat-item cat-item-387"><a href="http://ifeve.com/category/framework/akka/">akka</a> (20)
</li>
</ul>
</li>
	<li class="cat-item cat-item-458"><a href="http://ifeve.com/category/go/">GO</a> (6)
</li>
	<li class="cat-item cat-item-617"><a href="http://ifeve.com/category/groovy/">groovy</a> (6)
</li>
	<li class="cat-item cat-item-310"><a href="http://ifeve.com/category/guava-2/">guava</a> (23)
</li>
	<li class="cat-item cat-item-69"><a href="http://ifeve.com/category/java/">JAVA</a> (816)
</li>
	<li class="cat-item cat-item-127"><a href="http://ifeve.com/category/jvm/">JVM</a> (40)
</li>
	<li class="cat-item cat-item-300"><a href="http://ifeve.com/category/linux/">linux</a> (9)
</li>
	<li class="cat-item cat-item-1061"><a href="http://ifeve.com/category/microservices/">microservices</a> (1)
</li>
	<li class="cat-item cat-item-280"><a href="http://ifeve.com/category/netty/">Netty</a> (31)
</li>
	<li class="cat-item cat-item-632"><a href="http://ifeve.com/category/react/">react</a> (6)
</li>
	<li class="cat-item cat-item-623"><a href="http://ifeve.com/category/redis/">redis</a> (23)
</li>
	<li class="cat-item cat-item-166"><a href="http://ifeve.com/category/scala/">Scala</a> (11)
</li>
	<li class="cat-item cat-item-672"><a href="http://ifeve.com/category/spark/">spark</a> (19)
</li>
	<li class="cat-item cat-item-1011"><a href="http://ifeve.com/category/spring/">Spring</a> (23)
</li>
	<li class="cat-item cat-item-388"><a href="http://ifeve.com/category/storm/">storm</a> (44)
</li>
	<li class="cat-item cat-item-620"><a href="http://ifeve.com/category/thinking/">thinking</a> (3)
</li>
	<li class="cat-item cat-item-485"><a href="http://ifeve.com/category/velocity/">Velocity</a> (10)
</li>
	<li class="cat-item cat-item-279"><a href="http://ifeve.com/category/web/">Web</a> (18)
</li>
	<li class="cat-item cat-item-980"><a href="http://ifeve.com/category/zookeeper/">zookeeper</a> (1)
</li>
	<li class="cat-item cat-item-148"><a href="http://ifeve.com/category/notice/">公告</a> (5)
</li>
	<li class="cat-item cat-item-378"><a href="http://ifeve.com/category/bigdata/">大数据</a> (33)
</li>
	<li class="cat-item cat-item-138"><a href="http://ifeve.com/category/%e5%a5%bd%e6%96%87%e6%8e%a8%e8%8d%90/">好文推荐</a> (31)
</li>
	<li class="cat-item cat-item-244"><a href="http://ifeve.com/category/%e5%b9%b6%e5%8f%91%e4%b9%a6%e7%b1%8d/">并发书籍</a> (97)
</li>
	<li class="cat-item cat-item-29"><a href="http://ifeve.com/category/concurrency-translation/" title="发布国外并发编程相关文献译文。">并发译文</a> (410)
</li>
	<li class="cat-item cat-item-979"><a href="http://ifeve.com/category/%e6%84%9f%e6%82%9f/">感悟</a> (3)
</li>
	<li class="cat-item cat-item-7"><a href="http://ifeve.com/category/ask/" title="可以在这里发表并发编程的问题。如何发表？用QQ登陆，然后点击“新建文章”，管理员审核后就可以发表。">技术问答</a> (12)
</li>
	<li class="cat-item cat-item-147"><a href="http://ifeve.com/category/%e6%95%8f%e6%8d%b7%e7%ae%a1%e7%90%86/">敏捷管理</a> (6)
</li>
	<li class="cat-item cat-item-1"><a href="http://ifeve.com/category/talk-concurrent/">本站原创</a> (87)
</li>
	<li class="cat-item cat-item-367"><a href="http://ifeve.com/category/%e6%9e%b6%e6%9e%84/">架构</a> (32)
</li>
	<li class="cat-item cat-item-305"><a href="http://ifeve.com/category/%e6%b4%bb%e5%8a%a8/">活动</a> (6)
</li>
	<li class="cat-item cat-item-414"><a href="http://ifeve.com/category/%e7%bd%91%e7%bb%9c/">网络</a> (7)
</li>
		</ul>
</div>
</div>
<div id="side_middle" class="clearfix">
 <div id="side_left">
   </div>
 <div id="side_right">
   </div>
</div>
<div id="side_bottom">
 <div class="side_box widget_tag_cloud" id="tag_cloud-4">
<h3 class="side_title">Tags</h3>
<div class="tagcloud"><a href="http://ifeve.com/tag/actor/" class="tag-cloud-link tag-link-226 tag-link-position-1" style="font-size: 12.623853211009pt;" aria-label="actor (17 items)">actor</a>
<a href="http://ifeve.com/tag/basic/" class="tag-cloud-link tag-link-213 tag-link-position-2" style="font-size: 11.596330275229pt;" aria-label="Basic (14 items)">Basic</a>
<a href="http://ifeve.com/tag/classes/" class="tag-cloud-link tag-link-251 tag-link-position-3" style="font-size: 8.6422018348624pt;" aria-label="classes (8 items)">classes</a>
<a href="http://ifeve.com/tag/collections/" class="tag-cloud-link tag-link-260 tag-link-position-4" style="font-size: 10.311926605505pt;" aria-label="collections (11 items)">collections</a>
<a href="http://ifeve.com/tag/concurrency/" class="tag-cloud-link tag-link-111 tag-link-position-5" style="font-size: 20.45871559633pt;" aria-label="concurrency (73 items)">concurrency</a>
<a href="http://ifeve.com/tag/concurrent/" class="tag-cloud-link tag-link-214 tag-link-position-6" style="font-size: 10.697247706422pt;" aria-label="Concurrent (12 items)">Concurrent</a>
<a href="http://ifeve.com/tag/concurrent-data-structure/" class="tag-cloud-link tag-link-322 tag-link-position-7" style="font-size: 11.211009174312pt;" aria-label="concurrent data structure (13 items)">concurrent data structure</a>
<a href="http://ifeve.com/tag/customizing/" class="tag-cloud-link tag-link-250 tag-link-position-8" style="font-size: 8.6422018348624pt;" aria-label="Customizing (8 items)">Customizing</a>
<a href="http://ifeve.com/tag/executor/" class="tag-cloud-link tag-link-177 tag-link-position-9" style="font-size: 13.394495412844pt;" aria-label="Executor (20 items)">Executor</a>
<a href="http://ifeve.com/tag/executor-framework/" class="tag-cloud-link tag-link-231 tag-link-position-10" style="font-size: 12.880733944954pt;" aria-label="Executor framework (18 items)">Executor framework</a>
<a href="http://ifeve.com/tag/false-sharing/" class="tag-cloud-link tag-link-119 tag-link-position-11" style="font-size: 8pt;" aria-label="False Sharing (7 items)">False Sharing</a>
<a href="http://ifeve.com/tag/faq/" class="tag-cloud-link tag-link-39 tag-link-position-12" style="font-size: 11.211009174312pt;" aria-label="faq (13 items)">faq</a>
<a href="http://ifeve.com/tag/fork/" class="tag-cloud-link tag-link-232 tag-link-position-13" style="font-size: 10.697247706422pt;" aria-label="fork (12 items)">fork</a>
<a href="http://ifeve.com/tag/forkjoin/" class="tag-cloud-link tag-link-224 tag-link-position-14" style="font-size: 9.2844036697248pt;" aria-label="Fork/Join (9 items)">Fork/Join</a>
<a href="http://ifeve.com/tag/fork-join/" class="tag-cloud-link tag-link-53 tag-link-position-15" style="font-size: 8.6422018348624pt;" aria-label="fork join (8 items)">fork join</a>
<a href="http://ifeve.com/tag/framework/" class="tag-cloud-link tag-link-1018 tag-link-position-16" style="font-size: 14.165137614679pt;" aria-label="Framework (23 items)">Framework</a>
<a href="http://ifeve.com/tag/functional-programming/" class="tag-cloud-link tag-link-460 tag-link-position-17" style="font-size: 9.7981651376147pt;" aria-label="Functional Programming (10 items)">Functional Programming</a>
<a href="http://ifeve.com/tag/guava/" class="tag-cloud-link tag-link-309 tag-link-position-18" style="font-size: 11.853211009174pt;" aria-label="Guava (15 items)">Guava</a>
<a href="http://ifeve.com/tag/io/" class="tag-cloud-link tag-link-129 tag-link-position-19" style="font-size: 14.807339449541pt;" aria-label="IO (26 items)">IO</a>
<a href="http://ifeve.com/tag/java/" class="tag-cloud-link tag-link-1016 tag-link-position-20" style="font-size: 22pt;" aria-label="JAVA (96 items)">JAVA</a>
<a href="http://ifeve.com/tag/java8/" class="tag-cloud-link tag-link-342 tag-link-position-21" style="font-size: 11.211009174312pt;" aria-label="java8 (13 items)">java8</a>
<a href="http://ifeve.com/tag/jmm/" class="tag-cloud-link tag-link-31 tag-link-position-22" style="font-size: 15.834862385321pt;" aria-label="jmm (31 items)">jmm</a>
<a href="http://ifeve.com/tag/join/" class="tag-cloud-link tag-link-233 tag-link-position-23" style="font-size: 10.697247706422pt;" aria-label="join (12 items)">join</a>
<a href="http://ifeve.com/tag/jvm/" class="tag-cloud-link tag-link-1019 tag-link-position-24" style="font-size: 12.880733944954pt;" aria-label="JVM (18 items)">JVM</a>
<a href="http://ifeve.com/tag/lock/" class="tag-cloud-link tag-link-17 tag-link-position-25" style="font-size: 14.165137614679pt;" aria-label="lock (23 items)">lock</a>
<a href="http://ifeve.com/tag/memory-barriers/" class="tag-cloud-link tag-link-75 tag-link-position-26" style="font-size: 9.7981651376147pt;" aria-label="Memory Barriers (10 items)">Memory Barriers</a>
<a href="http://ifeve.com/tag/netty/" class="tag-cloud-link tag-link-1027 tag-link-position-27" style="font-size: 13.137614678899pt;" aria-label="Netty (19 items)">Netty</a>
<a href="http://ifeve.com/tag/nio/" class="tag-cloud-link tag-link-1021 tag-link-position-28" style="font-size: 12.238532110092pt;" aria-label="NIO (16 items)">NIO</a>
<a href="http://ifeve.com/tag/oauth-2-0/" class="tag-cloud-link tag-link-380 tag-link-position-29" style="font-size: 8.6422018348624pt;" aria-label="OAuth 2.0 (8 items)">OAuth 2.0</a>
<a href="http://ifeve.com/tag/pattern-matching/" class="tag-cloud-link tag-link-167 tag-link-position-30" style="font-size: 8.6422018348624pt;" aria-label="pattern-matching (8 items)">pattern-matching</a>
<a href="http://ifeve.com/tag/ringbuffer/" class="tag-cloud-link tag-link-91 tag-link-position-31" style="font-size: 8pt;" aria-label="RingBuffer (7 items)">RingBuffer</a>
<a href="http://ifeve.com/tag/scala/" class="tag-cloud-link tag-link-1023 tag-link-position-32" style="font-size: 13.908256880734pt;" aria-label="Scala (22 items)">Scala</a>
<a href="http://ifeve.com/tag/service-mesh/" class="tag-cloud-link tag-link-1063 tag-link-position-33" style="font-size: 8.6422018348624pt;" aria-label="service mesh (8 items)">service mesh</a>
<a href="http://ifeve.com/tag/slf4j/" class="tag-cloud-link tag-link-813 tag-link-position-34" style="font-size: 8.6422018348624pt;" aria-label="slf4j (8 items)">slf4j</a>
<a href="http://ifeve.com/tag/spark/" class="tag-cloud-link tag-link-634 tag-link-position-35" style="font-size: 12.623853211009pt;" aria-label="spark (17 items)">spark</a>
<a href="http://ifeve.com/tag/spark%e5%ae%98%e6%96%b9%e6%96%87%e6%a1%a3/" class="tag-cloud-link tag-link-635 tag-link-position-36" style="font-size: 12.623853211009pt;" aria-label="spark官方文档 (17 items)">spark官方文档</a>
<a href="http://ifeve.com/tag/stm/" class="tag-cloud-link tag-link-199 tag-link-position-37" style="font-size: 10.697247706422pt;" aria-label="stm (12 items)">stm</a>
<a href="http://ifeve.com/tag/storm/" class="tag-cloud-link tag-link-351 tag-link-position-38" style="font-size: 16.990825688073pt;" aria-label="Storm (39 items)">Storm</a>
<a href="http://ifeve.com/tag/synchronization/" class="tag-cloud-link tag-link-216 tag-link-position-39" style="font-size: 11.853211009174pt;" aria-label="synchronization (15 items)">synchronization</a>
<a href="http://ifeve.com/tag/synchronized/" class="tag-cloud-link tag-link-15 tag-link-position-40" style="font-size: 9.7981651376147pt;" aria-label="Synchronized (10 items)">Synchronized</a>
<a href="http://ifeve.com/tag/thread/" class="tag-cloud-link tag-link-11 tag-link-position-41" style="font-size: 17.504587155963pt;" aria-label="thread (43 items)">thread</a>
<a href="http://ifeve.com/tag/tomcat/" class="tag-cloud-link tag-link-347 tag-link-position-42" style="font-size: 9.2844036697248pt;" aria-label="tomcat (9 items)">tomcat</a>
<a href="http://ifeve.com/tag/volatile/" class="tag-cloud-link tag-link-25 tag-link-position-43" style="font-size: 11.211009174312pt;" aria-label="volatile (13 items)">volatile</a>
<a href="http://ifeve.com/tag/%e5%a4%9a%e7%ba%bf%e7%a8%8b/" class="tag-cloud-link tag-link-197 tag-link-position-44" style="font-size: 9.2844036697248pt;" aria-label="多线程 (9 items)">多线程</a>
<a href="http://ifeve.com/tag/%e5%b9%b6%e5%8f%91%e8%af%91%e6%96%87%ef%bc%8cjava-%ef%bc%8cmaven/" class="tag-cloud-link tag-link-1034 tag-link-position-45" style="font-size: 16.605504587156pt;" aria-label="并发译文，Java ，Maven (36 items)">并发译文，Java ，Maven</a></div>
</div>
<div class="widget_text side_box widget_custom_html" id="custom_html-2">
<div class="textwidget custom-html-widget"><script async="" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/adsbygoogle.js"></script>
<!-- 摩天大楼 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:600px" data-ad-client="ca-pub-9394337417063147" data-ad-slot="6358703113" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><ins id="aswift_2_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><iframe width="300" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;width:300px;height:600px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- 
<script type="text/javascript">
    /*自适应 创建于 June 30, 2016*/
    var cpro_id = "u2690738";

<script type="text/javascript" src="http://cpro.baidustatic.com/cpro/ui/i.js"></script>
 -->

<!-- CNZZ -->
<script src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/stat.php" language="JavaScript"></script><script src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=5003572" target="_blank" title="站长统计"><img border="0" hspace="0" vspace="0" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/pic.gif"></a></div></div>
</div>

  </div>
  
  <div id="footer">

<ul id="copyright">
    <li>Copyright ©&nbsp; <a href="http://ifeve.com/">并发编程网 – ifeve.com</a></li>
    <li>ICP号: <a href="http://www.miibeian.gov.cn/" target="_blank">浙ICP备12046809号</a></li>
 <li>	
<a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602005873" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="" style="float:left;">浙公网安备 33010602005873号</a></li>
   </ul>
		 
		 

 </div>

	
 </div><!-- END #main_content -->

  <p id="return_top" style="display: none;"><a href="http://ifeve.com/non-blocking-server/#header">return top</a></p>
 
<link rel="stylesheet" id="yarppRelatedCss-css" href="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/related.css" type="text/css" media="all">
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/core.min.js"></script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/widget.min.js"></script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/tabs.min.js"></script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/comment-reply.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var ratingsL10n = {"plugin_url":"http:\/\/ifeve.com\/wp-content\/plugins\/wp-postratings","ajax_url":"http:\/\/ifeve.com\/wp-admin\/admin-ajax.php","text_wait":"Please rate only 1 item at a time.","image":"stars_crystal","image_ext":"gif","max":"5","show_loading":"1","show_fading":"1","custom":"0"};
var ratings_mouseover_image=new Image();ratings_mouseover_image.src="http://ifeve.com/wp-content/plugins/wp-postratings/images/stars_crystal/rating_over.gif";;
/* ]]> */
</script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/postratings-js.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/ifeve.com\/wp-admin\/admin-ajax.php","post_id":"31545"};
/* ]]> */
</script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/postviews-cache.js"></script>
<script type="text/javascript" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/wp-embed.min.js"></script>



<script src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/jquery.min.js"></script>

<script src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/jquery.bpopup-0.8.0.min.js"></script>

<!-- Dynamic page generated in 0.825 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-04-07 10:51:09 -->

<!-- Compression = gzip -->
<!-- super cache --><ins class="adsbygoogle" data-adsbygoogle-status="done" style="display: none;"><ins id="aswift_3_expand" style="display:inline-table;border:none;height:NaNpx;margin:0;padding:0;position:relative;visibility:visible;width:NaNpx;background-color:transparent;"><ins id="aswift_3_anchor" style="display:block;border:none;height:NaNpx;margin:0;padding:0;position:relative;visibility:visible;width:NaNpx;background-color:transparent;"><iframe frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;width:NaNpx;height:NaNpx;"></iframe></ins></ins></ins><div class="sogoutip" style="z-index: 2147483645; visibility: hidden; display: none;"></div><div class="sogoubottom" id="sougou_bottom" style="display: none;"></div><div id="ext_stophi" style="z-index: 2147483647;"><div class="extnoticebg"></div><div class="extnotice"><h2>关闭提示 <a href="http://ifeve.com/non-blocking-server/#" title="关闭提示" id="closenotice" class="closenotice">关闭</a></h2><p id="sogouconfirmtxt"></p>  <a id="sogouconfirm" href="http://ifeve.com/non-blocking-server/#" class="extconfirm">确 认</a> <a id="sogoucancel" href="http://ifeve.com/non-blocking-server/#" class="extconfirm">取 消</a></div></div><div id="ext_overlay" class="ext_overlayBG" style="display: none; z-index: 2147483646;"></div><iframe class="sogou_sugg_feedbackquan" frameborder="0" scrolling="no" src="./《Java NIO文档》非阻塞式服务器 _ 并发编程网 – ifeve.com_files/yun6.html" style="border: none; display: none; height: 84px; width: 100%; z-index: 2147483645; background: transparent;"></iframe></body></html>