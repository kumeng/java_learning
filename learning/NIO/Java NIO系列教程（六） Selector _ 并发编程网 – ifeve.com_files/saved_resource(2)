<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<base target="_blank">
<meta name="baidu_union_verify" content="d30f7acd6a9a378cc0aeb0bd0ddfe30d">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9394337417063147",
    enable_page_level_ads: true
  });
</script>
<title>Java NIO系列教程（六） Selector | 并发编程网 &#8211; ifeve.com</title>
<meta name="description" content="让天下没有难学的技术" />

<link rel="alternate" type="application/rss+xml" title="并发编程网 &#8211; ifeve.com RSS Feed" href="http://ifeve.com/feed/" />
<link rel="alternate" type="application/atom+xml" title="并发编程网 &#8211; ifeve.com Atom Feed" href="http://ifeve.com/feed/atom/" /> 
<link rel="pingback" href="http://ifeve.com/xmlrpc.php" />

<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/style.css" type="text/css" />
<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/comment-style.css" type="text/css" />

 
<link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="并发编程网 - ifeve.com &raquo; Java NIO系列教程（六） Selector Comments Feed" href="http://ifeve.com/selectors/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/ifeve.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.5"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wpfp-css' href='http://ifeve.com/wp-content/plugins/wp-favorite-posts/wpfp.css' type='text/css' />
<link rel='stylesheet' id='yarppWidgetCss-css'  href='http://ifeve.com/wp-content/plugins/yet-another-related-posts-plugin/style/widget.css?ver=4.9.5' type='text/css' media='all' />
<link rel='stylesheet' id='jquery-ui-css'  href='//ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/themes/base/jquery-ui.css?ver=4.9.5' type='text/css' media='all' />
<link rel='stylesheet' id='dwqa-style-css'  href='http://ifeve.com/wp-content/plugins/dw-question-answer/templates/assets/css/style.css?ver=180720161355' type='text/css' media='all' />
<link rel='stylesheet' id='dwqa-rtl-css'  href='http://ifeve.com/wp-content/plugins/dw-question-answer/templates/assets/css/rtl.css?ver=180720161355' type='text/css' media='all' />
<link rel='stylesheet' id='wp-postratings-css'  href='http://ifeve.com/wp-content/plugins/wp-postratings/css/postratings-css.css?ver=1.85' type='text/css' media='all' />
<script type='text/javascript' src='http://ifeve.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://ifeve.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='http://ifeve.com/wp-content/plugins/wp-favorite-posts/wpfp.js?ver=4.9.5'></script>
<link rel='https://api.w.org/' href='http://ifeve.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ifeve.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ifeve.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Java NIO系列教程（十） Java NIO DatagramChannel' href='http://ifeve.com/datagram-channel/' />
<link rel='next' title='并发编程图书' href='http://ifeve.com/concurrencybook/' />
<meta name="generator" content="WordPress 4.9.5" />
<link rel="canonical" href="http://ifeve.com/selectors/" />
<link rel='shortlink' href='http://ifeve.com/?p=5396' />
<link rel="alternate" type="application/json+oembed" href="http://ifeve.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fifeve.com%2Fselectors%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://ifeve.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fifeve.com%2Fselectors%2F&#038;format=xml" />

<!-- StarBox - the Author Box for Humans 3.0.6, visit: http://wordpress.org/plugins/starbox/ -->
<!-- /StarBox - the Author Box for Humans -->

<link rel='stylesheet' id='frontend.css-css'  href='http://ifeve.com/wp-content/plugins/starbox//themes/fancy/css/frontend.css?ver=3.0.6' type='text/css' media='all' />
<script type='text/javascript' src='http://ifeve.com/wp-content/plugins/starbox//themes/fancy/js/frontend.js?ver=3.0.6'></script>
<link rel='stylesheet' id='hidedefault.css-css'  href='http://ifeve.com/wp-content/plugins/starbox//themes/admin/css/hidedefault.css?ver=3.0.6' type='text/css' media='all' />
<style type="text/css" id="syntaxhighlighteranchor"></style>

<script type="text/javascript" src="http://ifeve.com/wp-content/themes/flat/js/jscript.js"></script>
<script type="text/javascript" src="http://ifeve.com/wp-content/themes/flat/js/comment.js"></script>
<script type="text/javascript" src="http://ifeve.com/wp-content/themes/flat/js/rollover.js"></script>

<!--[if IE 7]>
<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/ie7.css" type="text/css" />
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" href="http://ifeve.com/wp-content/themes/flat/ie8.css" type="text/css" />
<![endif]-->


<style type="text/css">
a, .post .title a:hover, .post_meta a:hover, #bread_crumb ul li a:hover, #previous_post a:hover, #next_post a:hover, .post a.more-link:hover, #right_col li a:hover, #copyright li a:hover, #archive_headline #keyword,
   #comments_wrapper a:hover, #comment_header_right .comment_switch_active a, #comment_header_right .comment_switch_active a:hover, #comment_pager .current
   { color:#00A19E; }

#no_post a.back:hover, #wp-calendar td a:hover, #wp-calendar #prev a:hover, #wp-calendar #next a:hover, .page_navi a:hover, #submit_comment:hover
 { background-color:#00A19E; }

#guest_info input:focus, #comment_textarea textarea:focus
 { border:1px solid #00A19E; }

a:hover
 { color:#BDC900; }

body { font-size:14px; }

#header { background:url(http://ifeve.com/wp-content/uploads/flat/bg.png) left top; }
.logo_text a { color:#F5F5F5; }
#site_description {  border-top:1px solid #BBBBBB; color:#D2D9CC; }


</style>

</head>

<body>

 <div id="header">
  <div class="header_menu">
    <ul id="menu-%e4%b8%bb%e8%8f%9c%e5%8d%95" class="menu"><li id="menu-item-16594" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-16594"><a href="http://ifeve.com">首页</a></li>
<li id="menu-item-3432" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3432"><a href="http://ifeve.com/wp-login.php">登录</a></li>
<li id="menu-item-9219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-9219"><a href="http://ifeve.com/category/java/">JAVA</a>
<ul class="sub-menu">
	<li id="menu-item-16108" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16108"><a href="http://ifeve.com/java-io/">Java IO 教程</a></li>
	<li id="menu-item-5283" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5283"><a href="http://ifeve.com/java-nio-all/">Java NIO 教程</a></li>
	<li id="menu-item-17514" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17514"><a href="http://ifeve.com/java-reflection/">JAVA Reflection教程</a></li>
	<li id="menu-item-16239" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16239"><a href="http://ifeve.com/java-network">Java 网络教程</a></li>
	<li id="menu-item-4416" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4416"><a href="http://ifeve.com/java-concurrency-thread-directory/">Java并发和多线程</a></li>
	<li id="menu-item-2767" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2767"><a href="http://ifeve.com/jmm-cookbook/">Java内存模型指南</a></li>
	<li id="menu-item-2747" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2747"><a href="http://ifeve.com/jmm-faq/">Java内存模型FAQ</a></li>
	<li id="menu-item-2765" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2765"><a href="http://ifeve.com/syn-jmm/">同步与Java内存模型</a></li>
	<li id="menu-item-5789" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5789"><a href="http://ifeve.com/oracle-java-concurrency-tutorial/">Oracle官方并发教程</a></li>
	<li id="menu-item-15316" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15316"><a href="http://ifeve.com/jvm-optimize/">JVM性能优化系列</a></li>
	<li id="menu-item-15313" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15313"><a href="http://ifeve.com/useful-jvm-flags/">JVM实用参数系列</a></li>
</ul>
</li>
<li id="menu-item-7938" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7938"><a href="http://ifeve.com/category/c/">C++</a></li>
<li id="menu-item-9220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-9220"><a href="http://ifeve.com/category/framework/">Framework</a>
<ul class="sub-menu">
	<li id="menu-item-12798" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12798"><a href="http://ifeve.com/disruptor/">Disruptor 框架指南</a></li>
	<li id="menu-item-12783" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12783"><a title="Netty" href="http://ifeve.com/category/netty/">Netty</a></li>
	<li id="menu-item-12791" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12791"><a href="http://ifeve.com/category/scala/">Scala</a></li>
	<li id="menu-item-12312" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12312"><a href="http://ifeve.com/getting-started-with-stom-index/">Storm 入门</a></li>
	<li id="menu-item-9218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9218"><a href="http://ifeve.com/google-guava/">Guava 官方指南</a></li>
	<li id="menu-item-20471" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20471"><a href="http://ifeve.com/velocity-guide/">Apache Velocity 官方指南</a></li>
	<li id="menu-item-21439" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-21439"><a href="http://ifeve.com/storm-translation/">Apache Storm 官方文档</a></li>
</ul>
</li>
<li id="menu-item-555" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-555"><a href="http://ifeve.com/category/concurrency-translation/">其他译文</a>
<ul class="sub-menu">
	<li id="menu-item-2777" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2777"><a href="http://ifeve.com/java-concurrent/">并发基础</a></li>
	<li id="menu-item-3340" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3340"><a href="http://ifeve.com/aqs/">j.u.c同步框架</a></li>
	<li id="menu-item-2769" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2769"><a href="http://ifeve.com/fj/">Fork Join框架</a></li>
	<li id="menu-item-9221" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9221"><a href="http://ifeve.com/doug-lea/">Doug Lea 论文</a></li>
	<li id="menu-item-4643" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4643"><a href="http://ifeve.com/mechanical-sympathy/">Mechanical Sympathy</a></li>
	<li id="menu-item-6397" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6397"><a href="http://ifeve.com/stm/">软件事务内存导论</a></li>
	<li id="menu-item-10845" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10845"><a href="http://ifeve.com/jsr133-cn/">JSR133中文版</a></li>
</ul>
</li>
<li id="menu-item-103" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-103"><a href="http://ifeve.com/category/talk-concurrent/">本站原创</a>
<ul class="sub-menu">
	<li id="menu-item-2763" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2763"><a href="http://ifeve.com/talk-concurrency/">聊聊并发</a></li>
	<li id="menu-item-2753" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2753"><a href="http://ifeve.com/java-memory-model-0/">深入理解Java内存模型</a></li>
	<li id="menu-item-4862" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4862"><a href="http://ifeve.com/from-javaeye-sys-struct/">从Java视角理解系统结构</a></li>
	<li id="menu-item-4627" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4627"><a href="http://ifeve.com/ali-itu-agile/">阿里内贸团队敏捷实践</a></li>
</ul>
</li>
<li id="menu-item-7119" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-7119"><a href="http://ifeve.com/category/%e5%b9%b6%e5%8f%91%e4%b9%a6%e7%b1%8d/">并发书籍</a>
<ul class="sub-menu">
	<li id="menu-item-10846" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10846"><a href="http://ifeve.com/art-of-java-concurrent-program/">《Java 并发编程的艺术》迷你书</a></li>
	<li id="menu-item-6042" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6042"><a href="http://ifeve.com/perfbook/">《深入理解并行编程》</a></li>
	<li id="menu-item-9172" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9172"><a href="http://ifeve.com/c-plus-plus-concurrency-in-action/">《C++ 并发编程》</a></li>
	<li id="menu-item-7785" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7785"><a href="http://ifeve.com/java-7-concurrency-cookbook/">《Java 7 并发编程指南》</a></li>
	<li id="menu-item-7120" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7120"><a href="http://ifeve.com/jvm-concurrency">《Java 虚拟机并发编程》</a></li>
	<li id="menu-item-12360" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12360"><a href="http://ifeve.com/getting-started-with-stom-index/">《Storm入门》中文版</a></li>
</ul>
</li>
<li id="menu-item-17079" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17079"><a href="http://ifeve.com/questions/">面试题</a></li>
<li id="menu-item-22180" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-22180"><a href="http://ifeve.com/my-favorite/">我的收藏</a></li>
<li id="menu-item-9171" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-9171"><a href="http://ifeve.com/need-you/">加入我们</a>
<ul class="sub-menu">
	<li id="menu-item-3246" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3246"><a href="http://ifeve.com/contribute/">我要投稿</a></li>
	<li id="menu-item-6854" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6854"><a href="http://ifeve.com/neitui/">内推阿里</a></li>
</ul>
</li>
<li id="menu-item-105" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-105"><a href="http://ifeve.com/about-site/">关于本站</a>
<ul class="sub-menu">
	<li id="menu-item-11306" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11306"><a href="http://ifeve.com/category/%e6%b4%bb%e5%8a%a8/">活动</a></li>
	<li id="menu-item-1487" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1487"><a href="http://ifeve.com/sitemap.html">文章归档</a></li>
	<li id="menu-item-29361" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-29361"><a href="http://ifeve.com/author/">本站作者</a></li>
	<li id="menu-item-131" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-131"><a href="http://ifeve.com/about-site/about-me/">关于清英</a></li>
	<li id="menu-item-7600" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7600"><a href="http://ifeve.com/ads/">广告合作</a></li>
</ul>
</li>
</ul>    </div>
  <!-- logo -->
  <h1 class="logo_text"><a href="http://ifeve.com/">并发编程网 - ifeve.com</a></h1>
<h2 id='site_description'>让天下没有难学的技术</h2>
 </div>

 <div id="main_content" class="clearfix">

  <div id="left_col">
      <div id="bread_crumb">
    <ul class="clearfix">
     <li id="bc_home"><a href="http://ifeve.com/" title="HOME">HOME</a></li>
     <li id="bc_cat"><a href="http://ifeve.com/category/concurrency-translation/">并发译文</a></li>     <li class="last">Java NIO系列教程（六） Selector</li>
    </ul>
   </div>
   
   
   <div class="post_wrap clearfix" id="single">
    <div class="post">
     <h3 class="title"><span>Java NIO系列教程（六） Selector</span></h3>
     <div class="post_content">
      <p><a title="原文链接" href="http://tutorials.jenkov.com/java-nio/selectors.html" target="_blank">原文链接</a> <b>作者：</b>Jakob Jenkov <b>译者：</b>浪迹v <b>校对：</b>丁一</p>
<p>Selector（选择器）是Java NIO中能够检测一到多个NIO通道，并能够知晓通道是否为诸如读写事件做好准备的组件。这样，一个单独的线程可以管理多个channel，从而管理多个网络连接。</p>
<p>下面是本文所涉及到的主题列表：</p>
<ol>
<li><a href="#Why">为什么使用Selector?</a></li>
<li><a href="#Creating">Selector的创建</a></li>
<li><a href="#Registering">向Selector注册通道</a></li>
<li><a href="#SelectionKey">SelectionKey</a></li>
<li><a href="#Selecting">通过Selector选择通道</a></li>
<li><a href="#wakeUp">wakeUp()</a></li>
<li><a href="#close">close()</a></li>
<li><a href="#Full">完整的示例</a></li>
</ol>
<p><span id="more-5396"></span></p>
<h3 id="Why">为什么使用Selector?</h3>
<p>仅用单个线程来处理多个Channels的好处是，只需要更少的线程来处理通道。事实上，可以只用一个线程处理所有的通道。对于操作系统来说，线程之间上下文切换的开销很大，而且每个线程都要占用系统的一些资源（如内存）。因此，使用的线程越少越好。</p>
<p>但是，需要记住，现代的操作系统和CPU在多任务方面表现的越来越好，所以多线程的开销随着时间的推移，变得越来越小了。实际上，如果一个CPU有多个内核，不使用多任务可能是在浪费CPU能力。不管怎么说，关于那种设计的讨论应该放在另一篇不同的文章中。在这里，只要知道使用Selector能够处理多个通道就足够了。</p>
<p>下面是单线程使用一个Selector处理3个channel的示例图：</p>
<p><!--image--></p>
<h3 id="Creating">Selector的创建</h3>
<p>通过调用Selector.open()方法创建一个Selector，如下：</p>
<pre class="brush: java; title: ; notranslate" title="">
Selector selector = Selector.open();
</pre>
<h3 id="Registering">向Selector注册通道</h3>
<p>为了将Channel和Selector配合使用，必须将channel注册到selector上。通过SelectableChannel.register()方法来实现，如下：</p>
<pre class="brush: java; title: ; notranslate" title="">
channel.configureBlocking(false);
SelectionKey key = channel.register(selector,
	Selectionkey.OP_READ);
</pre>
<p>与Selector一起使用时，Channel必须处于非阻塞模式下。这意味着不能将FileChannel与Selector一起使用，因为FileChannel不能切换到非阻塞模式。而套接字通道都可以。</p>
<p>注意register()方法的第二个参数。这是一个“interest集合”，意思是在通过Selector监听Channel时对什么事件感兴趣。可以监听四种不同类型的事件：</p>
<ol>
<li>Connect</li>
<li>Accept</li>
<li>Read</li>
<li>Write</li>
</ol>
<p>通道触发了一个事件意思是该事件已经就绪。所以，某个channel成功连接到另一个服务器称为“连接就绪”。一个server socket channel准备好接收新进入的连接称为“接收就绪”。一个有数据可读的通道可以说是“读就绪”。等待写数据的通道可以说是“写就绪”。</p>
<p>这四种事件用SelectionKey的四个常量来表示：</p>
<ol>
<li>SelectionKey.OP_CONNECT</li>
<li>SelectionKey.OP_ACCEPT</li>
<li>SelectionKey.OP_READ</li>
<li>SelectionKey.OP_WRITE</li>
</ol>
<p>如果你对不止一种事件感兴趣，那么可以用“位或”操作符将常量连接起来，如下：</p>
<pre class="brush: java; title: ; notranslate" title="">
int interestSet = SelectionKey.OP_READ | SelectionKey.OP_WRITE;
</pre>
<p>在下面还会继续提到interest集合。</p>
<h3 id="SelectionKey">SelectionKey</h3>
<p>在上一小节中，当向Selector注册Channel时，register()方法会返回一个SelectionKey对象。这个对象包含了一些你感兴趣的属性：</p>
<ul>
<li>interest集合</li>
<li>ready集合</li>
<li>Channel</li>
<li>Selector</li>
<li>附加的对象（可选）</li>
</ul>
<p>下面我会描述这些属性。</p>
<h4 id="interest">interest集合</h4>
<p>就像<a href="#Registering">向Selector注册通道</a>一节中所描述的，interest集合是你所选择的感兴趣的事件集合。可以通过SelectionKey读写interest集合，像这样：</p>
<pre class="brush: java; title: ; notranslate" title="">
int interestSet = selectionKey.interestOps();

boolean isInterestedInAccept  = (interestSet &amp; SelectionKey.OP_ACCEPT) == SelectionKey.OP_ACCEPT；
boolean isInterestedInConnect = interestSet &amp; SelectionKey.OP_CONNECT;
boolean isInterestedInRead    = interestSet &amp; SelectionKey.OP_READ;
boolean isInterestedInWrite   = interestSet &amp; SelectionKey.OP_WRITE;
</pre>
<p>可以看到，用“位与”操作interest 集合和给定的SelectionKey常量，可以确定某个确定的事件是否在interest 集合中。</p>
<h4 id="ready">ready集合</h4>
<p>ready 集合是通道已经准备就绪的操作的集合。在一次选择(Selection)之后，你会首先访问这个ready set。Selection将在下一小节进行解释。可以这样访问ready集合：</p>
<pre class="brush: java; title: ; notranslate" title="">
int readySet = selectionKey.readyOps();
</pre>
<p>可以用像检测interest集合那样的方法，来检测channel中什么事件或操作已经就绪。但是，也可以使用以下四个方法，它们都会返回一个布尔类型：</p>
<pre class="brush: java; title: ; notranslate" title="">
selectionKey.isAcceptable();
selectionKey.isConnectable();
selectionKey.isReadable();
selectionKey.isWritable();
</pre>
<h4 id="channel-and-selector">Channel + Selector</h4>
<p>从SelectionKey访问Channel和Selector很简单。如下：</p>
<pre class="brush: java; title: ; notranslate" title="">
Channel  channel  = selectionKey.channel();
Selector selector = selectionKey.selector();
</pre>
<h4 id="attach-object">附加的对象</h4>
<p>可以将一个对象或者更多信息附着到SelectionKey上，这样就能方便的识别某个给定的通道。例如，可以附加 与通道一起使用的Buffer，或是包含聚集数据的某个对象。使用方法如下：</p>
<pre class="brush: java; title: ; notranslate" title="">
selectionKey.attach(theObject);
Object attachedObj = selectionKey.attachment();
</pre>
<p>还可以在用register()方法向Selector注册Channel的时候附加对象。如：</p>
<pre class="brush: java; title: ; notranslate" title="">
SelectionKey key = channel.register(selector, SelectionKey.OP_READ, theObject);
</pre>
<h3>通过Selector选择通道</h3>
<p>一旦向Selector注册了一或多个通道，就可以调用几个重载的select()方法。这些方法返回你所感兴趣的事件（如连接、接受、读或写）已经准备就绪的那些通道。换句话说，如果你对“读就绪”的通道感兴趣，select()方法会返回读事件已经就绪的那些通道。</p>
<p>下面是select()方法：</p>
<ul>
<li>int select()</li>
<li>int select(long timeout)</li>
<li>int selectNow()</li>
</ul>
<p><code>select()</code>阻塞到至少有一个通道在你注册的事件上就绪了。</p>
<p><code>select(long timeout)</code>和select()一样，除了最长会阻塞timeout毫秒(参数)。</p>
<p><code>selectNow()</code>不会阻塞，不管什么通道就绪都立刻返回（<i>译者注：此方法执行非阻塞的选择操作。如果自从前一次选择操作后，没有通道变成可选择的，则此方法直接返回零。</i>）。</p>
<p>select()方法返回的int值表示有多少通道已经就绪。亦即，自上次调用select()方法后有多少通道变成就绪状态。如果调用select()方法，因为有一个通道变成就绪状态，返回了1，若再次调用select()方法，如果另一个通道就绪了，它会再次返回1。如果对第一个就绪的channel没有做任何操作，现在就有两个就绪的通道，但在每次select()方法调用之间，只有一个通道就绪了。</p>
<h4 id="selectedkeys">selectedKeys()</h4>
<p>一旦调用了select()方法，并且返回值表明有一个或更多个通道就绪了，然后可以通过调用selector的selectedKeys()方法，访问“已选择键集（selected key set）”中的就绪通道。如下所示：</p>
<pre class="brush: java; title: ; notranslate" title="">
Set selectedKeys = selector.selectedKeys();
</pre>
<p>当像Selector注册Channel时，Channel.register()方法会返回一个SelectionKey 对象。这个对象代表了注册到该Selector的通道。可以通过SelectionKey的selectedKeySet()方法访问这些对象。</p>
<p>可以遍历这个已选择的键集合来访问就绪的通道。如下：</p>
<pre class="brush: java; title: ; notranslate" title="">
Set selectedKeys = selector.selectedKeys();
Iterator keyIterator = selectedKeys.iterator();
while(keyIterator.hasNext()) {
    SelectionKey key = keyIterator.next();
    if(key.isAcceptable()) {
        // a connection was accepted by a ServerSocketChannel.
    } else if (key.isConnectable()) {
        // a connection was established with a remote server.
    } else if (key.isReadable()) {
        // a channel is ready for reading
    } else if (key.isWritable()) {
        // a channel is ready for writing
    }
    keyIterator.remove();
}
</pre>
<p>这个循环遍历已选择键集中的每个键，并检测各个键所对应的通道的就绪事件。</p>
<p>注意每次迭代末尾的keyIterator.remove()调用。Selector不会自己从已选择键集中移除SelectionKey实例。必须在处理完通道时自己移除。下次该通道变成就绪时，Selector会再次将其放入已选择键集中。</p>
<p>SelectionKey.channel()方法返回的通道需要转型成你要处理的类型，如ServerSocketChannel或SocketChannel等。</p>
<h3 id="wakeUp">wakeUp()</h3>
<p>某个线程调用select()方法后阻塞了，即使没有通道已经就绪，也有办法让其从select()方法返回。只要让其它线程在第一个线程调用select()方法的那个对象上调用Selector.wakeup()方法即可。阻塞在select()方法上的线程会立马返回。</p>
<p>如果有其它线程调用了wakeup()方法，但当前没有线程阻塞在select()方法上，下个调用select()方法的线程会立即“醒来（wake up）”。</p>
<h3 id="close">close()</h3>
<p>用完Selector后调用其close()方法会关闭该Selector，且使注册到该Selector上的所有SelectionKey实例无效。通道本身并不会关闭。</p>
<h3 id="Full">完整的示例</h3>
<p>这里有一个完整的示例，打开一个Selector，注册一个通道注册到这个Selector上(通道的初始化过程略去),然后持续监控这个Selector的四种事件（接受，连接，读，写）是否就绪。</p>
<pre class="brush: java; title: ; notranslate" title="">
Selector selector = Selector.open();
channel.configureBlocking(false);
SelectionKey key = channel.register(selector, SelectionKey.OP_READ);
while(true) {
  int readyChannels = selector.select();
  if(readyChannels == 0) continue;
  Set selectedKeys = selector.selectedKeys();
  Iterator keyIterator = selectedKeys.iterator();
  while(keyIterator.hasNext()) {
    SelectionKey key = keyIterator.next();
    if(key.isAcceptable()) {
        // a connection was accepted by a ServerSocketChannel.
    } else if (key.isConnectable()) {
        // a connection was established with a remote server.
    } else if (key.isReadable()) {
        // a channel is ready for reading
    } else if (key.isWritable()) {
        // a channel is ready for writing
    }
    keyIterator.remove();
  }
}
</pre>
<div style="margin-top: 15px; font-style: italic">
<p><strong>原创文章，转载请注明：</strong> 转载自<a href="http://ifeve.com/">并发编程网 &#8211; ifeve.com</a><strong>本文链接地址:</strong> <a href="http://ifeve.com/selectors/">Java NIO系列教程（六） Selector</a></p>
<p><img align="center" src="http://ifeve.com/wp-content/uploads/2018/02/0-2.jpeg"></img>
</div>

                         <div class="abh_box abh_box_down abh_box_"><ul class="abh_tabs"> <li class="abh_about abh_active"><a href="#abh_about">About</a></li> <li class="abh_posts"><a href="#abh_posts">Latest Posts</a></li></ul><div class="abh_tab_content"><section class="vcard abh_about_tab abh_tab" style="display:block"><div class="abh_image"><a href="http://weibo.com/1716827860" class="url" target="_blank" title="浪迹v"><img alt='' src='http://0.gravatar.com/avatar/04050b4c6ffd91d07ea4507f17dbd595?s=80&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/04050b4c6ffd91d07ea4507f17dbd595?s=160&#038;d=mm&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' /></a></div><div class="abh_social"> </div><div class="abh_text"><h3 class="fn name" ><a href="http://weibo.com/1716827860" class="url" target="_blank">浪迹v</a></h3><div class="abh_job" ></div><div class="description note abh_description" >Java程序猿一枚，爱Dota，爱编程。</div></div> </section><section class="abh_posts_tab abh_tab" ><div class="abh_image"><a href="http://weibo.com/1716827860" class="url" target="_blank" title="浪迹v"><img alt='' src='http://0.gravatar.com/avatar/04050b4c6ffd91d07ea4507f17dbd595?s=80&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/04050b4c6ffd91d07ea4507f17dbd595?s=160&#038;d=mm&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' /></a></div><div class="abh_social"> </div><div class="abh_text"><h4 >Latest posts by 浪迹v <span class="abh_allposts">(<a href="http://ifeve.com/author/浪迹v/">see all</a>)</span></h4><div class="abh_description note" ><ul>				<li>					<a href="http://ifeve.com/selectors/">Java NIO系列教程（六） Selector</a><span> - 2013年6月9日</span>				</li></ul></div></div> </section></div> </div><span class='wpfp-span'><img src='http://ifeve.com/wp-content/plugins/wp-favorite-posts/img/star.png' alt='Favorite' title='Favorite' class='wpfp-img' /><img src='http://ifeve.com/wp-content/plugins/wp-favorite-posts/img/loading.gif' alt='Loading' title='Loading' class='wpfp-hide wpfp-img' /><a class='wpfp-link' href='?wpfpaction=add&amp;postid=5396' title='添加本文到我的收藏' rel='nofollow'>添加本文到我的收藏</a></span><div class='yarpp-related'>
<h3>Related posts:</h3><ol>
<li><a href="http://ifeve.com/datagram-channel/" rel="bookmark" title="Java NIO系列教程（十） Java NIO DatagramChannel">Java NIO系列教程（十） Java NIO DatagramChannel </a></li>
<li><a href="http://ifeve.com/server-socket-channel/" rel="bookmark" title="Java NIO系列教程（九） ServerSocketChannel">Java NIO系列教程（九） ServerSocketChannel </a></li>
<li><a href="http://ifeve.com/file-channel/" rel="bookmark" title="Java NIO系列教程（七） FileChannel">Java NIO系列教程（七） FileChannel </a></li>
<li><a href="http://ifeve.com/overview/" rel="bookmark" title="Java NIO系列教程（一） Java NIO 概述">Java NIO系列教程（一） Java NIO 概述 </a></li>
<li><a href="http://ifeve.com/socket-channel/" rel="bookmark" title="Java NIO系列教程（八） SocketChannel">Java NIO系列教程（八） SocketChannel </a></li>
<li><a href="http://ifeve.com/channels/" rel="bookmark" title="Java NIO系列教程（二） Channel">Java NIO系列教程（二） Channel </a></li>
<li><a href="http://ifeve.com/pipe/" rel="bookmark" title="Java NIO系列教程（十一） Pipe">Java NIO系列教程（十一） Pipe </a></li>
<li><a href="http://ifeve.com/java-nio-scattergather/" rel="bookmark" title="Java NIO系列教程（四） Scatter/Gather">Java NIO系列教程（四） Scatter/Gather </a></li>
<li><a href="http://ifeve.com/buffers/" rel="bookmark" title="Java NIO系列教程（三） Buffer">Java NIO系列教程（三） Buffer </a></li>
<li><a href="http://ifeve.com/java-nio-vs-io/" rel="bookmark" title="Java NIO系列教程（十二） Java NIO与IO">Java NIO系列教程（十二） Java NIO与IO </a></li>
<li><a href="http://ifeve.com/netty-2-3-4/" rel="bookmark" title="《Netty 权威指南》—— NIO客户端序列图">《Netty 权威指南》—— NIO客户端序列图 </a></li>
<li><a href="http://ifeve.com/java-nio-channel-to-channel/" rel="bookmark" title="Java NIO系列教程（五） 通道之间的数据传输">Java NIO系列教程（五） 通道之间的数据传输 </a></li>
<li><a href="http://ifeve.com/netty-2-3-2/" rel="bookmark" title="《Netty 权威指南》—— 服务端序列图">《Netty 权威指南》—— 服务端序列图 </a></li>
<li><a href="http://ifeve.com/netty-2-3-3/" rel="bookmark" title="《Netty 权威指南》—— NIO创建的TimeServer源码分析">《Netty 权威指南》—— NIO创建的TimeServer源码分析 </a></li>
<li><a href="http://ifeve.com/netty-2-3-5/" rel="bookmark" title="《Netty 权威指南》—— NIO创建的TimeClient源码分析">《Netty 权威指南》—— NIO创建的TimeClient源码分析 </a></li>
</ol>
</div>
           </div><!-- END .post_content -->
    </div>
    <div class="meta">
          <ul>
      <li class="post_date clearfix">
       <span class="date">09</span>
       <span class="month">Jun</span>
       <span class="year">2013</span>
      </li>
      
<li class="post_comment">
198,515 人阅读</li>

      <li class="post_author"><a href="http://ifeve.com/author/浪迹v/" title="Posts by 浪迹v" rel="author">浪迹v</a></li>      <li class="post_category"><a href="http://ifeve.com/category/concurrency-translation/" rel="category tag">并发译文</a></li>       <li class="post_category"><div id="post-ratings-5396" class="post-ratings" itemscope itemtype="http://schema.org/Article" data-nonce="07948d935a"><img id="rating_5396_1" src="http://ifeve.com/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="好烂啊" title="好烂啊" onmouseover="current_rating(5396, 1, '好烂啊');" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;" /><img id="rating_5396_2" src="http://ifeve.com/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="没价值" title="没价值" onmouseover="current_rating(5396, 2, '没价值');" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;" /><img id="rating_5396_3" src="http://ifeve.com/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="凑合看看" title="凑合看看" onmouseover="current_rating(5396, 3, '凑合看看');" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;" /><img id="rating_5396_4" src="http://ifeve.com/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="还不错" title="还不错" onmouseover="current_rating(5396, 4, '还不错');" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;" /><img id="rating_5396_5" src="http://ifeve.com/wp-content/plugins/wp-postratings/images/stars_crystal/rating_half.gif" alt="超赞" title="超赞" onmouseover="current_rating(5396, 5, '超赞');" onmouseout="ratings_off(4.5, 5, 0);" onclick="rate_post();" onkeypress="rate_post();" style="cursor: pointer; border: 0px;" /> (<strong>62</strong> votes, average: <strong>4.48</strong> out of 5)<br /><span class="post-ratings-text" id="ratings_5396_text"></span><meta itemprop="headline" content="Java NIO系列教程（六） Selector" /><meta itemprop="description" content="原文链接 作者：Jakob Jenkov 译者：浪迹v 校对：丁一

Selector（选择器）是Java NIO中能够检测一到多个NIO通道，并能够知晓通道是否为诸如读写事件做好准备的组件。这样，一个单独的线程可以管理多个channel，从而管理多个网络连接。

下面是本文所涉及到的主题列表：

	为什么使用Selector?
	Selector的创建
	向Selector注册通..." /><meta itemprop="datePublished" content="2013-06-09T22:04:34+00:00" /><meta itemprop="dateModified" content="2013-12-04T11:00:15+00:00" /><meta itemprop="url" content="http://ifeve.com/selectors/" /><meta itemprop="author" content="浪迹v" /><meta itemprop="mainEntityOfPage" content="http://ifeve.com/selectors/" /><div style="display: none;" itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="并发编程网 - ifeve.com" /><div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="" /></div></div><div style="display: none;" itemprop="aggregateRating" itemscope itemtype="http://schema.org/AggregateRating"><meta itemprop="bestRating" content="5" /><meta itemprop="worstRating" content="1" /><meta itemprop="ratingValue" content="4.48" /><meta itemprop="ratingCount" content="62" /></div></div><div id="post-ratings-5396-loading" class="post-ratings-loading">
            <img src="http://ifeve.com/wp-content/plugins/wp-postratings/images/loading.gif" width="16" height="16" class="post-ratings-image" />Loading...</div></li>       <li class="post_comment"><a href="http://ifeve.com/selectors/#comments">32 comments</a></li>           </ul>
         </div>
   </div><!-- END .post_wrap -->

   
      <div id="comments_wrapper">
    




<div id="comment_header" class="clearfix">

 <ul id="comment_header_left">
  <li id="add_comment"><a href="#respond">Write comment</a></li>
  <li id="comment_feed"><a href="http://ifeve.com/comments/feed/" title="Comments RSS">Comments RSS</a></li>
 </ul>

 <ul id="comment_header_right">
   <li id="trackback_closed">Trackback are closed</li>
   <li id="comment_closed">Comments (32)</li>
 </ul>


</div><!-- END #comment_header -->

<div id="comments">

 <div id="comment_area">
  <!-- start commnet -->
  <ol class="commentlist">
	
 <li class="comment guest-comment" id="comment-1357">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/a0fb4010859c17d11e67f0a63efcbedc?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/a0fb4010859c17d11e67f0a63efcbedc?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<a id="commentauthor-1357" class="url guest-url" href="http://teasp.iteye.com/" rel="external nofollow">

teasp
</a>
     </li>
     <li class="comment-date">06/10. 2013 4:00pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-1357', 'comment-1357', 'comment-content-1357', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-1357">
    <p>里面的代码有错误，一个通道可以同时关注几个事件，因此一个key给出的就绪事件可能会是好几个，所以判断就绪事件的时候不能用if else。</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-1406">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo avatar-default' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-1406">

宅男小何
</span>
     </li>
     <li class="comment-date">06/20. 2013 11:47am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-1406', 'comment-1406', 'comment-content-1406', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-1406">
    <p>这个是每个key一个事件的，如果多个就有多个key的</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-1454">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo avatar-default' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<a id="commentauthor-1454" class="url guest-url" href="http://teasp.iteye.com/" rel="external nofollow">

teasp
</a>
     </li>
     <li class="comment-date">06/26. 2013 5:57pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-1454', 'comment-1454', 'comment-content-1454', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-1454">
    <p>你根据什么得知每个key一个事件？</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-27976">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/cccd415bac7e0f1a5b40ddc74ad9770d?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/cccd415bac7e0f1a5b40ddc74ad9770d?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27976">

lcsyb
</span>
     </li>
     <li class="comment-date">10/07. 2017 11:53am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-27976', 'comment-27976', 'comment-content-27976', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27976">
    <p>注册的时候一个channel注册了一个事件</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-28203">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://2.gravatar.com/avatar/590cdca71f1ad47c241a3f70c7033a2e?s=35&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/590cdca71f1ad47c241a3f70c7033a2e?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-28203">

wangsh
</span>
     </li>
     <li class="comment-date">03/26. 2018 4:39pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-28203', 'comment-28203', 'comment-content-28203', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-28203">
    <p>事件类型使用二进制表示的，一个二进制的事件值可以用来表示多个事件，作者已经不想和你解释了<br />
也可以参考本文关键字&#8221;interest集合&#8221;</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-1438">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/797d37087295aebcd2b06ffc0585417d?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/797d37087295aebcd2b06ffc0585417d?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-1438">

zjb
</span>
     </li>
     <li class="comment-date">06/25. 2013 6:11pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-1438', 'comment-1438', 'comment-content-1438', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-1438">
    <blockquote cite="#comment-content-1357"><p>
<a href="#comment-1357" rel="nofollow">teasp</a> :<br />
    里面的代码有错误，一个通道可以同时关注几个事件，因此一个key给出的就绪事件可能会是好几个，所以判断就绪事件的时候不能用if else。
  </p></blockquote>
<p>这位同学说得对,应该不能用if else if</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-1846">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/9ac0e770646fb96a24f2c27fe9641a40?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9ac0e770646fb96a24f2c27fe9641a40?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-1846">

微凉
</span>
     </li>
     <li class="comment-date">07/22. 2013 11:02pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-1846', 'comment-1846', 'comment-content-1846', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-1846">
    <p>给channel注册时间时，可以用“位或”操作注册多个感兴趣事件&#8230;</p>
<p>但一般运用场景中会出现同一个channel 注册多个（Acceptable Connectable  Readable Writable），多个同时好吗？<br />
感觉if else 写法一般用起来也不会有错。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-2262">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo avatar-default' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-2262">

Anonymous
</span>
     </li>
     <li class="comment-date">09/05. 2013 3:06pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2262', 'comment-2262', 'comment-content-2262', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-2262">
    <p>比较简略 不明觉厉</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-2878">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/6236806a4f8a140b2214173dfd53828a?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/6236806a4f8a140b2214173dfd53828a?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-2878">

yjk99@qq.com
</span>
     </li>
     <li class="comment-date">09/22. 2013 11:46am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2878', 'comment-2878', 'comment-content-2878', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-2878">
    <p>第一点的图怎么木有看到</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-3273">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://2.gravatar.com/avatar/?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo avatar-default' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-3273">

Anonymous
</span>
     </li>
     <li class="comment-date">10/17. 2013 12:27pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-3273', 'comment-3273', 'comment-content-3273', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-3273">
    <p>boolean isInterestedInAccept  = interestSet &amp; SelectionKey.OP_ACCEPT;<br />
位与之后应该是个int值，不能直接赋值给boolean啊</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-4412">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://2.gravatar.com/avatar/?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo avatar-default' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-4412">

Anonymous
</span>
     </li>
     <li class="comment-date">11/28. 2013 2:06pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-4412', 'comment-4412', 'comment-content-4412', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-4412">
    <p>的确语法错误</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-4413">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://2.gravatar.com/avatar/?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo avatar-default' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-4413">

浪迹
</span>
     </li>
     <li class="comment-date">11/28. 2013 2:08pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-4413', 'comment-4413', 'comment-content-4413', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-4413">
    <p>是的，这里有错误。<br />
应该可以改成这样<br />
boolean isInterestedInAccept = interestSet &amp; SelectionKey.OP_ACCEPT == SelectionKey.OP_ACCEPT；</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-4472">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/a21e2b8f4893347e62eeca7597f04ebc?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/a21e2b8f4893347e62eeca7597f04ebc?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<a id="commentauthor-4472" class="url guest-url" href="http://weibo.com/kirals" rel="external nofollow">

方 腾飞
</a>
     </li>
     <li class="comment-date">12/04. 2013 11:00am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-4472', 'comment-4472', 'comment-content-4472', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-4472">
    <p>已修改，多谢两位。</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-9483">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://2.gravatar.com/avatar/?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo avatar-default' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-9483">

kyle
</span>
     </li>
     <li class="comment-date">04/08. 2014 5:56pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-9483', 'comment-9483', 'comment-content-9483', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-9483">
    <p>boolean isInterestedInConnect = interestSet &amp; SelectionKey.OP_CONNECT;<br />
5<br />
boolean isInterestedInRead    = interestSet &amp; SelectionKey.OP_READ;<br />
6<br />
boolean isInterestedInWrite   = interestSet &amp; SelectionKey.OP_WRITE;</p>
<p>这些都要改吧</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-5313">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/a1d4a4e91deb0f5d0d4eb51c3d51d689?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/a1d4a4e91deb0f5d0d4eb51c3d51d689?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<a id="commentauthor-5313" class="url guest-url" href="http://www.molotang.com/" rel="external nofollow">

三石
</a>
     </li>
     <li class="comment-date">01/20. 2014 10:35pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-5313', 'comment-5313', 'comment-content-5313', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-5313">
    <p>这里也整理了一篇Selector和IO复用相关的文章，大家可以来看下<br />
<a href="http://www.molotang.com/articles/906.html" rel="nofollow">http://www.molotang.com/articles/906.html</a></p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-18559">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo avatar-default' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-18559">

Anonymous
</span>
     </li>
     <li class="comment-date">04/29. 2014 5:26pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-18559', 'comment-18559', 'comment-content-18559', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-18559">
    <p>可以通过SelectionKey的selectedKeySet()方法访问这些对象。</p>
<p>这个应该是原文作者的笔误吧? 是不是应该是&#8221;可以通过Selector的selectedKeys()方法访问这些对象&#8221;.</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-22337">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/04e5abad7943779399a6c1787847f86b?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/04e5abad7943779399a6c1787847f86b?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-22337">

wausd
</span>
     </li>
     <li class="comment-date">07/14. 2014 10:41am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-22337', 'comment-22337', 'comment-content-22337', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-22337">
    <p>编译不过的代码你也好意思发</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-25532">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/f1dcc697f858e55ec01cd94cee0ddfbb?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/f1dcc697f858e55ec01cd94cee0ddfbb?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-25532">

Anonymous
</span>
     </li>
     <li class="comment-date">10/08. 2014 6:23pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-25532', 'comment-25532', 'comment-content-25532', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-25532">
    <p>请问一个key可以同时key.isReadable()和key.isWritable()都是true吗？如果可以的话在什么情况下会，如果不会那么原因又是什么？</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-25600">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/007870b95045b453ba7055dc41c37f18?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/007870b95045b453ba7055dc41c37f18?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-25600">

zhaoyan8783
</span>
     </li>
     <li class="comment-date">10/11. 2014 2:56pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-25600', 'comment-25600', 'comment-content-25600', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-25600">
    <p>这一集没有前几集好看。。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-25603">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/007870b95045b453ba7055dc41c37f18?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/007870b95045b453ba7055dc41c37f18?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-25603">

zhaoyan8783
</span>
     </li>
     <li class="comment-date">10/11. 2014 3:33pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-25603', 'comment-25603', 'comment-content-25603', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-25603">
    <blockquote cite="#comment-content-9483"><p>
<a href="#comment-9483" rel="nofollow">kyle</a> :<br />
    boolean isInterestedInConnect = interestSet &amp; SelectionKey.OP_CONNECT;<br />
5<br />
boolean isInterestedInRead    = interestSet &amp; SelectionKey.OP_READ;<br />
6<br />
boolean isInterestedInWrite   = interestSet &amp; SelectionKey.OP_WRITE;<br />
这些都要改吧
  </p></blockquote>
<p>其实不是译者的错，作者就写错了。。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-26097">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/c7fd2a1ba1d1b94838075a5e2471e8f3?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/c7fd2a1ba1d1b94838075a5e2471e8f3?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26097">

530827804
</span>
     </li>
     <li class="comment-date">03/13. 2015 4:28pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-26097', 'comment-26097', 'comment-content-26097', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26097">
    <p>int readyChannels = selector.select();<br />
if(readyChannels == 0) continue;</p>
<p>这两句换成selector.select();<br />
既然select()方法会阻塞到至少有一个通道就绪，就没必要其他的了</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-26173">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/78b50c47e4beffa6d27133e3e2b1add6?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/78b50c47e4beffa6d27133e3e2b1add6?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26173">

qiuzj
</span>
     </li>
     <li class="comment-date">05/10. 2015 11:20pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-26173', 'comment-26173', 'comment-content-26173', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26173">
    <p>应该是防止：<br />
selector.wakeup()</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-26106">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/d22cd8c5a5ec5491b349059369f21818?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/d22cd8c5a5ec5491b349059369f21818?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26106">

cafebabe
</span>
     </li>
     <li class="comment-date">03/19. 2015 5:18pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-26106', 'comment-26106', 'comment-content-26106', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26106">
    <p>这一节写的有点模糊不清啊！</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-26174">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/78b50c47e4beffa6d27133e3e2b1add6?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/78b50c47e4beffa6d27133e3e2b1add6?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26174">

qiuzj
</span>
     </li>
     <li class="comment-date">05/10. 2015 11:22pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-26174', 'comment-26174', 'comment-content-26174', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26174">
    <p>可以结合看看这个，比较好理解，有个完整的示例：<br />
<a href="http://www.ibm.com/developerworks/cn/education/java/j-nio/j-nio.html" rel="nofollow">http://www.ibm.com/developerworks/cn/education/java/j-nio/j-nio.html</a></p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-26852">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/18df52b6f26607ce86b4e99b2a8f32c7?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/18df52b6f26607ce86b4e99b2a8f32c7?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26852">

highstar
</span>
     </li>
     <li class="comment-date">04/20. 2016 11:39pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-26852', 'comment-26852', 'comment-content-26852', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26852">
    <p>感谢翻译，但不得不说讲的很烂，。。</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-26864">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://2.gravatar.com/avatar/edab7524d9cc08cd3a7127fbe02f3109?s=35&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/edab7524d9cc08cd3a7127fbe02f3109?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26864">

hl174
</span>
     </li>
     <li class="comment-date">04/24. 2016 7:45pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-26864', 'comment-26864', 'comment-content-26864', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26864">
    <p>感觉好多东西不连贯，问题也有一些， 初学者看着好累，要是在翻译的时候顺便加上一些补充有好</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-26991">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/fc778819cd2fba29741c6f48e2d51393?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/fc778819cd2fba29741c6f48e2d51393?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-26991">

智公
</span>
     </li>
     <li class="comment-date">06/23. 2016 10:11am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-26991', 'comment-26991', 'comment-content-26991', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-26991">
    <p>确实这章是没有之前容易明白，初学容易昏</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-27152">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/d6d5861e00e560afcdafaf95d484689b?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/d6d5861e00e560afcdafaf95d484689b?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27152">

xialeizhou
</span>
     </li>
     <li class="comment-date">09/26. 2016 8:44am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-27152', 'comment-27152', 'comment-content-27152', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27152">
    <p>几处错误：<br />
boolean isInterestedInConnect = interestSet &amp; SelectionKey.OP_CONNECT;<br />
boolean isInterestedInRead    = interestSet &amp; SelectionKey.OP_READ;<br />
boolean isInterestedInWrite   = interestSet &amp; SelectionKey.OP_WRITE;</p>
<p>应该修改成：<br />
boolean isInterestedInConnect = （interestSet &amp; SelectionKey.OP_CONNECT） ==  SelectionKey.OP_CONNECT;<br />
boolean isInterestedInRead    = （interestSet &amp; SelectionKey.OP_READ） ==  SelectionKey.OP_READ;<br />
boolean isInterestedInWrite   = （interestSet &amp; SelectionKey.OP_WRITE） == SelectionKey.OP_WRITE;</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-27153">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/d6d5861e00e560afcdafaf95d484689b?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/d6d5861e00e560afcdafaf95d484689b?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27153">

xialeizhou
</span>
     </li>
     <li class="comment-date">09/26. 2016 8:51am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-27153', 'comment-27153', 'comment-content-27153', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27153">
    <p>一处遗漏： 应添加channel定义，否则新手会有疑惑。</p>
<p>int port = 9999; //  the port to listen</p>
<p>ServerSocketChannel channel = ServerSocketChannel.open(); // here we create a ServerSocketChannel<br />
channel.configureBlocking(false); // set channel to non-blocking mode, becareful, FileChannel can not be set to non-blocking mode!</p>
<p>channel.socket().bind(new InetSocketAddress(port)); // bind address on port<br />
Selector selector = Selector.open(); // create a selector<br />
SelectionKey selKey = channel.register(selector, SelectionKey.OP_ACCEPT); // regist selector upon channel for interest `accept` event</p>
<p>int interestSet = selKey.interestOps(); // get interest set</p>
<p>boolean is_accept = (interestSet &amp; SelectionKey.OP_ACCEPT) == SelectionKey.OP_ACCEPT;</p>
<p>System.out.print(&#8220;isAccept:&#8221;+ is_accept); // check if is_accept opt is registered</p>
  </div>

</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-27154">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/d6d5861e00e560afcdafaf95d484689b?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/d6d5861e00e560afcdafaf95d484689b?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27154">

xialeizhou
</span>
     </li>
     <li class="comment-date">09/26. 2016 8:58am</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-27154', 'comment-27154', 'comment-content-27154', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27154">
    <p>to beginner, 给出一个Selector应用的完整示例，供学习：</p>
<p>package com.alibaba.soqas.nio;// </p>
<p>import java.io.IOException;<br />
import java.net.InetSocketAddress;<br />
import java.net.ServerSocket;<br />
import java.nio.ByteBuffer;<br />
import java.nio.channels.SelectionKey;<br />
import java.nio.channels.Selector;<br />
import java.nio.channels.ServerSocketChannel;<br />
import java.nio.channels.SocketChannel;<br />
import java.util.Iterator;<br />
import java.util.Set;</p>
<p>public class MultiPortEcho {</p>
<p>	private int ports[];<br />
	private ByteBuffer echoBuffer = ByteBuffer.allocate(1024);</p>
<p>	public MultiPortEcho(int ports[]) throws IOException {<br />
		this.ports = ports;</p>
<p>		go();<br />
	}</p>
<p>	static public void main(String args[]) throws Exception {<br />
		if (args.length &lt;= 0) {<br />
			System.err.println(&quot;Usage: java MultiPortEcho port [port port &#8230;]&quot;);<br />
			System.exit(1);<br />
		}</p>
<p>		int ports[] = new int[args.length];</p>
<p>		for (int i = 0; i &lt; args.length; ++i) {<br />
			ports[i] = Integer.parseInt(args[i]);<br />
		}</p>
<p>		new MultiPortEcho(ports);<br />
	}</p>
<p>	private void go() throws IOException {<br />
		// Create a new selector<br />
		Selector selector = Selector.open();</p>
<p>		// Open a listener on each port, and register each one<br />
		// with the selector<br />
		for (int i = 0; i &lt; ports.length; ++i) {<br />
			ServerSocketChannel ssc = ServerSocketChannel.open();<br />
			ssc.configureBlocking(false);<br />
			ServerSocket ss = ssc.socket();<br />
			InetSocketAddress address = new InetSocketAddress(ports[i]);<br />
			ss.bind(address);</p>
<p>			SelectionKey key = ssc.register(selector, SelectionKey.OP_ACCEPT);</p>
<p>			System.out.println(&quot;Going to listen on &quot; + ports[i]);<br />
		}</p>
<p>		while (true) {<br />
			int num = selector.select();</p>
<p>			Set selectedKeys = selector.selectedKeys();<br />
			Iterator it = selectedKeys.iterator();</p>
<p>			while (it.hasNext()) {<br />
				SelectionKey key = (SelectionKey) it.next();</p>
<p>				if ((key.readyOps() &amp; SelectionKey.OP_ACCEPT)<br />
				    == SelectionKey.OP_ACCEPT) {<br />
					// Accept the new connection<br />
					ServerSocketChannel ssc = (ServerSocketChannel) key.channel();<br />
					SocketChannel sc = ssc.accept();<br />
					sc.configureBlocking(false);</p>
<p>					// Add the new connection to the selector<br />
					SelectionKey newKey = sc.register(selector, SelectionKey.OP_READ);<br />
					it.remove();</p>
<p>					System.out.println(&quot;Got connection from &quot; + sc);<br />
				} else if ((key.readyOps() &amp; SelectionKey.OP_READ)<br />
				           == SelectionKey.OP_READ) {<br />
					// Read the data<br />
					SocketChannel sc = (SocketChannel) key.channel();</p>
<p>					// Echo data<br />
					int bytesEchoed = 0;<br />
					while (true) {<br />
						echoBuffer.clear();</p>
<p>						int r = sc.read(echoBuffer);</p>
<p>						if (r &lt;= 0) {<br />
							break;<br />
						}</p>
<p>						echoBuffer.flip();</p>
<p>						sc.write(echoBuffer);<br />
						bytesEchoed += r;<br />
					}</p>
<p>					System.out.println(&quot;Echoed &quot; + bytesEchoed + &quot; from &quot; + sc);</p>
<p>					it.remove();<br />
				}</p>
<p>			}</p>
<p>			System.out.println(&quot;going to clear&quot;);<br />
			selectedKeys.clear();<br />
			System.out.println(&quot;cleared&quot;);<br />
		}<br />
	}<br />
}</p>
<p>测试：<br />
step(1)<br />
bing ports 8888, 9999:<br />
% java MultiPortEcho 8888 9999</p>
<p>step(2)<br />
send msgs to binded ports</p>
<p>% telnet localhost 8888 </p>
<p>type some messages: foo bar \n</p>
<p>then we will get the sent msges</p>
<p>good lucy~</p>
  </div>

<ul class="children">

 <li class="comment guest-comment" id="comment-27391">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://1.gravatar.com/avatar/4f1d4bb49c08e7795f5fcf0d8cf656e2?s=35&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/4f1d4bb49c08e7795f5fcf0d8cf656e2?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27391">

endershadow
</span>
     </li>
     <li class="comment-date">01/18. 2017 5:40pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-27391', 'comment-27391', 'comment-content-27391', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27391">
    <p>这种写法有问题，当quit telnet之后，程序会循环执行：<br />
System.out.println(&#8220;going to clear&#8221;);<br />
selectedKeys.clear();<br />
System.out.println(&#8220;cleared&#8221;);</p>
  </div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

 <li class="comment guest-comment" id="comment-27564">
  <div class="comment-meta">
   <div class="comment-meta-left">
  <img alt='' src='http://0.gravatar.com/avatar/395b5afb43750c69fad251fe4b830843?s=35&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/395b5afb43750c69fad251fe4b830843?s=70&#038;d=mm&#038;r=g 2x' class='avatar avatar-35 photo' height='35' width='35' />  
    <ul class="comment-name-date">
     <li class="comment-name">
<span id="commentauthor-27564">

3125002056
</span>
     </li>
     <li class="comment-date">04/06. 2017 1:13pm</li>
    </ul>
   </div>

   <ul class="comment-act">
    <li class="comment-reply"><a rel="nofollow" class="comment-reply-login" href="http://ifeve.com/wp-login.php?redirect_to=http%3A%2F%2Fifeve.com%2Fselectors%2F">Log in to Reply</a></li>
    <li class="comment-quote"><a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-27564', 'comment-27564', 'comment-content-27564', 'comment');">QUOTE</a></li>
       </ul>

  </div>
  <div class="comment-content" id="comment-content-27564">
    <p>close()</p>
<p>用完Selector后调用其close()方法会关闭该Selector，且使注册到该Selector上的所有SelectionKey实例无效。通道本身并不会关闭。<br />
Hi,这句话是不是有错？</p>
  </div>

</li><!-- #comment-## -->
  </ol>
  <!-- comments END -->

  
 </div><!-- #comment-list END -->


 <div id="trackback_area">
 <!-- start trackback -->
  <!-- trackback end -->
 </div><!-- #trackbacklist END -->

 


 
 <div class="comment_form_wrapper" id="respond">
    You must be <a href="http://ifeve.com/wp-login.php">logged in</a> to post a comment. </div>

 </div><!-- #comment end -->   </div>
   
      <div id="previous_next_post_single">
    <div class="clearfix">
     <p id="previous_post"><a href="http://ifeve.com/datagram-channel/" rel="prev">Java NIO系列教程（十） Java NIO DatagramChannel</a></p>     <p id="next_post"><a href="http://ifeve.com/concurrencybook/" rel="next">并发编程图书</a></p>    </div>
   </div>
   

  </div><!-- END #left_col -->

  <div id="container"></div>

    <div id="right_col">
   

<div class="side_box clearfix" id="side_meta_content">

  <ul id="social_link" class="clearfix">
    <li class="rss_button"><a class="target_blank" href="http://ifeve.com/feed/">rss</a></li>
       </ul>
 
  <div id="search_area">
    <form method="get" id="searchform" action="http://ifeve.com/">
   <div><input id="search_button" class="rollover" type="image" src="http://ifeve.com/wp-content/themes/flat/img/search_button.gif" alt="SEARCH" title="SEARCH" /></div>
   <div><input id="search_input" type="text" value="SEARCH" name="s" onfocus="if (this.value == 'SEARCH') this.value = '';" onblur="if (this.value == '') this.value = 'SEARCH';" /></div>
  </form>
   </div>
 
</div>


<div id="side_top">

 <div class="widget_text side_box widget_custom_html" id="custom_html-3">
<div class="textwidget custom-html-widget"><!-- 
<a href="https://cn.100offer.com/?utm_source=ifeve&utm_medium=display&utm_campaign=ifeve&campaign_code=ifeve" target="_blank"><img src="http://ifeve.com/wp-content/uploads/2017/09/WechatIMG70.jpeg" />
-->

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 首页－右上－2 -->
<ins class="adsbygoogle" style="display: inline-block; width: 336px; height: 280px;" data-ad-client="ca-pub-9394337417063147" data-ad-slot="8872369516"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div>
<div class="side_box widget_views" id="views-4">
<h3 class="side_title">热门文章</h3>
<ul>
<li><a href="http://ifeve.com/selectors/"  title="Google Guava官方教程（中文版）">Google Guava官方教程（中文版）</a> 577,987 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java NIO系列教程（一） Java NIO 概述">Java NIO系列教程（一） Java NIO 概述</a> 396,919 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java并发性和多线程介绍目录">Java并发性和多线程介绍目录</a> 276,168 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java NIO 系列教程">Java NIO 系列教程</a> 262,285 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java NIO系列教程（十二） Java NIO与IO">Java NIO系列教程（十二） Java NIO与IO</a> 224,200 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java8初体验（二）Stream语法详解">Java8初体验（二）Stream语法详解</a> 205,510 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java NIO系列教程（六） Selector">Java NIO系列教程（六） Selector</a> 198,515 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java NIO系列教程（三） Buffer">Java NIO系列教程（三） Buffer</a> 194,577 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java NIO系列教程（二） Channel">Java NIO系列教程（二） Channel</a> 192,809 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="《Storm入门》中文版">《Storm入门》中文版</a> 177,068 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="69道Spring面试题和答案">69道Spring面试题和答案</a> 165,829 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Netty 5用户指南">Netty 5用户指南</a> 159,767 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="面试题">面试题</a> 144,182 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="并发框架Disruptor译文">并发框架Disruptor译文</a> 142,693 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java 7 并发编程指南中文版">Java 7 并发编程指南中文版</a> 137,926 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java NIO系列教程（八） SocketChannel">Java NIO系列教程（八） SocketChannel</a> 126,941 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="[Google Guava] 3-缓存">[Google Guava] 3-缓存</a> 121,447 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="[Google Guava] 2.3-强大的集合工具类：ja...">[Google Guava] 2.3-强大的集合工具类：ja...</a> 120,786 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="[Google Guava] 1.1-使用和避免null">[Google Guava] 1.1-使用和避免null</a> 111,679 人阅读 </li><li><a href="http://ifeve.com/selectors/"  title="Java NIO系列教程（七） FileChannel">Java NIO系列教程（七） FileChannel</a> 109,987 人阅读 </li></ul>
</div>
<div class="widget_text side_box widget_custom_html" id="custom_html-4">
<div class="textwidget custom-html-widget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 首页－右上－2 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9394337417063147"
     data-ad-slot="8872369516"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div>
		<div class="side_box widget_recent_entries" id="recent-posts-2">
		<h3 class="side_title">Recent Posts</h3>
		<ul>
											<li>
					<a href="http://ifeve.com/consist-hash/">浅尝一致性Hash原理</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-threadmodel/">Dubbo剖析-线程模型</a>
									</li>
											<li>
					<a href="http://ifeve.com/%e5%88%86%e5%b8%83%e5%bc%8f%e7%90%86%e8%ae%ba%ef%bc%9acap%e6%98%af%e4%b8%89%e9%80%89%e4%ba%8c%e5%90%97/">分布式理论：CAP是三选二吗?</a>
									</li>
											<li>
					<a href="http://ifeve.com/jarslink161/">Jarslink1.6.1版本特性</a>
									</li>
											<li>
					<a href="http://ifeve.com/%e3%80%8a%e6%b7%b1%e5%85%a5%e5%88%86%e5%b8%83%e5%bc%8f%e7%bc%93%e5%ad%98%e3%80%8b%e4%b9%8b-%e7%bc%93%e5%ad%98%e4%b8%ba%e7%8e%8b/">《深入分布式缓存》之 “缓存为王”</a>
									</li>
											<li>
					<a href="http://ifeve.com/thrift/">《Thrift官方文档》翻译邀请</a>
									</li>
											<li>
					<a href="http://ifeve.com/%e3%80%8aapache-rocketmq%e7%94%a8%e6%88%b7%e6%8c%87%e5%8d%97%e3%80%8b%e4%b9%8b%e5%ae%9a%e6%97%b6%e6%b6%88%e6%81%af%e7%a4%ba%e4%be%8b/">《Apache RocketMQ用户指南》之定时消息示例</a>
									</li>
											<li>
					<a href="http://ifeve.com/spring-service-exportinvoker/">使用Spring框架实现远程服务暴露与调用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-consumer-invoker2interface/">Dubbo剖析-服务消费方Invoker到客户端接口的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-consumer-service2invoker/">Dubbo剖析-服务消费方远程服务到Invoker的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/linux%e9%9b%b6%e6%8b%b7%e8%b4%9d%e5%8e%9f%e7%90%86/">Linux零拷贝原理</a>
									</li>
											<li>
					<a href="http://ifeve.com/jarslink-opensource/">阿里再开源！模块化开发框架JarsLink</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-provider-invoker2exporter/">Dubbo剖析-服务提供方Invoker到Exporter的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-impl2invoker/">Dubbo剖析-服务提供方实现类到Invoker的转换</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-spi-auto-wrap/">Dubbo剖析-增强SPI中扩展点自动包装的实现</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-async-call/">Dubbo剖析-服务消费端异步调用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-p2p/">Dubbo剖析-服务直连</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-group-version/">Dubbo剖析-服务分组与服务版本号</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-monitor/">Dubbo剖析-监控平台的搭建与使用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-spi/">Dubbo剖析-增强SPI的实现</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-framework/">Dubbo剖析-整体架构分析</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-in-ecs/">《Linkerd官方文档》在ECS中运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-with-istio/">《Linkerd官方文档》与Istio一起运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-dc-os/">《Linkerd官方文档》在DC / OS中运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-console-manager/">Dubbo剖析-管理控制台的搭建与使用</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-in-kubernetes/">《Linkerd官方文档》在Kubernetes中运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo-generic/">Dubbo剖析-服务消费端泛化调用</a>
									</li>
											<li>
					<a href="http://ifeve.com/dubbo2/">Dubbo剖析-搭建一个简单的分布式系统（2）</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-with-docker/">《Linkerd官方文档》使用Docker运行Linkerd</a>
									</li>
											<li>
					<a href="http://ifeve.com/linkerd-run-locally/">《Linkerd官方文档》在本地运行Linkerd</a>
									</li>
					</ul>
		</div>
<div class="side_box widget_categories" id="categories-2">
<h3 class="side_title">Categories</h3>
		<ul>
	<li class="cat-item cat-item-415"><a href="http://ifeve.com/category/android/" >Android</a> (3)
</li>
	<li class="cat-item cat-item-289"><a href="http://ifeve.com/category/c/" >C++</a> (12)
</li>
	<li class="cat-item cat-item-366"><a href="http://ifeve.com/category/cpu-2/" >CPU</a> (2)
</li>
	<li class="cat-item cat-item-73"><a href="http://ifeve.com/category/framework/" >Framework</a> (72)
<ul class='children'>
	<li class="cat-item cat-item-387"><a href="http://ifeve.com/category/framework/akka/" >akka</a> (20)
</li>
</ul>
</li>
	<li class="cat-item cat-item-458"><a href="http://ifeve.com/category/go/" >GO</a> (6)
</li>
	<li class="cat-item cat-item-617"><a href="http://ifeve.com/category/groovy/" >groovy</a> (6)
</li>
	<li class="cat-item cat-item-310"><a href="http://ifeve.com/category/guava-2/" >guava</a> (23)
</li>
	<li class="cat-item cat-item-69"><a href="http://ifeve.com/category/java/" >JAVA</a> (816)
</li>
	<li class="cat-item cat-item-127"><a href="http://ifeve.com/category/jvm/" >JVM</a> (40)
</li>
	<li class="cat-item cat-item-300"><a href="http://ifeve.com/category/linux/" >linux</a> (9)
</li>
	<li class="cat-item cat-item-1061"><a href="http://ifeve.com/category/microservices/" >microservices</a> (1)
</li>
	<li class="cat-item cat-item-280"><a href="http://ifeve.com/category/netty/" >Netty</a> (31)
</li>
	<li class="cat-item cat-item-632"><a href="http://ifeve.com/category/react/" >react</a> (6)
</li>
	<li class="cat-item cat-item-623"><a href="http://ifeve.com/category/redis/" >redis</a> (23)
</li>
	<li class="cat-item cat-item-166"><a href="http://ifeve.com/category/scala/" >Scala</a> (11)
</li>
	<li class="cat-item cat-item-672"><a href="http://ifeve.com/category/spark/" >spark</a> (19)
</li>
	<li class="cat-item cat-item-1011"><a href="http://ifeve.com/category/spring/" >Spring</a> (23)
</li>
	<li class="cat-item cat-item-388"><a href="http://ifeve.com/category/storm/" >storm</a> (44)
</li>
	<li class="cat-item cat-item-620"><a href="http://ifeve.com/category/thinking/" >thinking</a> (3)
</li>
	<li class="cat-item cat-item-485"><a href="http://ifeve.com/category/velocity/" >Velocity</a> (10)
</li>
	<li class="cat-item cat-item-279"><a href="http://ifeve.com/category/web/" >Web</a> (18)
</li>
	<li class="cat-item cat-item-980"><a href="http://ifeve.com/category/zookeeper/" >zookeeper</a> (1)
</li>
	<li class="cat-item cat-item-148"><a href="http://ifeve.com/category/notice/" >公告</a> (5)
</li>
	<li class="cat-item cat-item-378"><a href="http://ifeve.com/category/bigdata/" >大数据</a> (33)
</li>
	<li class="cat-item cat-item-138"><a href="http://ifeve.com/category/%e5%a5%bd%e6%96%87%e6%8e%a8%e8%8d%90/" >好文推荐</a> (31)
</li>
	<li class="cat-item cat-item-244"><a href="http://ifeve.com/category/%e5%b9%b6%e5%8f%91%e4%b9%a6%e7%b1%8d/" >并发书籍</a> (97)
</li>
	<li class="cat-item cat-item-29"><a href="http://ifeve.com/category/concurrency-translation/" title="发布国外并发编程相关文献译文。">并发译文</a> (410)
</li>
	<li class="cat-item cat-item-979"><a href="http://ifeve.com/category/%e6%84%9f%e6%82%9f/" >感悟</a> (3)
</li>
	<li class="cat-item cat-item-7"><a href="http://ifeve.com/category/ask/" title="可以在这里发表并发编程的问题。如何发表？用QQ登陆，然后点击“新建文章”，管理员审核后就可以发表。">技术问答</a> (12)
</li>
	<li class="cat-item cat-item-147"><a href="http://ifeve.com/category/%e6%95%8f%e6%8d%b7%e7%ae%a1%e7%90%86/" >敏捷管理</a> (6)
</li>
	<li class="cat-item cat-item-1"><a href="http://ifeve.com/category/talk-concurrent/" >本站原创</a> (87)
</li>
	<li class="cat-item cat-item-367"><a href="http://ifeve.com/category/%e6%9e%b6%e6%9e%84/" >架构</a> (32)
</li>
	<li class="cat-item cat-item-305"><a href="http://ifeve.com/category/%e6%b4%bb%e5%8a%a8/" >活动</a> (6)
</li>
	<li class="cat-item cat-item-414"><a href="http://ifeve.com/category/%e7%bd%91%e7%bb%9c/" >网络</a> (7)
</li>
		</ul>
</div>
</div>
<div id="side_middle" class="clearfix">
 <div id="side_left">
   </div>
 <div id="side_right">
   </div>
</div>
<div id="side_bottom">
 <div class="side_box widget_tag_cloud" id="tag_cloud-4">
<h3 class="side_title">Tags</h3>
<div class="tagcloud"><a href="http://ifeve.com/tag/actor/" class="tag-cloud-link tag-link-226 tag-link-position-1" style="font-size: 12.623853211009pt;" aria-label="actor (17 items)">actor</a>
<a href="http://ifeve.com/tag/basic/" class="tag-cloud-link tag-link-213 tag-link-position-2" style="font-size: 11.596330275229pt;" aria-label="Basic (14 items)">Basic</a>
<a href="http://ifeve.com/tag/classes/" class="tag-cloud-link tag-link-251 tag-link-position-3" style="font-size: 8.6422018348624pt;" aria-label="classes (8 items)">classes</a>
<a href="http://ifeve.com/tag/collections/" class="tag-cloud-link tag-link-260 tag-link-position-4" style="font-size: 10.311926605505pt;" aria-label="collections (11 items)">collections</a>
<a href="http://ifeve.com/tag/concurrency/" class="tag-cloud-link tag-link-111 tag-link-position-5" style="font-size: 20.45871559633pt;" aria-label="concurrency (73 items)">concurrency</a>
<a href="http://ifeve.com/tag/concurrent/" class="tag-cloud-link tag-link-214 tag-link-position-6" style="font-size: 10.697247706422pt;" aria-label="Concurrent (12 items)">Concurrent</a>
<a href="http://ifeve.com/tag/concurrent-data-structure/" class="tag-cloud-link tag-link-322 tag-link-position-7" style="font-size: 11.211009174312pt;" aria-label="concurrent data structure (13 items)">concurrent data structure</a>
<a href="http://ifeve.com/tag/customizing/" class="tag-cloud-link tag-link-250 tag-link-position-8" style="font-size: 8.6422018348624pt;" aria-label="Customizing (8 items)">Customizing</a>
<a href="http://ifeve.com/tag/executor/" class="tag-cloud-link tag-link-177 tag-link-position-9" style="font-size: 13.394495412844pt;" aria-label="Executor (20 items)">Executor</a>
<a href="http://ifeve.com/tag/executor-framework/" class="tag-cloud-link tag-link-231 tag-link-position-10" style="font-size: 12.880733944954pt;" aria-label="Executor framework (18 items)">Executor framework</a>
<a href="http://ifeve.com/tag/false-sharing/" class="tag-cloud-link tag-link-119 tag-link-position-11" style="font-size: 8pt;" aria-label="False Sharing (7 items)">False Sharing</a>
<a href="http://ifeve.com/tag/faq/" class="tag-cloud-link tag-link-39 tag-link-position-12" style="font-size: 11.211009174312pt;" aria-label="faq (13 items)">faq</a>
<a href="http://ifeve.com/tag/fork/" class="tag-cloud-link tag-link-232 tag-link-position-13" style="font-size: 10.697247706422pt;" aria-label="fork (12 items)">fork</a>
<a href="http://ifeve.com/tag/forkjoin/" class="tag-cloud-link tag-link-224 tag-link-position-14" style="font-size: 9.2844036697248pt;" aria-label="Fork/Join (9 items)">Fork/Join</a>
<a href="http://ifeve.com/tag/fork-join/" class="tag-cloud-link tag-link-53 tag-link-position-15" style="font-size: 8.6422018348624pt;" aria-label="fork join (8 items)">fork join</a>
<a href="http://ifeve.com/tag/framework/" class="tag-cloud-link tag-link-1018 tag-link-position-16" style="font-size: 14.165137614679pt;" aria-label="Framework (23 items)">Framework</a>
<a href="http://ifeve.com/tag/functional-programming/" class="tag-cloud-link tag-link-460 tag-link-position-17" style="font-size: 9.7981651376147pt;" aria-label="Functional Programming (10 items)">Functional Programming</a>
<a href="http://ifeve.com/tag/guava/" class="tag-cloud-link tag-link-309 tag-link-position-18" style="font-size: 11.853211009174pt;" aria-label="Guava (15 items)">Guava</a>
<a href="http://ifeve.com/tag/io/" class="tag-cloud-link tag-link-129 tag-link-position-19" style="font-size: 14.807339449541pt;" aria-label="IO (26 items)">IO</a>
<a href="http://ifeve.com/tag/java/" class="tag-cloud-link tag-link-1016 tag-link-position-20" style="font-size: 22pt;" aria-label="JAVA (96 items)">JAVA</a>
<a href="http://ifeve.com/tag/java8/" class="tag-cloud-link tag-link-342 tag-link-position-21" style="font-size: 11.211009174312pt;" aria-label="java8 (13 items)">java8</a>
<a href="http://ifeve.com/tag/jmm/" class="tag-cloud-link tag-link-31 tag-link-position-22" style="font-size: 15.834862385321pt;" aria-label="jmm (31 items)">jmm</a>
<a href="http://ifeve.com/tag/join/" class="tag-cloud-link tag-link-233 tag-link-position-23" style="font-size: 10.697247706422pt;" aria-label="join (12 items)">join</a>
<a href="http://ifeve.com/tag/jvm/" class="tag-cloud-link tag-link-1019 tag-link-position-24" style="font-size: 12.880733944954pt;" aria-label="JVM (18 items)">JVM</a>
<a href="http://ifeve.com/tag/lock/" class="tag-cloud-link tag-link-17 tag-link-position-25" style="font-size: 14.165137614679pt;" aria-label="lock (23 items)">lock</a>
<a href="http://ifeve.com/tag/memory-barriers/" class="tag-cloud-link tag-link-75 tag-link-position-26" style="font-size: 9.7981651376147pt;" aria-label="Memory Barriers (10 items)">Memory Barriers</a>
<a href="http://ifeve.com/tag/netty/" class="tag-cloud-link tag-link-1027 tag-link-position-27" style="font-size: 13.137614678899pt;" aria-label="Netty (19 items)">Netty</a>
<a href="http://ifeve.com/tag/nio/" class="tag-cloud-link tag-link-1021 tag-link-position-28" style="font-size: 12.238532110092pt;" aria-label="NIO (16 items)">NIO</a>
<a href="http://ifeve.com/tag/oauth-2-0/" class="tag-cloud-link tag-link-380 tag-link-position-29" style="font-size: 8.6422018348624pt;" aria-label="OAuth 2.0 (8 items)">OAuth 2.0</a>
<a href="http://ifeve.com/tag/pattern-matching/" class="tag-cloud-link tag-link-167 tag-link-position-30" style="font-size: 8.6422018348624pt;" aria-label="pattern-matching (8 items)">pattern-matching</a>
<a href="http://ifeve.com/tag/ringbuffer/" class="tag-cloud-link tag-link-91 tag-link-position-31" style="font-size: 8pt;" aria-label="RingBuffer (7 items)">RingBuffer</a>
<a href="http://ifeve.com/tag/scala/" class="tag-cloud-link tag-link-1023 tag-link-position-32" style="font-size: 13.908256880734pt;" aria-label="Scala (22 items)">Scala</a>
<a href="http://ifeve.com/tag/service-mesh/" class="tag-cloud-link tag-link-1063 tag-link-position-33" style="font-size: 8.6422018348624pt;" aria-label="service mesh (8 items)">service mesh</a>
<a href="http://ifeve.com/tag/slf4j/" class="tag-cloud-link tag-link-813 tag-link-position-34" style="font-size: 8.6422018348624pt;" aria-label="slf4j (8 items)">slf4j</a>
<a href="http://ifeve.com/tag/spark/" class="tag-cloud-link tag-link-634 tag-link-position-35" style="font-size: 12.623853211009pt;" aria-label="spark (17 items)">spark</a>
<a href="http://ifeve.com/tag/spark%e5%ae%98%e6%96%b9%e6%96%87%e6%a1%a3/" class="tag-cloud-link tag-link-635 tag-link-position-36" style="font-size: 12.623853211009pt;" aria-label="spark官方文档 (17 items)">spark官方文档</a>
<a href="http://ifeve.com/tag/stm/" class="tag-cloud-link tag-link-199 tag-link-position-37" style="font-size: 10.697247706422pt;" aria-label="stm (12 items)">stm</a>
<a href="http://ifeve.com/tag/storm/" class="tag-cloud-link tag-link-351 tag-link-position-38" style="font-size: 16.990825688073pt;" aria-label="Storm (39 items)">Storm</a>
<a href="http://ifeve.com/tag/synchronization/" class="tag-cloud-link tag-link-216 tag-link-position-39" style="font-size: 11.853211009174pt;" aria-label="synchronization (15 items)">synchronization</a>
<a href="http://ifeve.com/tag/synchronized/" class="tag-cloud-link tag-link-15 tag-link-position-40" style="font-size: 9.7981651376147pt;" aria-label="Synchronized (10 items)">Synchronized</a>
<a href="http://ifeve.com/tag/thread/" class="tag-cloud-link tag-link-11 tag-link-position-41" style="font-size: 17.504587155963pt;" aria-label="thread (43 items)">thread</a>
<a href="http://ifeve.com/tag/tomcat/" class="tag-cloud-link tag-link-347 tag-link-position-42" style="font-size: 9.2844036697248pt;" aria-label="tomcat (9 items)">tomcat</a>
<a href="http://ifeve.com/tag/volatile/" class="tag-cloud-link tag-link-25 tag-link-position-43" style="font-size: 11.211009174312pt;" aria-label="volatile (13 items)">volatile</a>
<a href="http://ifeve.com/tag/%e5%a4%9a%e7%ba%bf%e7%a8%8b/" class="tag-cloud-link tag-link-197 tag-link-position-44" style="font-size: 9.2844036697248pt;" aria-label="多线程 (9 items)">多线程</a>
<a href="http://ifeve.com/tag/%e5%b9%b6%e5%8f%91%e8%af%91%e6%96%87%ef%bc%8cjava-%ef%bc%8cmaven/" class="tag-cloud-link tag-link-1034 tag-link-position-45" style="font-size: 16.605504587156pt;" aria-label="并发译文，Java ，Maven (36 items)">并发译文，Java ，Maven</a></div>
</div>
<div class="widget_text side_box widget_custom_html" id="custom_html-2">
<div class="textwidget custom-html-widget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 摩天大楼 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9394337417063147"
     data-ad-slot="6358703113"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- 
<script type="text/javascript">
    /*自适应 创建于 June 30, 2016*/
    var cpro_id = "u2690738";

<script type="text/javascript" src="http://cpro.baidustatic.com/cpro/ui/i.js"></script>
 -->

<!-- CNZZ -->
<script src="http://s22.cnzz.com/stat.php?id=5003572&web_id=5003572&show=pic" language="JavaScript"></script></div></div>
</div>

  </div>
  
  <div id="footer">

<ul id="copyright">
    <li>Copyright &copy;&nbsp; <a href="http://ifeve.com/">并发编程网 &#8211; ifeve.com</a></li>
    <li>ICP号: <a href="http://www.miibeian.gov.cn" target="_blank">浙ICP备12046809号</a></li>
 <li>	
<a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602005873" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="" style="float:left;"/>浙公网安备 33010602005873号</a></li>
   </ul>
		 
		 

 </div>

	
 </div><!-- END #main_content -->

  <p id="return_top"><a href="#header">return top</a></p>
 
<script type='text/javascript' src='http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/shCore.js?ver=2.1.364'></script>
<script type='text/javascript' src='http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/shBrushJava.js?ver=2.1.364'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/styles/shCore.css?ver=2.1.364";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/styles/shThemeEclipse.css?ver=2.1.364";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.clipboardSwf = 'http://ifeve.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf';
	SyntaxHighlighter.config.strings.expandSource = 'show source';
	SyntaxHighlighter.config.strings.viewSource = 'view source';
	SyntaxHighlighter.config.strings.copyToClipboard = 'copy to clipboard';
	SyntaxHighlighter.config.strings.copyToClipboardConfirmation = 'The code is in your clipboard now';
	SyntaxHighlighter.config.strings.print = 'print';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.all();
</script>
<link rel='stylesheet' id='yarppRelatedCss-css'  href='http://ifeve.com/wp-content/plugins/yet-another-related-posts-plugin/style/related.css?ver=4.9.5' type='text/css' media='all' />
<script type='text/javascript' src='http://ifeve.com/wp-includes/js/jquery/ui/core.min.js?ver=1.11.4'></script>
<script type='text/javascript' src='http://ifeve.com/wp-includes/js/jquery/ui/widget.min.js?ver=1.11.4'></script>
<script type='text/javascript' src='http://ifeve.com/wp-includes/js/jquery/ui/tabs.min.js?ver=1.11.4'></script>
<script type='text/javascript' src='http://ifeve.com/wp-includes/js/comment-reply.min.js?ver=4.9.5'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var ratingsL10n = {"plugin_url":"http:\/\/ifeve.com\/wp-content\/plugins\/wp-postratings","ajax_url":"http:\/\/ifeve.com\/wp-admin\/admin-ajax.php","text_wait":"Please rate only 1 item at a time.","image":"stars_crystal","image_ext":"gif","max":"5","show_loading":"1","show_fading":"1","custom":"0"};
var ratings_mouseover_image=new Image();ratings_mouseover_image.src="http://ifeve.com/wp-content/plugins/wp-postratings/images/stars_crystal/rating_over.gif";;
/* ]]> */
</script>
<script type='text/javascript' src='http://ifeve.com/wp-content/plugins/wp-postratings/js/postratings-js.js?ver=1.85'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/ifeve.com\/wp-admin\/admin-ajax.php","post_id":"5396"};
/* ]]> */
</script>
<script type='text/javascript' src='http://ifeve.com/wp-content/plugins/wp-postviews/postviews-cache.js?ver=1.68'></script>
<script type='text/javascript' src='http://ifeve.com/wp-includes/js/wp-embed.min.js?ver=4.9.5'></script>
</body>
</html>

<script src="http://ajax.useso.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>

<script src="http://coolshell.cn//wp-content/themes/inove/js/jquery.bpopup-0.8.0.min.js"></script>

<!-- Dynamic page generated in 0.832 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-04-07 10:50:59 -->

<!-- Compression = gzip -->
<!-- super cache -->